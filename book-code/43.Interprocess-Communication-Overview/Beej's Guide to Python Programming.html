<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Beej's Guide to Python Programming</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      word-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <link href="https://fonts.googleapis.com/css?family=Roboto|Roboto+Mono&display=swap" rel="stylesheet"> 

  <!-- BG custom styling -->
  <style type="text/css">
  body {
  	max-width: 800px;
  	margin-left: auto;
  	margin-right: auto;
  	padding: 10px;
  	font-family: "Roboto", sans-serif;
  }

  figure {
  	text-align: center;
  	font-style: italic;
  }

  pre {
  	font-family: "Roboto Mono", monospace;
  	padding: 10px;
  }

  /*
  pre.shell {
      margin-left: 3em;
      border-left: 1px solid #aaaaaa;
      padding-left: 4px;
  }

  pre.sourceCode {
      margin-left: 3em;
      border-left: 1px solid #aaaaaa;
      padding-left: 4px;
  }
  */

  code {
  	font-family: "Roboto Mono", monospace;
  }

  td, th {
  	padding: 0 10px 0 10px;
  }

  thead {
  	text-decoration: underline;
  }

  table {
  	border-top: 2px solid black;
  	border-bottom: 2px solid black;
  	margin-left: auto;
  	margin-right: auto;
  	padding: 8px 0 10px 0;
  	margin-block-start: 1em;
  	margin-block-end: 1em;
  }

  div.sourceCode {
  	overflow: inherit; /* override */
  }

  pre > code.sourceCode > span > a:first-child::before {
      text-decoration: none; /* override */
  }

  p.subtitle {
  	font-size: 1.3em;
  	font-weight: bold;
  }
  </style>
</head>
<body>
<header id="title-block-header">
<h1 class="title">Beej's Guide to Python Programming</h1>
<p class="subtitle">For Beginners</p>
<p class="author">Brian “Beej Jorgensen” Hall</p>
<p class="date">v0.0.8, Copyright © November 11, 2020</p>
</header>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#intro">Intro</a>
<ul>
<li><a href="#audience">Audience</a></li>
<li><a href="#platform-and-tools">Platform and Tools</a></li>
<li><a href="#official-homepage-and-books-for-sale">Official Homepage and Books For Sale</a></li>
<li><a href="#email-policy">Email Policy</a></li>
<li><a href="#mirroring">Mirroring</a></li>
<li><a href="#note-for-translators">Note for Translators</a></li>
<li><a href="#legal">Copyright, Distribution, and Legal</a></li>
<li><a href="#dedication">Dedication</a></li>
<li><a href="#publishing-information">Publishing Information</a></li>
</ul></li>
<li><a href="#what-is-programming-anyway">What is Programming, Anyway?</a>
<ul>
<li><a href="#objectives">Objectives</a></li>
<li><a href="#more-terminology-than-you-wanted">More Terminology Than You Wanted</a></li>
<li><a href="#whats-this-talk-about-problem-solving">What’s This Talk About Problem Solving?</a></li>
<li><a href="#problem-solving">So How To Solve It?</a></li>
<li><a href="#what-is-python">What is Python?</a></li>
<li><a href="#summary">Summary</a></li>
</ul></li>
<li><a href="#what-software-will-i-need">What software will I need?</a>
<ul>
<li><a href="#objectives-1">Objectives</a></li>
<li><a href="#what-are-all-these-things">What are all these things?</a></li>
<li><a href="#terminalshell">Terminal/Shell</a>
<ul>
<li><a href="#windows">Windows</a></li>
<li><a href="#windows-gitbash-optional">Windows gitbash (optional)</a></li>
<li><a href="#windows-shell-app-optional">Windows Shell App (optional)</a></li>
<li><a href="#windows-wsl-optional">Windows WSL (optional)</a></li>
<li><a href="#mac">Mac</a></li>
<li><a href="#linuxunix-likes">Linux/Unix-likes</a></li>
</ul></li>
<li><a href="#code-editor">Code editor</a>
<ul>
<li><a href="#windows-vs-code">Windows VS Code</a></li>
<li><a href="#mac-1">Mac</a></li>
<li><a href="#linux-and-other-unix-likes">Linux and other Unix-likes</a></li>
</ul></li>
<li><a href="#python-itself">Python itself!</a>
<ul>
<li><a href="#a-note-on-python2-versus-python3">A note on Python2 versus Python3</a></li>
<li><a href="#checking-to-see-if-you-already-have-python-installed">Checking to see if you already have Python installed</a></li>
<li><a href="#windows-native">Windows native</a></li>
<li><a href="#windows-wsl">Windows WSL</a></li>
<li><a href="#mac-2">Mac</a></li>
<li><a href="#linuxunix-likes-1">Linux/Unix-likes</a></li>
</ul></li>
<li><a href="#summary-1">Summary</a></li>
</ul></li>
<li><a href="#how-do-i-write-a-program">How do I write a program?</a>
<ul>
<li><a href="#objectives-2">Objectives</a></li>
<li><a href="#the-problem-that-needs-solving">The Problem That Needs Solving</a></li>
<li><a href="#start-with-the-terminal">Start with the Terminal</a></li>
<li><a href="#launching-your-code-editor">Launching your code editor</a></li>
<li><a href="#running-the-program">Running the Program!</a></li>
<li><a href="#exercises">Exercises</a></li>
<li><a href="#summary-2">Summary</a></li>
</ul></li>
<li><a href="#data-and-processing-data">Data and Processing Data</a>
<ul>
<li><a href="#objective">Objective</a></li>
<li><a href="#data-variables-and-math">Data, Variables, and Math</a></li>
<li><a href="#var-assignment">Assiging from One Variable to Another</a></li>
<li><a href="#your-mental-model-of-computation">Your Mental Model of Computation</a></li>
<li><a href="#user-input">User Input</a></li>
<li><a href="#data-types">Data Types</a></li>
<li><a href="#converting-between-data-types">Converting Between Data Types</a></li>
<li><a href="#input-two-numbers-and-print-the-sum">Input Two Numbers and Print the Sum</a></li>
<li><a href="#wrapping-it-up">Wrapping it Up</a></li>
<li><a href="#exercises-1">Exercises</a></li>
<li><a href="#summary-3">Summary</a></li>
</ul></li>
<li><a href="#flow-control-and-looping">Flow Control and Looping</a>
<ul>
<li><a href="#objective-1">Objective</a></li>
<li><a href="#loop-proj-spec">Chapter Project Specification</a></li>
<li><a href="#what-is-flow-control">What is Flow Control?</a></li>
<li><a href="#boolean-algebra-and-expressions">Boolean Algebra and Expressions</a></li>
<li><a href="#boolean-operations-in-python">Boolean Operations in Python</a></li>
<li><a href="#the-almighty-if-statement">The Almighty <code>if</code> Statement</a></li>
<li><a href="#and-now-while-loops">And Now: <code>while</code> Loops!</a></li>
<li><a href="#looping-for-loops">Looping: <code>for</code> Loops</a></li>
<li><a href="#when-while-and-when-for">When <code>while</code> and When <code>for</code>?</a></li>
<li><a href="#chapter-project">Chapter Project</a></li>
<li><a href="#exercises-2">Exercises</a></li>
<li><a href="#summary-4">Summary</a></li>
</ul></li>
<li><a href="#strings">Strings</a>
<ul>
<li><a href="#objective-2">Objective</a></li>
<li><a href="#strings-proj-spec">Chapter Project Specification</a></li>
<li><a href="#what-is-a-string">What is a String?</a></li>
<li><a href="#creating-strings">Creating Strings</a></li>
<li><a href="#converting-other-types-to-strings-and-vice-versa">Converting Other Types To Strings and Vice Versa</a></li>
<li><a href="#string-concatenation-with">String Concatenation with <code>+</code></a></li>
<li><a href="#midterm-challenge">Midterm Challenge</a></li>
<li><a href="#getting-individual-characters-from-strings">Getting Individual Characters From Strings</a></li>
<li><a href="#slices">Slices</a></li>
<li><a href="#midterm-challenge-1">Midterm Challenge</a></li>
<li><a href="#interlude-mutable-versus-immutable-types">Interlude: Mutable versus Immutable Types</a></li>
<li><a href="#for-loops-with-strings"><code>for</code>-loops with Strings</a></li>
<li><a href="#string-functions-and-methods">String Functions and Methods</a></li>
<li><a href="#formatted-output-with-f-strings">Formatted Output with F-Strings</a>
<ul>
<li><a href="#format-method"><code>.format()</code> Method</a></li>
<li><a href="#printf-operator"><code>%</code> printf Operator</a></li>
</ul></li>
<li><a href="#chapter-project-1">Chapter Project</a></li>
<li><a href="#exercises-3">Exercises</a></li>
<li><a href="#summary-5">Summary</a></li>
</ul></li>
<li><a href="#lists">Lists</a>
<ul>
<li><a href="#objective-3">Objective</a></li>
<li><a href="#lists-proj-spec">Chapter Project Specification</a></li>
<li><a href="#what-are-lists">What Are Lists?</a></li>
<li><a href="#list-assignments">List Assignments</a></li>
<li><a href="#for-and-listspowerful-stuff"><code>for</code> and Lists—Powerful Stuff</a></li>
<li><a href="#for-and-enumerate"><code>for</code> and <code>enumerate()</code></a></li>
<li><a href="#midterm-doubling-the-values">Midterm: Doubling The Values</a></li>
<li><a href="#built-in-functions-for-lists">Built-in Functions for Lists</a></li>
<li><a href="#what-good-are-they">What Good Are They?</a></li>
<li><a href="#midterm-challenge-2">Midterm Challenge</a></li>
<li><a href="#building-new-lists-repeating-and-empty">Building New Lists, Repeating and Empty</a></li>
<li><a href="#list-comprehensions">List Comprehensions</a></li>
<li><a href="#lists-of-lists">Lists of Lists</a></li>
<li><a href="#chapter-project-implementation">Chapter Project Implementation</a></li>
<li><a href="#exercises-4">Exercises</a></li>
<li><a href="#summary-6">Summary</a></li>
</ul></li>
<li><a href="#dictionaries">Dictionaries</a>
<ul>
<li><a href="#objective-4">Objective</a></li>
<li><a href="#dicts-proj-spec">Chapter Project Specification</a></li>
<li><a href="#what-are-dictionaries">What are Dictionaries?</a></li>
<li><a href="#initializing-a-dictionary">Initializing a Dictionary</a></li>
<li><a href="#speed-demon">Speed Demon</a></li>
<li><a href="#does-this-dict-have-this-key">Does this <code>dict</code> have this key?</a></li>
<li><a href="#iterating-over-dictionaries">Iterating over Dictionaries</a></li>
<li><a href="#common-built-in-dictionary-functionality">Common Built-in Dictionary Functionality</a></li>
<li><a href="#dictionary-comprehensions">Dictionary Comprehensions</a></li>
<li><a href="#dictionaries-of-dictionaries">Dictionaries of Dictionaries</a></li>
<li><a href="#dictionaries-are-mutable">Dictionaries are Mutable</a></li>
<li><a href="#the-chapter-project">The Chapter Project</a></li>
<li><a href="#exercises-5">Exercises</a></li>
<li><a href="#summary-7">Summary</a></li>
</ul></li>
<li><a href="#functions">Functions</a>
<ul>
<li><a href="#objective-5">Objective</a></li>
<li><a href="#func-proj-spec">Chapter Project Specification</a></li>
<li><a href="#what-are-functions">What Are Functions?</a></li>
<li><a href="#using-built-in-functions">Using Built-In Functions</a></li>
<li><a href="#arguments">Arguments</a></li>
<li><a href="#writing-your-own-functions">Writing Your Own Functions</a></li>
<li><a href="#multiple-return-values">Multiple Return Values</a></li>
<li><a href="#what-makes-a-good-function">What Makes a Good Function</a></li>
<li><a href="#positional-arguments-versus-keyword-arguments">Positional Arguments versus Keyword Arguments</a></li>
<li><a href="#interlude-evaluation-strategies">Interlude: Evaluation Strategies</a></li>
<li><a href="#the-chapter-project-1">The Chapter Project</a></li>
<li><a href="#exercises-6">Exercises</a></li>
<li><a href="#summary-8">Summary</a></li>
</ul></li>
<li><a href="#classes-and-objects">Classes and Objects</a>
<ul>
<li><a href="#objective-6">Objective</a></li>
<li><a href="#class-proj-spec">Chapter Project Specification</a></li>
<li><a href="#what-problem-are-we-even-trying-to-solve">What Problem Are We Even Trying To Solve?</a></li>
<li><a href="#what-are-classes-and-objects">What are Classes and Objects?</a></li>
<li><a href="#making-different-starships">Making Different StarShips</a></li>
<li><a href="#attributes">Attributes</a></li>
<li><a href="#using-attributes">Using Attributes</a></li>
<li><a href="#more-on-methods">More on Methods</a></li>
<li><a href="#pretty-printing">Pretty Printing</a></li>
<li><a href="#objects-are-mutable">Objects are Mutable</a></li>
<li><a href="#objects-and-none">Objects and <code>None</code></a></li>
<li><a href="#testing-for-attributes">Testing for Attributes</a></li>
<li><a href="#chapter-project-2">Chapter Project</a></li>
<li><a href="#exercises-7">Exercises</a></li>
<li><a href="#summary-9">Summary</a></li>
</ul></li>
<li><a href="#importing-modules">Importing Modules</a>
<ul>
<li><a href="#objective-7">Objective</a></li>
<li><a href="#mod-proj-spec">Chapter Project Specification</a></li>
<li><a href="#what-and-why-of-modules">What and Why of Modules</a></li>
<li><a href="#using-a-module">Using a Module</a></li>
<li><a href="#command-line-arguments">Command Line Arguments</a></li>
<li><a href="#printing-calendars">Printing Calendars</a></li>
<li><a href="#importing-specific-attributes">Importing Specific Attributes</a></li>
<li><a href="#learning-all-the-modules">Learning All The Modules</a></li>
<li><a href="#chapter-project-3">Chapter Project</a></li>
<li><a href="#exercises-8">Exercises</a></li>
<li><a href="#summary-10">Summary</a></li>
</ul></li>
<li><a href="#reading-files">Reading Files</a>
<ul>
<li><a href="#objective-8">Objective</a></li>
<li><a href="#file1-proj-spec">Project</a></li>
<li><a href="#what-are-files-anyway">What are Files, Anyway?</a></li>
<li><a href="#reading-files-the-classic-way">Reading Files, The Classic Way</a></li>
<li><a href="#opening-files-with-with">Opening Files with <code>with</code></a></li>
<li><a href="#file1-line-at-a-time">Reading Data a Line at a Time</a></li>
<li><a href="#writing-files">Writing files</a></li>
<li><a href="#chapter-project-4">Chapter Project</a></li>
<li><a href="#exercises-9">Exercises</a></li>
<li><a href="#summary-11">Summary</a></li>
</ul></li>
<li><a href="#exceptions">Exceptions</a>
<ul>
<li><a href="#objective-9">Objective</a></li>
<li><a href="#exc-proj-spec">Project</a></li>
<li><a href="#errors-in-programs">Errors in Programs</a></li>
<li><a href="#classic-error-handling">Classic Error Handling</a></li>
<li><a href="#error-handling-with-exceptions">Error Handling with Exceptions</a></li>
<li><a href="#catching-exceptions">Catching Exceptions</a></li>
<li><a href="#catching-multiple-exceptions">Catching Multiple Exceptions</a></li>
<li><a href="#catching-multiple-exceptions-ii">Catching Multiple Exceptions II</a></li>
<li><a href="#exc-more-info">Getting More Exception Information</a></li>
<li><a href="#catching-all-exceptions">Catching All Exceptions</a></li>
<li><a href="#finally-finally">Finally <code>finally</code></a></li>
<li><a href="#what-else-else">What Else? <code>else</code>!</a></li>
<li><a href="#exception-objects">Exception Objects</a></li>
<li><a href="#raising-exceptions">Raising Exceptions</a></li>
<li><a href="#re-raising-exceptions">Re-raising Exceptions</a></li>
<li><a href="#project-implementation">Project Implementation</a></li>
<li><a href="#exercises-10">Exercises</a></li>
<li><a href="#summary-12">Summary</a></li>
</ul></li>
<li><a href="#appendix-a-basic-math-for-programmers">Appendix A: Basic Math for Programmers</a>
<ul>
<li><a href="#arithmetic">Arithmetic</a></li>
<li><a href="#division-in-python">Division in Python</a></li>
<li><a href="#modulo-aka-remainder">Modulo, AKA Remainder</a></li>
<li><a href="#negative-numbers">Negative numbers</a></li>
<li><a href="#absolute-value">Absolute Value</a></li>
<li><a href="#the-power-of-exponents">The Power of Exponents</a></li>
<li><a href="#parentheses">Parentheses</a></li>
<li><a href="#square-root">Square root</a></li>
<li><a href="#factorial">Factorial</a></li>
<li><a href="#scientific-notation">Scientific notation</a></li>
<li><a href="#logarithms">Logarithms</a></li>
<li><a href="#rounding">Rounding</a></li>
<li><a href="#large-numbers">Large Numbers</a></li>
</ul></li>
<li><a href="#repl">Appendix B: The REPL</a>
<ul>
<li><a href="#what-is-the-repl">What is the REPL?</a></li>
<li><a href="#calculator">Calculator</a></li>
<li><a href="#getting-help">Getting Help</a></li>
<li><a href="#dirquick-and-dirty-help"><code>dir()</code>—Quick and Dirty Help</a></li>
<li><a href="#getting-out-of-the-repl">Getting out of the REPL</a></li>
</ul></li>
<li><a href="#assignment-behavior">Appendix C: Assignment Behavior</a>
<ul>
<li><a href="#how-this-relates-to-functions">How This Relates To Functions</a></li>
<li><a href="#is-any-of-this-true">Is Any of This True?</a></li>
<li><a href="#python-compiler-optimizations">Python Compiler Optimizations</a></li>
<li><a href="#internment">Internment</a></li>
</ul></li>
<li><a href="#appendix-d-number-bases">Appendix D: Number Bases</a>
<ul>
<li><a href="#how-to-count-like-a-boss">How to Count like a Boss</a></li>
<li><a href="#number-bases">Number Bases</a></li>
<li><a href="#hexadecimal-base-16">Hexadecimal, Base 16</a></li>
<li><a href="#specifying-the-number-base-in-python">Specifying the Number Base in Python</a></li>
</ul></li>
</ul>
</nav>
<!-- 
Beej's Guide to Python book source

vim: ts=4:sw=4:nosi:et:tw=72:spell:nojs
-->
<h1 id="intro">Intro</h1>
<p><em><strong>This is an alpha-quality book. There are mistakes, oh yes. When you find them, please drop an issue in GitHub, or a pull request, or email me at <a href="mailto:beej@beej.us"><code>beej@beej.us</code></a>. When the number of defects gets low enough, I’ll offer a print version.</strong></em></p>
<p>Hey, everyone! Have you been thinking about learning to program? Have you also been thinking of how to do it in the easy-to-approach Python programming language?</p>
<p>Yes? Then this is the book for you. We’re going to start with the absolute basics and build up from there, building up to being an intermediate developer and problem-solver! Python is the language we’ll be using to make this happen.</p>
<p>But by the end of the book, you will have developed programming techniques that <em>transcend</em> languages. After picking up Python, maybe try another language like JavaScript, Go, or Rust. They all have their own features to explore and learn.</p>
<h2 id="audience">Audience</h2>
<p>Beginning programmers. If you have limited experience, or no experience, this book is targeted at you!</p>
<p>Attitude Prerequisite: be inquisitive, curious, have an eye for puzzles and problem solving, and be willing to take on difficult challenges.</p>
<p>Technical Prerequisite: be a computer user. You know what files are, how to move them and delete them, what subdirectories (folders) are, can install software, and how to type.</p>
<p>Are you a seasoned developer looking to start with Python? I’m sorry but this is not likely to be the book you’re looking for. It will progress too slowly for your tastes. Just jump straight into <a href="https://docs.python.org/3/">the official Python documentation</a><a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>.</p>
<h2 id="platform-and-tools">Platform and Tools</h2>
<p>I make an effort in this book to cover Mac, Windows, and Unix variants (via Arch Linux).</p>
<p>We’ll cover installing Python 3 and the Visual Studio Code editor. (Both are free.) If you already have a code editor you prefer using (Vim, Emacs, Sublime, Atom, PyCharm, etc.) feel free to use that. This book’s 100% certified editor agnostic!</p>
<h2 id="official-homepage-and-books-for-sale">Official Homepage and Books For Sale</h2>
<p>This official location of this document is:</p>
<ul>
<li><a href="http://beej.us/guide/bgpython/"><code>http://beej.us/guide/bgpython/</code></a></li>
</ul>
<p>There you will also find example code.</p>
<!--
To buy nicely bound print copies (some call them "books"), visit:

* [`http://beej.us/guide/url/bgpbuy`](http://beej.us/guide/url/bgpbuy)

I'll appreciate the purchase because it helps sustain my document-writing
lifestyle!
-->
<h2 id="email-policy">Email Policy</h2>
<p>I’m generally available to help out with  email questions so feel free to write in, but I can’t guarantee a response. I lead a pretty busy life and there are times when I just can’t answer a question you have. When that’s the case, I usually just delete the message. It’s nothing personal; I just won’t ever have the time to give the detailed answer you require.</p>
<p>As a rule, the more complex the question, the less likely I am to respond. If you can narrow down your question before mailing it and be sure to include any pertinent information (like platform, compiler, error messages you’re getting, and anything else you think might help me troubleshoot), you’re much more likely to get a response. For more pointers, read ESR’s document, <a href="http://www.catb.org/~esr/faqs/smart-questions.html">How To Ask Questions The Smart Way</a><a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>.</p>
<p>If you don’t get a response, hack on it some more, try to find the answer, and if it’s still elusive, then write me again with the information you’ve found and hopefully it will be enough for me to help out.</p>
<p>Now that I’ve badgered you about how to write and not write me, I’d just like to let you know that I <em>fully</em> appreciate all the praise the guide has received over the years. It’s a real morale boost, and it gladdens me to hear that it is being used for good! <code>:-)</code> Thank you!</p>
<h2 id="mirroring">Mirroring</h2>
<p> You are more than welcome to mirror this site, whether publicly or privately. If you publicly mirror the site and want me to link to it from the main page, drop me a line at <a href="beej@beej.us"><code>beej@beej.us</code></a>.</p>
<h2 id="note-for-translators">Note for Translators</h2>
<p> If you want to translate the guide into another language, write me at <a href="beej@beej.us"><code>beej@beej.us</code></a> and I’ll link to your translation from the main page. Feel free to add your name and contact info to the translation.</p>
<p>This source markdown document uses UTF-8 encoding.</p>
<p>Please note the license restrictions in the <a href="#legal">Copyright, Distribution, and Legal</a> section, below.</p>
<p>If you want me to host the translation, just ask. I’ll also link to it if you want to host it; either way is fine.</p>
<h2 id="legal">Copyright, Distribution, and Legal</h2>
<p>Beej’s Guide to Python Programming is Copyright © 2019 Brian “Beej Jorgensen” Hall.</p>
<p>With specific exceptions for source code and translations, below, this work is licensed under the Creative Commons Attribution- Noncommercial- No Derivative Works 3.0 License. To view a copy of this license, visit</p>
<p><a href="https://creativecommons.org/licenses/by-nc-nd/3.0/"><code>https://creativecommons.org/licenses/by-nc-nd/3.0/</code></a></p>
<p>or send a letter to Creative Commons, 171 Second Street, Suite 300, San Francisco, California, 94105, USA.</p>
<p>One specific exception to the “No Derivative Works” portion of the license is as follows: this guide may be freely translated into any language, provided the translation is accurate, and the guide is reprinted in its entirety. The same license restrictions apply to the translation as to the original guide. The translation may also include the name and contact information for the translator.</p>
<p>The C source code presented in this document is hereby granted to the public domain, and is completely free of any license restriction.</p>
<p>Educators are freely encouraged to recommend or supply copies of this guide to their students.</p>
<p>Unless otherwise mutually agreed by the parties in writing, the author offers the work as-is and makes no representations or warranties of any kind concerning the work, express, implied, statutory or otherwise, including, without limitation, warranties of title, merchantability, fitness for a particular purpose, noninfringement, or the absence of latent or other defects, accuracy, or the presence of absence of errors, whether or not discoverable.</p>
<p>Except to the extent required by applicable law, in no event will the author be liable to you on any legal theory for any special, incidental, consequential, punitive or exemplary damages arising out of the use of the work, even if the author has been advised of the possibility of such damages.</p>
<p>Contact <a href="mailto:beej@beej.us"><code>beej@beej.us</code></a> for more information.</p>
<h2 id="dedication">Dedication</h2>
<p>Thanks to everyone who has helped in the past and future with me getting this guide written. And thank you to all the people who produce the Free software and packages that I use to make the Guide: GNU, Linux, Slackware, vim, Python, Inkscape, pandoc, many others. And finally a big thank-you to the literally thousands of you who have written in with suggestions for improvements and words of encouragement.</p>
<p>I dedicate this guide to some of my biggest heroes and inspirators in the world of computers: Donald Knuth, Bruce Schneier, W. Richard Stevens, and The Woz, my Readership, and the entire Free and Open Source Software Community.</p>
<h2 id="publishing-information">Publishing Information</h2>
<p>This book is written in Markdown using the vim editor on an Arch Linux box loaded with GNU tools. The cover “art” and diagrams are produced with Inkscape. The Markdown is converted to HTML and LaTex/PDF by Python, Pandoc and XeLaTeX, using Liberation fonts. The toolchain is composed of 100% Free and Open Source Software.</p>
<!--
vim: ts=4:sw=4:nosi:et:tw=72:spell:nojs
-->
<h1 id="what-is-programming-anyway">What is Programming, Anyway?</h1>
<h2 id="objectives">Objectives</h2>
<ul>
<li>Be able to explain what a programmer does</li>
<li>Be able to explain what a program is</li>
<li>Be able to summarize the four big steps in solving problems</li>
</ul>
<h2 id="more-terminology-than-you-wanted">More Terminology Than You Wanted</h2>
<p>Let’s say you’re entirely new to this stuff. You have a computer, you know how to use it, but you don’t know how to make it do exactly what you want it to.</p>
<p>It’s the difference between a <em>user</em> and a <em>programmer</em>, right?</p>
<p>But what does it mean to <em>program</em> a computer?</p>
<p>In a nutshell, you have a goal (what you want to compute), and programming is the way you get there.</p>
<p>A <em>program</em> is a description of a series of steps to complete that computation, blah blah blah…</p>
<p>Okay—instead think of a sequence of steps that you have to do to do <em>anything</em>. Like baking cookies for example.</p>
<blockquote>
<p><em><strong>Fun Computing Fact:</strong> everyone likes yummy cookies.</em></p>
</blockquote>
<p>You often have that sequence of steps, that recipe, written down on a piece of paper. By itself, it’s definitely not cookies. But when you apply a number of kitchen implements and ingredients and an oven to it, pretty soon you have some cookies.</p>
<p>Of course, in that case <em>you</em> have to do the work. With programming, the computer does the work for you. But you have to write down the recipe.</p>
<p>The recipe <em>is</em> the program. Programming is the act of writing down that recipe so the computer can execute it. And get those cookies baked.</p>
<p>Mmmm. Cookies.</p>
<p>Some programs are simple. “Add up these 12 numbers” is an example. It’s a breeze for the computer to do that.</p>
<p>But others are more complicated. They can extend into millions of lines long, or even tens of millions, written by large teams over many years. Think triple-A video game titles, or the Linux operating system.</p>
<p>When you’re first starting, large programs like that seem impossible. But here’s the secret: each of those large programs is made up of smaller, well-designed building blocks. And each of those building blocks is made up of smaller of the same.</p>
<p>And when you start learning to be a programmer, you start with the smallest, most basic blocks, and you build up from there.</p>
<p>And you keep building! Writing software is a lifelong learning process. There are <em>always</em> new things to learn, new technologies, new languages, new techniques. It’s a craft to be developed and perfected over a lifetime. Sure, at first you won’t have that many tools in your toolkit. But every moment you spend working on software gives you more experience solving problems, and gives you more methods to attack them.</p>
<h2 id="whats-this-talk-about-problem-solving">What’s This Talk About Problem Solving?</h2>
<p>In other words, I know what I want to see… how do I get there with the tools I know?</p>
<p>There’s a <a href="https://www.youtube.com/watch?v=ry55--J4_VQ">great scene in the movie Apollo 13</a><a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>  that I love. The CO<sub>2</sub> scrubbers on the command module are spent, and the team wants to use the scrubbers from the lunar module to replace them. But the former are round, and the latter are square and won’t fit. Of course, the spacecraft has limited resources to repair it—just miscellaneous stuff on board that was meant for the mission.</p>
<p>On the ground, the team has all those items at hand, and they dump them on a table. A staff member holds up a square scrubber and a round scrubber and tells everyone, “We gotta find a way to make <em>this</em> fit into the hole for <em>this</em>.” He then gestures toward the table, adding, “Using nothing but <em>that</em>.”</p>
<p>And that’s what programming is like, except, obviously and fortunately no lives are at stake. (Typically.)</p>
<p>You have a limited set of programming techniques at your disposal, and you have the goal that you want to achieve. How can you get to that goal using only those tools? It’s a puzzle!</p>
<h2 id="problem-solving">So How To Solve It?</h2>
<blockquote>
<p><em><strong>Fun Programming Fact:</strong> Most devs have no idea how to solve a problem when they’re first presented with it. They have to systematically attack it.</em></p>
</blockquote>
<p>Programmers fully intend to use a well-reasoned approach to solving arbitrary problems. In reality, they often run off in high spirits and dive right into coding before they’ve done some of the very important preliminary work, but since they love programming so much they don’t seem to mind wasting time.</p>
<p>(And it’s not really a waste of time, because every second you’re programming, you’re learning!)</p>
<p>But lots of <em>bosses</em> do consider unplanned development to be a waste of time. Time is also known as “money” to the company that hired you. And the only thing more precious to a company than money is more money.</p>
<p>Imagine that you said, “I want to build an airplane!” and ran off an bought a pile of tools and metal and rivets and levers and started bolting it together immediately. You might find after a while that, oh you should have figured out how big the engine was before you built the fuselage, but, hey, no problem, you have time. You can just rebuild the fuselage. So you do. But now the canopy doesn’t fit. So you have to rebuild it again, and so on.</p>
<p>You could have saved a lot of time by actually <em>planning</em> what you were going to do before you started building.</p>
<p>It’s the same with software.</p>
<blockquote>
<p><em><strong>Fun Programming Proverb:</strong> Hours of debugging can save you minutes of planning.</em></p>
</blockquote>
<p>There are a number of problem solving frameworks out there. These are blueprints for how to approach a programming problem and solve it, even if you have no idea how to solve it when you first see it.</p>
<p>One of my favorite problem-solving frameworks was popularized by mathematician George Pólya in 1945 in his book <em>How To Solve It</em>. It was originally written for solving math problems, but it’s surprisingly effective at solving just about anything. The Four Main Steps are:</p>
<ol type="1">
<li><p><strong>Understanding the Problem</strong>. Get clarity on all parts of the problem. Break it down into subproblems, and break those subproblems down. If you don’t understand the problem, any solutions you come up with will be solving the wrong problem! You know you understand the problem when you can explain it to someone completely.</p></li>
<li><p><strong>Devising a Plan</strong>. How are you going to attack this with the tools you have at your disposal and the techniques you know? You know you’re done making a plan when you’re able to easily convert your plan into code.</p>
<p>Often when planning you realize there’s something about the problem you don’t fully understand. Just for a bit, pop back to Step 1 until it’s clear, then come back to planning.</p></li>
<li><p><strong>Carrying out the plan</strong> Convert your plan into code and get it working.</p>
<p>Often in this phase, you find that there was either something you didn’t understand, or something the plan didn’t account for. Drop back a step or two until it’s resolved, then come back here.</p></li>
<li><p><strong>Looking Back</strong>. Look back on the code you got working, and consider what went right and what went wrong. What would you do differently next time? What techniques did you learn while writing the code? Was there any place you could have structured things better, or anyplace you could have removed redundant code?</p></li>
</ol>
<p>What’s neat about this is that developers apply the steps of problem solving to the <em>entire program</em>, and they also apply it to the smaller problems <em>within the program</em>. A big computing problem is always composed of a number of subproblems! The problem solving framework is used within the problem solving framework!</p>
<p>An example of a real-life problem might be “build a house”. But that’s made up of subproblems, like “build a foundation” and “frame the walls” and “add a roof”. And those are made up of subproblems, like “grade the lot” and “pour concrete”.</p>
<p>In programming, we break down problems into smaller and smaller subproblems until we know how to solve them with the techniques we know. And if we don’t know a technique to solve it, we go and learn one!</p>
<p>Being a developer is the same as being a problem solver. The problems ain’t easy, but that’s why it pays the big bucks.</p>
<p>So you should expect that any time you see a programming problem in this book, on a programming challenge website, at school, or at work, that the answer will not be obvious. You’re going to have to work hard and spend a lot of time to get through the first problem solving steps before you’ll even be ready to start coding.</p>
<h2 id="what-is-python">What is Python?</h2>
<p>Python is a <em>programming language</em>. This means it’s vaguely readable by humans, and completely readable by a machine. (As long as you don’t make the tiniest mistake!) This is a good combination, since people are bad at reading the actual <code>1011010100110</code> code that machines use. We use these <em>higher-level</em> languages to help us get by.</p>
<p>In this case, another piece of software called the Python <em>interpreter</em> takes the code we write in the Python language and runs it, performing the operations we’ve requested.</p>
<p>So before we begin, we need to install the Python interpreter. This is one of the most annoyingly painful parts of the whole book, but luckily it only has to be done once.</p>
<p>Okay, gang! Let’s get it… over with!</p>
<p>…I really need to work on the end of that inspirational speech.</p>
<h2 id="summary">Summary</h2>
<ul>
<li>A programmer is a problem solver. They then write programs that implement a solution to that problem.</li>
<li>A program is a series of instructions that can be carried out by a computer to solve the problem.</li>
<li>The main problem-solving steps are: Understand the Problem, Devise a Plan, Carry out the Plan, Look Back.</li>
</ul>
<!--
vim: ts=4:sw=4:nosi:et:tw=72:spell:nojs
-->
<h1 id="what-software-will-i-need">What software will I need?</h1>
<h2 id="objectives-1">Objectives</h2>
<ul>
<li>Install a code editor, and explain what it’s for</li>
<li>Get your terminal/shell up and running, and explain how it’s used</li>
<li>Install Python, and explain what it does</li>
</ul>
<h2 id="what-are-all-these-things">What are all these things?</h2>
<p>Writing code strays away from the GUI that you might be used to. It’s definitely possible to use a GUI to do everything (almost… maybe) but devs use a couple other tools to keep their speed up.</p>
<p>One of these <em>is</em> a GUI: the <em>code editor</em>. This is where you write the instructions (code) that the computer will run.</p>
<p>The other is the <em>terminal</em>. This is a window that allows you to type computer commands in a program called a <em>shell</em>. The shell executes the commands you type on the <em>command line</em> (i.e. where the cursor is). The commands aren’t Python, but are shell-specific commands.</p>
<p>Developers use these tools to write code. A typical cycle is:</p>
<ol type="1">
<li>Edit code in your editor</li>
<li>Run the code from the command line</li>
<li>Check output, prepare to debug</li>
<li>Repeat!</li>
</ol>
<blockquote>
<p>_<strong>Note!</strong> Technology changes quickly—this book might already be out of date. If you get stuck, Google around for more modern answers.</p>
</blockquote>
<h2 id="terminalshell">Terminal/Shell</h2>
<p>The most popular shell program on Unix-likes and Macs is the <em>bash shell</em>. It’s known by a <code>$</code> prompt (sometimes prefixed with other information about which directory you’re in, or something similar).</p>
<p>When you bring up a terminal window on a Mac or Unix-like or Windows WSL, it’s a bash shell you’ll find running in it.</p>
<blockquote>
<p>Bash <em>stands for</em> Bourne Again SHell _which is a bit of a pun around the original <a href="https://en.wikipedia.org/wiki/Bourne_shell">Bourne Shell</a><a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a> from back in the day. Bash improves on it a bit.</p>
</blockquote>
<p>Now Bash isn’t the only shell, by any means. But it is the only one I’ll be talking about for Mac, Linux, and WSL.</p>
<h3 id="windows">Windows</h3>
<p>For Windows, there are plenty of options, some of which you have installed already.</p>
<ul>
<li><strong>CMD</strong>: classic shell with origins way back in the MS-DOS days.</li>
<li><strong>PowerShell</strong>: a new, more powerful shell.</li>
<li><strong>Bash via Git</strong>: the famous <a href="https://git-scm.com/">Git</a><a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a> software package has a bash shell called, appropriately, “gitbash”.</li>
<li><strong>Bash via WSL</strong>: if you install WSL (below), it uses bash, as well.</li>
</ul>
<p>Unless you’re going with one of the bash options, you should use PowerShell because it’s newer, better, and maintained.</p>
<p>Almost all of the bash commands we use in this guide also work in PowerShell and CMD.</p>
<p>Hitting the Windows key and running <code>cmd</code> will bring up the CMD prompt. (Type <code>exit</code> to get out.)</p>
<p>Hitting the Windows key and running <code>PowerShell</code> will bring up the PowerShell prompt. (Type <code>exit</code> to get out.)</p>
<h3 id="windows-gitbash-optional">Windows gitbash (optional)</h3>
<p><a href="https://git-scm.com/downloads">Git</a><a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a> is a <em>source code control system</em>. And it’s great. Tons of people use it. You should install it.</p>
<p>When you install it, it installs a bash shell called gitbash that you can use.</p>
<h3 id="windows-shell-app-optional">Windows Shell App (optional)</h3>
<p>If you have Windows 10, there’s a great new app for running multiple shells at once in tabs: Terminal. You don’t <em>need</em> this, but it allows you to run different terminal types in different tabs, if you want to do that.</p>
<ol type="1">
<li>Update Windows 10 to the latest version</li>
<li>Drop into the Microsoft store and grab Terminal.</li>
</ol>
<p>When you run it, there will be options to bring up different kinds of shells. This works with CMD, PowerShell, and any WSL shells (if you install WSL), and gitbash shells (if you install git).</p>
<p>If you install gitbash, you’ll want to add it to the settings for Terminal. (If you don’t do this, you’ll only be able to launch gitbash from outside the Terminal app, which isn’t the end of the world.)</p>
<p>This is a rather unfriendly editing of a <a href="https://en.wikipedia.org/wiki/JSON">JSON</a><a href="#fn7" class="footnote-ref" id="fnref7" role="doc-noteref"><sup>7</sup></a> file (which might be easier after you install VS Code).</p>
<p>If you do it, carefully add this block to the JSON config before the other blocks in the obvious section:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;guid&quot;</span><span class="fu">:</span> <span class="st">&quot;{8cbf8e47-b0bd-4956-8c76-ae5d6250fe67}&quot;</span><span class="fu">,</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;icon&quot;</span> <span class="fu">:</span> <span class="st">&quot;ms-appx:///ProfileIcons/{0caa0dad-35be-5f56-a8ff-afceeeaa6101}.png&quot;</span><span class="fu">,</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;name&quot;</span> <span class="fu">:</span> <span class="st">&quot;Git Bash&quot;</span><span class="fu">,</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;commandline&quot;</span> <span class="fu">:</span> <span class="st">&quot;</span><span class="ch">\&quot;</span><span class="st">%PROGRAMFILES%</span><span class="ch">\\</span><span class="st">git</span><span class="ch">\\</span><span class="st">usr</span><span class="ch">\\</span><span class="st">bin</span><span class="ch">\\</span><span class="st">bash.exe</span><span class="ch">\&quot;</span><span class="st"> -i -l&quot;</span><span class="fu">,</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;cursorShape&quot;</span> <span class="fu">:</span> <span class="st">&quot;filledBox&quot;</span><span class="fu">,</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;startingDirectory&quot;</span> <span class="fu">:</span> <span class="st">&quot;%USERPROFILE%&quot;</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span><span class="er">,</span></span></code></pre></div>
<p>I know that if you’re a beginner, this looks like voodoo. Trust your instincts. Where does it <em>look</em> like this block needs to go? What patterns do you see in the config file?</p>
<p>(Note the <code>cursorShape</code>—you can add that line to the other shells, too, if you prefer it.)</p>
<h3 id="windows-wsl-optional">Windows WSL (optional)</h3>
<p><strong>Windows 10 or later required!</strong></p>
<p>The Windows Subsystem for Linux is a really awesome piece of kit. It unobtrusively puts a little Linux install on your Windows machine. And then you can use the Linux command line.</p>
<p>To install:</p>
<ol type="1">
<li><p>Update Windows to the latest version.</p></li>
<li><p><a href="https://docs.microsoft.com/en-us/windows/wsl/install-win10">Follow the WSL setup instructions</a><a href="#fn8" class="footnote-ref" id="fnref8" role="doc-noteref"><sup>8</sup></a></p></li>
<li><p>Head to the Microsoft Store and grab Ubuntu (not the LTS version).</p></li>
<li><p>Once installed, run Ubuntu and you’ll see a bash prompt.</p></li>
<li><p>Make a new username and password when prompted. This is for WSL and is completely separate from your Windows username and password. Though you can make them the same if you want—easier to remember that way.</p></li>
<li><p>Upgrade Ubuntu by running these two commands:</p>
<pre><code>    sudo apt-get update
    sudo apt-get upgrade </code></pre></li>
<li><p>At this point, you should be able to run Python:</p>
<pre><code>    python3 --version</code></pre></li>
<li><p>Type <code>exit</code> and then run the shell again to finalize the install.</p></li>
</ol>
<p>When running VS Code, you can just run it from the bash prompt:</p>
<pre><code>    code</code></pre>
<p>You can also open a file Explorer window with:</p>
<pre><code>    iexplore.exe .</code></pre>
<p>(Yes, that’s a period after a space at the end.)</p>
<h3 id="mac">Mac</h3>
<p>Macs come with a terminal built in. Run the <code>Terminal</code> app and you’ll be presented with a bash shell prompt.</p>
<h3 id="linuxunix-likes">Linux/Unix-likes</h3>
<p>All Unix-likes come with a variety of terminals and shells. Google for your distribution.</p>
<h2 id="code-editor">Code editor</h2>
<p>Simple code editors just allow you to edit files. More complex ones are more full-featured and are sometimes called <em>Integrated Development Environments</em>, or <em>IDE</em> for short.</p>
<p>I recommend Visual Studio Code (VS Code), an IDE.</p>
<p>(Okay, I’m lying. I recommend Vim, an editor! But it has a steep learning curve (worth it) and <a href="https://www.openvim.com/">you might need a tutorial</a><a href="#fn9" class="footnote-ref" id="fnref9" role="doc-noteref"><sup>9</sup></a>.)</p>
<p>Visit the <a href="https://code.visualstudio.com/">Visual Studio Code</a><a href="#fn10" class="footnote-ref" id="fnref10" role="doc-noteref"><sup>10</sup></a> website for downloads.</p>
<h3 id="windows-vs-code">Windows VS Code</h3>
<p>When you install:</p>
<ul>
<li>Make sure “Add Path” is checked</li>
<li>Check “Register Code as an editor for supported file types”</li>
<li>Recommended: Check “Add ‘Open with Code’ option”</li>
</ul>
<p>When you launch code in PowerShell or gitbash or WSL for the first time with</p>
<pre><code>    code</code></pre>
<p>click the icon on the left bar of VS Code to manage extensions.</p>
<ul>
<li>Install Python extension</li>
<li>Install Pylint extension</li>
</ul>
<p>If running WSL, or you might run WSL:</p>
<ul>
<li>Install Remote WSL extension</li>
</ul>
<h3 id="mac-1">Mac</h3>
<p>Just install it. No special instructions.</p>
<h3 id="linux-and-other-unix-likes">Linux and other Unix-likes</h3>
<p>Linux and Unix-like users can use their package manager to install VS Code. Google for <code>ubuntu vscode install</code>, substituting the name of your distro for <code>ubuntu</code>.</p>
<p>If you already have a code editor you prefer using (Vim, Emacs, Sublime, Atom, PyCharm, etc.) feel free to use that, no problem!</p>
<h2 id="python-itself">Python itself!</h2>
<h3 id="a-note-on-python2-versus-python3">A note on Python2 versus Python3</h3>
<p>Back in the day, Python version 2.x was king. Everything was written using it. But it had a few shortcomings that couldn’t be addressed without major surgery. This surgery resulted in what we call <em>breaking changes</em> to the language. That is, old programs written for Python2 would be broken when trying to run them on Python3. They had to be updated.</p>
<p>After only 37,600 years<a href="#fn11" class="footnote-ref" id="fnref11" role="doc-noteref"><sup>11</sup></a>, the old Python2 code was dragged kicking and screaming into the glorious future of Python3 and now Python3 is finally the go-to version for all Python developers.</p>
<p>Not to say there’s not tons of Python2 code out there, because there is, but everything we’ll be doing here will be in Python 3.6 and later. (Google for <code>python2 vs python3</code> for more information on the differences if you happen to cruelly find yourself in a Python2 environment.</p>
<h3 id="checking-to-see-if-you-already-have-python-installed">Checking to see if you already have Python installed</h3>
<p>There are a number of different ways on different platforms.</p>
<p>As long as you can bring up a terminal and type on of the following on your terminal and get it to report version 3.6 or higher, you’re set:</p>
<pre><code>    python3 --version
    python --version
    py --version</code></pre>
<p>If those aren’t installed, or none of them report version 3.6 or higher, then read on for an install. (Or google for instructions to upgrade.)</p>
<h3 id="windows-native">Windows native</h3>
<p>There are two ways to do this:</p>
<ul>
<li>Install from the Microsoft Store</li>
<li>Install from the official website</li>
</ul>
<p>I can’t see any disadvantage to installing it from the store. Just remember to install Python 3 (not Python 2).</p>
<p>If you install it from the <a href="https://www.python.org/downloads/">official website</a><a href="#fn12" class="footnote-ref" id="fnref12" role="doc-noteref"><sup>12</sup></a>, you need to remember to check the “Add to PATH” box during the install procedure!</p>
<p>Once this is installed, you should be able to bring up PowerShell and run</p>
<pre><code>    py --version</code></pre>
<p>and see that it’s in place.</p>
<h3 id="windows-wsl">Windows WSL</h3>
<p>If you’ve followed the instructions for installing WSL, above, you should just be able to go to WSL bash and run</p>
<pre><code>    python3 --version</code></pre>
<p>straightaway.</p>
<h3 id="mac-2">Mac</h3>
<p>There are a few third-party package managers for command line tools for the Mac, including <a href="https://brew.sh/">Homebrew</a><a href="#fn13" class="footnote-ref" id="fnref13" role="doc-noteref"><sup>13</sup></a> and <a href="https://www.macports.org/">MacPorts</a><a href="#fn14" class="footnote-ref" id="fnref14" role="doc-noteref"><sup>14</sup></a>. We’re only going to cover Homebrew here.</p>
<p>Visit the Homebrew home page, and install it.</p>
<p>Then run this in the bash shell:</p>
<pre><code>    brew install python</code></pre>
<p>After that, <code>python3 --version</code> should work.</p>
<p>You can also install Python straight from the official website, but lots of people on the web recommend using brew to manage it instead.</p>
<h3 id="linuxunix-likes-1">Linux/Unix-likes</h3>
<p>The Linux community tends to be pretty supportive of people looking to install things. Google for something like <code>ubuntu install python3</code>, replacing <code>ubuntu</code> with the name of your distribution.</p>
<h2 id="summary-1">Summary</h2>
<ul>
<li>The code editor is where you’ll be typing your programs.</li>
<li>The terminal is where you’ll be running your programs and doing various other file machinations.</li>
<li>Python is a program that will run your Python programs!</li>
</ul>
<!--
vim: ts=4:sw=4:nosi:et:tw=72:spell:nojs
-->
<h1 id="how-do-i-write-a-program">How do I write a program?</h1>
<h2 id="objectives-2">Objectives</h2>
<ul>
<li>Move around the directory hierarchy using the shell</li>
<li>Edit some source code in an editor</li>
<li>Run that program from the command line</li>
</ul>
<h2 id="the-problem-that-needs-solving">The Problem That Needs Solving</h2>
<p>Let’s use our problem-solving framework!</p>
<ol type="1">
<li><p><strong>Understand the Problem</strong>: We want to write a program that prints a neat little message to the screen.</p>
<p>In the process, we want to get used to using the command line and our code editor.</p></li>
<li><p><strong>Devise a plan</strong></p>
<ol type="1">
<li>Open a terminal</li>
<li>Make a directory and change to it</li>
<li>Open a new file in your code editor</li>
<li>Write code and save it to that file</li>
<li>Run your program from the command line</li>
</ol></li>
<li><p><strong>Carry out the Plane</strong>: This is where we execute on our plan. We’ll do that in the following sections.</p></li>
<li><p><strong>Look Back</strong>: We’ll do this, below, as well. In future chapters, we’ll leave these last two off the number list and just do them in subsequent sections.</p></li>
</ol>
<p>Let’s go!</p>
<h2 id="start-with-the-terminal">Start with the Terminal</h2>
<p>We’re going to do this old-school. Later on, if you find procedures you like more, you can use those. But programmers have been using the command line for over 10,000 years, and it has staying power for a reason.</p>
<p>Launch a terminal and bring up a bash shell. You can use another shell if you want, but I’ll be talking bash here.</p>
<p>At the <code>$</code> prompt, type the following commands, one per line:</p>
<pre><code>    cd
    mkdir bgpython
    cd bgpython
    ls -la</code></pre>
<p>These commands do four amazing things:</p>
<ol type="1">
<li><p><code>cd</code> means <em>change directory</em>. (A directory is the same as a folder.) On a line by itself, it means “change to my <em>home directory</em>”.</p></li>
<li><p><code>mkdir</code> means <em>make directory</em>. We’re creating a new folder called <code>bgpython</code>.</p></li>
<li><p><code>cd bgpython</code> to change into that directory.</p></li>
<li><p><code>ls -la</code> to get a long directory listing (i.e. all the files in that folder.)</p></li>
</ol>
<p>At this point you should see something like this:</p>
<pre><code>    $ ls -la
    total 0
    drwxr-xr-x    2 beej  staff    64 Nov 18 23:14 .
    drwxr-xr-x+ 123 beej  staff  3936 Nov 18 23:14 ..</code></pre>
<p>This is showing you all the files you have. Namely there are two of them: <code>.</code> and <code>..</code>. These mean “this directory” and “parent directory”, respectively. (You know how folders can be inside other folders? The outer folder is called the “parent” folder, which is what the parent directory is. If you want to get back to your home directory from here, you can type <code>cd ..</code>.)</p>
<blockquote>
<p><em>You should think of the shell as “being” in a certain directory at any particular time. You can <code>cd</code> into directories, or <code>cd ..</code> back into the parent, or <code>cd</code> to get to your home directory from anywhere. It’s like the folder you have open that has focus in a GUI.</em></p>
</blockquote>
<p>(The remaining information on each line tells you the permissions on the file, who owns it, how big it is, when it was modified, and so on. We can worry about that later.)</p>
<p>Other than those there are no other files. We’ll soon fix that! Let’s add a Python program and run it!</p>
<h2 id="launching-your-code-editor">Launching your code editor</h2>
<p>Usually launching an editor to edit a file is as simple as typing the editor name directly followed by the filename on the command line.</p>
<p>For example, to launch VS Code to edit the file <code>hello.py</code>:</p>
<pre><code>    code hello.py</code></pre>
<p>or to launch Vim to do the same thing:</p>
<pre><code>    vim hello.py</code></pre>
<blockquote>
<p><em>If you get in Vim and have no idea how to get out, hit the <code>ESC</code> key and then type <code>:q!</code> and hit <code>RETURN</code>—this will exit without saving. If you want to save and exit, hit <code>ESC</code> then type <code>ZZ</code> in caps. I’m not going to talk about Vim any longer and will stick to VS Code.</em></p>
</blockquote>
<p>In any case, one you get your editor of choice launched, you should be faced with a largely-blank window and a cursor.</p>
<p>This is your canvas! This is where the magic happens!</p>
<p>Type <a href="https://beej.us/guide/bgpython/examples/hello.py">the following</a><a href="#fn15" class="footnote-ref" id="fnref15" role="doc-noteref"><sup>15</sup></a> into your editor (the line numbers, below, are for reference only and shouldn’t be typed in):</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1"></a><span class="bu">print</span>(<span class="st">&quot;Hello, world!&quot;</span>)</span>
<span id="cb15-2"><a href="#cb15-2"></a><span class="bu">print</span>(<span class="st">&quot;My name&#39;s Beej and this is (possibly) my first program!&quot;</span>)</span></code></pre></div>
<p>Pull down <code>File</code>→<code>Save</code> to save the file.</p>
<h2 id="running-the-program">Running the Program!</h2>
<p>Pop back into your terminal window and type <code>ls -la</code> to get a directory listing:</p>
<pre><code>    $ ls -la
    total 8
    drwxr-xr-x    3 beej  staff    96 Nov 18 23:27 .
    drwxr-xr-x+ 123 beej  staff  3936 Nov 18 23:14 ..
    -rw-r--r--    1 beej  staff    87 Nov 18 23:27 hello.py</code></pre>
<p>There it is! <code>hello.py</code> clocking in at 87 bytes (characters, roughly) in size.</p>
<p>Let’s run this puppy. Remember how the program is just a recipe for doing a thing—what do you think our <code>hello.py</code> program does? Guess!</p>
<p>Then type this to run it (if <code>python3</code> doesn’t work, try <code>python</code> or <code>py</code> depending on your system):</p>
<pre><code>    python3 hello.py</code></pre>
<p>and hit <code>RETURN</code>! <em>[Angelic Chorus!]</em></p>
<pre><code>    $ python3 hello.py
    Hello, world!
    My name&#39;s Beej and this is (possibly) my first program!</code></pre>
<p>You just wrote some instructions and the computer carried it out!</p>
<p>Next up: write a Quake III clone!</p>
<p>Okay, so maybe there might be a small number of <em>in between</em> things that I skimmed over, but, as Obi-Wan Kenobi once said, “You’ve taken your first step into a larger world.”</p>
<h2 id="exercises">Exercises</h2>
<p>Remember to use the <a href="#problem-solving">four problem-solving steps</a> to solve these problems: understand the problem, devise a plan, carry it out, look back to see what you could have done better.</p>
<ol type="1">
<li>Make another program called <code>dijkstra.py</code> that prints out your three favorite <a href="https://en.wikiquote.org/wiki/Edsger_W._Dijkstra">Edsger Dijkstra quotes</a><a href="#fn16" class="footnote-ref" id="fnref16" role="doc-noteref"><sup>16</sup></a>.</li>
</ol>
<h2 id="summary-2">Summary</h2>
<ul>
<li>Move around the directory hierarchy using the shell</li>
<li>Edit some source code in an editor</li>
<li>Run that program from the command line</li>
</ul>
<!--
vim: ts=4:sw=4:nosi:et:tw=72:spell:nojs
-->
<h1 id="data-and-processing-data">Data and Processing Data</h1>
<h2 id="objective">Objective</h2>
<ul>
<li>Understand what data is and how it is used</li>
<li>Understand what variables are and how they are used</li>
<li>Utilize variables to store information</li>
<li>Print the value of variables on the screen</li>
<li>Do basic math</li>
<li>Store input from the keyboard in variables</li>
<li>Learn about integer versus string data types</li>
<li>Convert between data types</li>
<li>Write a program that inputs two values and prints the sum</li>
</ul>
<p><strong>For this chapter, we want to write a program that reads two numbers from the keyboard and prints out the sum of the two numbers.</strong></p>
<h2 id="data-variables-and-math">Data, Variables, and Math</h2>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p><em>Data</em> is the general term we use to describe information stored in the computer. In the case of programming, we’re interested in values that we’ll do things with. Like add together. Or turn into a video game.</p>
<p>Really, data is information. Can you glean information from a symbol? Then it’s data. Sometimes it’s a symbol like “8”, or maybe a string of symbols like “cat”.</p>
<p>Your goal as a software developer is to write programs that manipulate data. You have to manipulate the input data in such a way that the desired output is achieved. And you have to solve the problem of how to do that.</p>
<p>In a program, data is commonly stored in what we call <em>variables</em>. If you’ve taken any algebra, you are familiar with a letter that holds the place of a value, such as the “slope-intercept” form of the equation of a line:</p>
<blockquote>
<p><span class="math inline">\(y = mx + b\)</span></p>
</blockquote>
<p>or of a parabola:</p>
<blockquote>
<p><span class="math inline">\(y = x^2\)</span></p>
</blockquote>
<p>But beware! In programming code, variables don’t behave like mathematical equations. Similar, but different.</p>
<p>Enter the following code in a new program in your editor, save it, and give it a run. (This is just like you did with the program in the earlier chapter. You can name this one anything you’d like. If you need inspiration, <a href="https://beej.us/guide/bgpython/examples/vartest.py"><code>vartest.py</code></a><a href="#fn17" class="footnote-ref" id="fnref17" role="doc-noteref"><sup>17</sup></a> seems good to me.)</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1"></a>x <span class="op">=</span> <span class="dv">34</span>      <span class="co"># Variable x is assigned value 34</span></span>
<span id="cb19-2"><a href="#cb19-2"></a><span class="bu">print</span>(x)</span>
<span id="cb19-3"><a href="#cb19-3"></a>x <span class="op">=</span> <span class="dv">90</span>      <span class="co"># Variable x is assigned value 90</span></span>
<span id="cb19-4"><a href="#cb19-4"></a><span class="bu">print</span>(x)</span></code></pre></div>
<p>In Python, <em>variables refer to values</em><a href="#fn18" class="footnote-ref" id="fnref18" role="doc-noteref"><sup>18</sup></a>. We’re saying on line 1 of the code, above, “The variable <code>x</code> refers to the value <code>34</code>.” Another way to think of this that might be more congruent with other languages is that <code>x</code> is a bucket that you can put a value in.</p>
<p>Then Python moves to the next line of code and runs it, printing <code>34</code> to the screen. And then on line 3 we put something different in that bucket. We store <code>90</code> in <code>x</code>. The <code>34</code> is gone–this type of bucket only holds one thing<a href="#fn19" class="footnote-ref" id="fnref19" role="doc-noteref"><sup>19</sup></a>.</p>
<p>So the output will be:</p>
<pre><code>    34
    90</code></pre>
<p>You can see how the variable <code>x</code> can be used and reused to store different values.</p>
<blockquote>
<p><em>We’re using <code>x</code> and <code>y</code> for variable names, but they can be made up of any letter or group of letters, or digits, and can also include underscores (<code>_</code>). The only rule is they can’t start with a digit!</em></p>
<p><em>These are all valid variable names (and, of course, you can make up any name you want!):</em></p>
<div class="sourceCode" id="cb21"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>y</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>a1b2</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>foo</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>Bar</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>FOOBAZ12</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>Goats_Rock</span></code></pre></div>
</blockquote>
<p>You can also do basic math on numeric variables. Add to the code above:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1"></a>x <span class="op">=</span> <span class="dv">34</span>      <span class="co"># Variable x is assigned value 34</span></span>
<span id="cb22-2"><a href="#cb22-2"></a><span class="bu">print</span>(x)</span>
<span id="cb22-3"><a href="#cb22-3"></a>x <span class="op">=</span> <span class="dv">90</span>      <span class="co"># Variable x is assigned value 90</span></span>
<span id="cb22-4"><a href="#cb22-4"></a><span class="bu">print</span>(x)</span>
<span id="cb22-5"><a href="#cb22-5"></a></span>
<span id="cb22-6"><a href="#cb22-6"></a>y <span class="op">=</span> x <span class="op">+</span> <span class="dv">40</span>  <span class="co"># y is assigned x + 40 which is 90 + 40, or 130</span></span>
<span id="cb22-7"><a href="#cb22-7"></a><span class="bu">print</span>(x)    <span class="co"># Still 90! Nothing changed here</span></span>
<span id="cb22-8"><a href="#cb22-8"></a><span class="bu">print</span>(y)    <span class="co"># Prints &quot;130&quot;</span></span></code></pre></div>
<p>On line 6, we introduced a new variable, <code>y</code>, and gave it the value of “whatever <code>x</code>’s value is plus <code>40</code>”.</p>
<blockquote>
<p><em>What are all these <code>#</code> marks in the file? We call those</em> hash <em>marks, and in the case of Python, they mean the rest of the line is a</em> comment <em>and will be ignored by the Python interpreter.</em></p>
</blockquote>
<p>One last important point about variables: when you do an assignment like we did, above, on line 6:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> x <span class="op">+</span> <span class="dv">40</span>  <span class="co"># y is assigned 130</span></span></code></pre></div>
<p>When you do this, <code>y</code> refers to the value <code>130</code> even if <code>x</code> changes later. The assignment happens once, when that line is executed, with the value in <code>x</code> at that snapshot in time, and that’s it.</p>
<p>Let’s expand the example farther to demonstrate:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1"></a>x <span class="op">=</span> <span class="dv">34</span>      <span class="co"># Variable x is assigned value 34</span></span>
<span id="cb24-2"><a href="#cb24-2"></a><span class="bu">print</span>(x)</span>
<span id="cb24-3"><a href="#cb24-3"></a>x <span class="op">=</span> <span class="dv">90</span>      <span class="co"># Variable x is assigned value 90</span></span>
<span id="cb24-4"><a href="#cb24-4"></a><span class="bu">print</span>(x)</span>
<span id="cb24-5"><a href="#cb24-5"></a></span>
<span id="cb24-6"><a href="#cb24-6"></a>y <span class="op">=</span> x <span class="op">+</span> <span class="dv">40</span>  <span class="co"># y is assigned x + 40 which is 90 + 40, or 130</span></span>
<span id="cb24-7"><a href="#cb24-7"></a><span class="bu">print</span>(x)    <span class="co"># Still 90! Nothing changed here</span></span>
<span id="cb24-8"><a href="#cb24-8"></a><span class="bu">print</span>(y)    <span class="co"># Prints &quot;130&quot;</span></span>
<span id="cb24-9"><a href="#cb24-9"></a></span>
<span id="cb24-10"><a href="#cb24-10"></a>x <span class="op">=</span> <span class="dv">1000</span></span>
<span id="cb24-11"><a href="#cb24-11"></a><span class="bu">print</span>(y)    <span class="co"># Still 130!</span></span></code></pre></div>
<p>Even though we had <code>y = x + 40</code> higher up in the code, <code>x</code> was <code>90</code> at the time that code executed, and <code>y</code> is set to <code>130</code> until we assign into it again. Changing <code>x</code> to <code>1000</code> did <strong>not</strong> magically change <code>y</code> to <code>1040</code>.</p>
<blockquote>
<p><em><strong>Fun Tax Fact</strong>: The <a href="https://en.wikipedia.org/wiki/Form_1040">1040</a><a href="#fn20" class="footnote-ref" id="fnref20" role="doc-noteref"><sup>20</sup></a> is nearly my least-favorite tax form.</em></p>
</blockquote>
<p>For more math fun, you have the following operators at your disposal (there are more, but this is enough to start):</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">Function</th>
<th style="text-align: center;">Operator</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Add</td>
<td style="text-align: center;"><code>+</code></td>
</tr>
<tr class="even">
<td style="text-align: center;">Subtract</td>
<td style="text-align: center;"><code>-</code></td>
</tr>
<tr class="odd">
<td style="text-align: center;">Multiply</td>
<td style="text-align: center;"><code>*</code></td>
</tr>
<tr class="even">
<td style="text-align: center;">Divide</td>
<td style="text-align: center;"><code>/</code></td>
</tr>
<tr class="odd">
<td style="text-align: center;">Integer Divide<a href="#fn21" class="footnote-ref" id="fnref21" role="doc-noteref"><sup>21</sup></a></td>
<td style="text-align: center;"><code>//</code></td>
</tr>
<tr class="even">
<td style="text-align: center;">Exponent</td>
<td style="text-align: center;"><code>**</code></td>
</tr>
</tbody>
</table>
<p>You can also use parentheses similar to how you do in algebra to force part of an expression to evaluate first. <a href="https://en.wikipedia.org/wiki/Order_of_operations">Normal mathematical order of operations rules apply</a><a href="#fn22" class="footnote-ref" id="fnref22" role="doc-noteref"><sup>22</sup></a>.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>     <span class="dv">8</span> <span class="op">+</span> <span class="dv">4</span>  <span class="op">/</span> <span class="dv">2</span>   <span class="co">#  8 + 4  / 2 ==  8 + 2 == 10</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">8</span> <span class="op">+</span> <span class="dv">4</span>) <span class="op">/</span> <span class="dv">2</span>   <span class="co"># (8 + 4) / 2 == 12 / 2 == 6</span></span></code></pre></div>
<p>And you thought all that algebra wouldn’t be useful… <em>pshaw!</em></p>
<p>There’s a common pattern in programming where you want to, say, add 5 to a variable. Whatever value it has now, we want to make it 5 more than that.</p>
<p>We can do this like so:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> x <span class="op">+</span> <span class="dv">5</span>   <span class="co"># x = 10 + 5 = 15</span></span></code></pre></div>
<p>This pattern is so common, there’s a piece of shorthand<a href="#fn23" class="footnote-ref" id="fnref23" role="doc-noteref"><sup>23</sup></a> that we can use instead.</p>
<p>These two lines are identical:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> x <span class="op">+</span> <span class="dv">10</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>    x <span class="op">+=</span> <span class="dv">10</span></span></code></pre></div>
<p>As are these:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> x <span class="op">/</span> <span class="dv">5</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>    x <span class="op">/=</span> <span class="dv">10</span></span></code></pre></div>
<p>Here are few of the arithmetic assignment expressions available in Python:</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">Operator</th>
<th style="text-align: left;">Meaning</th>
<th style="text-align: left;">Usage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code>+=</code></td>
<td style="text-align: left;">Add and assign</td>
<td style="text-align: left;"><code>x += y</code></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>-=</code></td>
<td style="text-align: left;">Subtract and assign</td>
<td style="text-align: left;"><code>x -= y</code></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>*=</code></td>
<td style="text-align: left;">Multiply and assign</td>
<td style="text-align: left;"><code>x *= y</code></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>/=</code></td>
<td style="text-align: left;">Divide and assign</td>
<td style="text-align: left;"><code>x /= y</code></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>%=</code></td>
<td style="text-align: left;">Modulo and assign</td>
<td style="text-align: left;"><code>x %= y</code></td>
</tr>
</tbody>
</table>
<p>These are very frequently used by devs. If you have <code>x = x + 2</code>, use <code>x += 2</code>, intead!</p>
<h2 id="var-assignment">Assiging from One Variable to Another</h2>
<p>Let’s check out this code:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="dv">1000</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> x</span></code></pre></div>
<p>Something interesting happens here that I want you to make note of. It’s not going to be super useful right now, but it will be later when we get to more intermediate types of data.</p>
<p>When you do this, both <code>x</code> and <code>y</code> refer to the same <code>1000</code>.</p>
<p>That’s a weird sentence.</p>
<p>But think of it this way. Somewhere in the computer memory is the value 1000. And both <code>x</code> and <code>y</code> refer to that single value.</p>
<p>If you do this:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="dv">1000</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> <span class="dv">1000</span></span></code></pre></div>
<p>Now there are <em>two</em> 1000 values. <code>x</code> points to one, and <code>y</code> points to the other.</p>
<p>Finally, adding on to the original example:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="dv">1000</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> x</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> <span class="dv">1000</span></span></code></pre></div>
<p>What happens there is that first there is one 1000, and <code>x</code> refers to it.</p>
<p>Then we assign <code>x</code> into <code>y</code>, and now both <code>x</code> and <code>y</code> refer to the same 1000.</p>
<p>But then we assign a <em>different</em> 1000 to <code>y</code>, so now there are two 1000s, referred to by <code>x</code> and <code>y</code>, respectively.</p>
<p>(The details of this are rather more nuanced than I’ve mentioned here. See <a href="#assignment-behavior">Appendix C</a> if you’re crazy enough.)</p>
<p>Takeaway: variables are just names for items in memory. You can assign from one variable to another and have them both point to the same item.</p>
<p>We’re just putting that in your brain early so that we can revive it later.</p>
<h2 id="your-mental-model-of-computation">Your Mental Model of Computation</h2>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>This is a biggie, so listen up for it.</p>
<p>When you’re programming, it’s important to keep a mental model of what <em>should</em> happen when this program runs.</p>
<p>Let’s take our example from before. Step through it in your head, one line at a time. Keep track of the <em>state</em> of the system as you go:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1"></a>x <span class="op">=</span> <span class="dv">34</span>      <span class="co"># Variable x is assigned value 34</span></span>
<span id="cb32-2"><a href="#cb32-2"></a><span class="bu">print</span>(x)</span>
<span id="cb32-3"><a href="#cb32-3"></a>x <span class="op">=</span> <span class="dv">90</span>      <span class="co"># Variable x is assigned value 90</span></span>
<span id="cb32-4"><a href="#cb32-4"></a><span class="bu">print</span>(x)</span></code></pre></div>
<p>Before we begin, <code>x</code> has no value. So represent that in your head as “x has no value; it’s invalid”.</p>
<p>Then the first line runs.</p>
<p><code>x</code> is now 34.</p>
<p>Then the second line runs.</p>
<p><code>x</code> is still 34, and we print it out. (So 34 is printed.)</p>
<p>Then the third line runs.</p>
<p><code>x</code> is no longer 34. It is now 90. 34 is gone.</p>
<p>Then the fourth line runs.</p>
<p><code>x</code> is still 90, and 90 gets printed out.</p>
<p>Then we’re out of code, so the program exits. And we have “34” and “90” on the screen from when they were printed.</p>
<p><em>That’s</em> keeping a mental model of computation.</p>
<p>This is <em>the key</em> to being able to debug. When your mental computing model shows different results than the actual program run, you have a bug somewhere. You have to dig through your code to find the <em>first</em> place your mental model and the actual program run diverge. That’s where your bug is.</p>
<h2 id="user-input">User Input</h2>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>We want to get input from the user and store it in a variable so that we can do things with it.</p>
<p>Remember that our goal this chapter is to write a program that inputs two values from the user on the keyboard and prints the sum of those values.</p>
<p>Python comes with a built in <em>function</em> that allows us to get user input. It’s called, not coincidentally, <code>input()</code>.</p>
<p>But wait—what is a function?</p>
<p>A function is a chunk of code that does something for you when you <em>call</em> it (that is, when you ask it to). Functions accept <em>arguments</em> that you can <em>pass in</em> to cause the function to modify its behavior. Additionally, functions <em>return</em> a value that you can get back from the function after it’s done its work.</p>
<p>So here we have the <code>input()</code> function<a href="#fn24" class="footnote-ref" id="fnref24" role="doc-noteref"><sup>24</sup></a>, which reads from the keyboard when you call it. As an argument, you an pass in a <em>prompt</em> to show the user when they are ready to type something in. And it returns whatever the user typed in.</p>
<p>What do we do with that return value? We can store it in a variable! Let’s try!</p>
<p>Here’s another program, <a href="https://beej.us/guide/bgpython/examples/inputtest.py"><code>inputtest.py</code></a><a href="#fn25" class="footnote-ref" id="fnref25" role="doc-noteref"><sup>25</sup></a>:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1"></a><span class="co"># Take whatever `input()` returns and store it in `value`:</span></span>
<span id="cb33-2"><a href="#cb33-2"></a></span>
<span id="cb33-3"><a href="#cb33-3"></a>value <span class="op">=</span> <span class="bu">input</span>(<span class="st">&quot;Enter a value: &quot;</span>)</span>
<span id="cb33-4"><a href="#cb33-4"></a><span class="bu">print</span>(<span class="st">&quot;You entered&quot;</span>, value)</span></code></pre></div>
<p>We can run it like this:</p>
<pre><code>    $ python3 inputtest.py
    Enter a value: 3490
    You entered 3490</code></pre>
<p>Check it out! We entered the value <code>3490</code>, stored it in the variable <code>value</code>, and then printed it back out! We’re getting there!</p>
<p>But you can also call it like this:</p>
<pre><code>    $ python3 inputtest.py
    Enter a value: Goats rock!
    You entered Goats rock!</code></pre>
<p>Hmmm. That’s not a number. But it worked anyway! So are we all good to go?</p>
<p>Yes… and no. We’re about to discover something very important about data.</p>
<h2 id="data-types">Data Types</h2>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>We started with numbers, earlier. That was pretty straightforward. The variable was assigned a value and then we could do math on it.</p>
<p>But then we saw in the previous section that <code>input()</code> was returning whatever we typed in, including <code>Goats rock!</code> which is certainly not any number I’ve ever heard of.</p>
<p>And, no, it’s not a number, indeed. It’s a sequence of characters, which we call a <em>string</em>. A string is something like a word, or a sentence, for example.</p>
<p>Wait… there’s another type of data besides numbers? Yes! Lots of types of data! We call them <em>data types</em>.</p>
<p>Python associates a <em>type</em> with every variable. This means it keeps track of whether a variable holds an integer, a <em>floating point</em><a href="#fn26" class="footnote-ref" id="fnref26" role="doc-noteref"><sup>26</sup></a> number, or a string of characters.</p>
<p>Here are some examples and their associated types. When you store one of these values in a variable, the variable remembers the type of data stored within it.</p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Example Data</th>
<th style="text-align: left;">Type in English</th>
<th style="text-align: left;">Type name in Python</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>2</code></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;"><code>int</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>3490</code></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;"><code>int</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>-45</code></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;"><code>int</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>0</code></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;"><code>int</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>3.14159</code></td>
<td style="text-align: left;">Floating Point</td>
<td style="text-align: left;"><code>float</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>-13.8</code></td>
<td style="text-align: left;">Floating Point</td>
<td style="text-align: left;"><code>float</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>0.0</code></td>
<td style="text-align: left;">Floating Point</td>
<td style="text-align: left;"><code>float</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>"Hello!"</code></td>
<td style="text-align: left;">String</td>
<td style="text-align: left;"><code>str</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>"3490"</code></td>
<td style="text-align: left;">String</td>
<td style="text-align: left;"><code>str</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>""</code></td>
<td style="text-align: left;">String (empty)</td>
<td style="text-align: left;"><code>str</code></td>
</tr>
</tbody>
</table>
<p>In the examples, above, strings are declared using double quotes (<code>"</code>), but they can also be done with single quotes, as long as the quotes match on both ends:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>    <span class="co">&quot;Hello!&quot;</span>  <span class="co"># is the same as &#39;Hello!&#39;</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">&#39;Hello!&#39;</span>  <span class="co"># is the same as &quot;Hello!&quot;</span></span></code></pre></div>
<p>Okay, that’s all fine. But is <code>input()</code> returning a string or a number? We saw both happen when we tried it out, right?</p>
<p>Actually, turns out, <code>input()</code> <strong>always</strong> returns a string. Period. Even if that’s a string of numbers. Note that these things are <strong>not</strong> the same:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3490</span>     <span class="co"># int, a numeric value we can do math with</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">&quot;3490&quot;</span>   <span class="co"># string, a sequence of characters</span></span></code></pre></div>
<p>Sure, they look kinda the same, but they aren’t the same <em>because they have different types</em>. You can do arithmetic on an <code>int</code>, but not on a string.</p>
<p>Well, that’s just great. The task for this chapter is to get two numbers from the keyboard and add them together, but the <code>input()</code> function only returns strings, and we can’t add strings together numerically!</p>
<p>How can we solve this problem?</p>
<h2 id="converting-between-data-types">Converting Between Data Types</h2>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>If we can’t add strings mathematically, can we convert the string <code>"3490"</code> into the integer <code>3490</code> and then do math on that?</p>
<p>Yes!</p>
<p>In fact, we can convert back and forth between all kinds of data types! Watch us convert a string to a number and store it in a variable:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>    a <span class="op">=</span> <span class="st">&quot;3490&quot;</span>    <span class="co"># a is a string &quot;3490&quot;</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>    b <span class="op">=</span> <span class="bu">int</span>(a)    <span class="co"># b is an integer 3490!</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(b <span class="op">+</span> <span class="dv">5</span>)  <span class="co"># 3495</span></span></code></pre></div>
<p>How did that work? We called the built-in <code>int()</code> function and passed it a string <code>"3490"</code>. <code>int()</code> did all the hard work and converted that string to an integer and returned it. We then stored the returned value in <code>y</code>. And finally, we printed the value of <code>b+5</code> just to show that we could do math on it.</p>
<p>Perfect!</p>
<p>Here are some of the conversion functions available to you in Python:</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">Function</th>
<th style="text-align: left;">Effect</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code>int()</code></td>
<td style="text-align: left;">Convert argument to an integer and return it</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>float()</code></td>
<td style="text-align: left;">Convert argument to a floating point number and return it</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>str()</code></td>
<td style="text-align: left;">Convert argument to a string and return it</td>
</tr>
</tbody>
</table>
<p>So… given all that we know so far, how can we solve this chapter’s problem: input two numbers from the keyboard and print the sum?</p>
<h2 id="input-two-numbers-and-print-the-sum">Input Two Numbers and Print the Sum</h2>
<p>Problem solving step: <strong>Devising a Plan</strong>.</p>
<p>We know:</p>
<ul>
<li>How to input strings from the keyboard</li>
<li>How to convert strings to numbers</li>
<li>How to add numbers together</li>
<li>How to print things out</li>
</ul>
<p>Now—how do we put all that together to write a program that inputs two numbers from the keyboard and prints their sum?</p>
<p>This is the <em>Devising a Plan</em> portion of problem solving. We’re not going to write code to make this happen. We’re just going to write an outline of the individual steps the program must describe in a language called <em>pseudocode</em> (which is English that looks kinda like code).</p>
<p>Then when we’re satisfied it’ll work, we can code it up for realsies.</p>
<p>So stop here and take a moment to consider what the step by step might be to get this done.</p>
<p>Really, take a moment, because I’m about to give spoilers. Thinking about how to solve problems is 80% of what a software developer gets paid to do, so you might as well practice right now.</p>
<p>What do we know? What tools do we have at our disposal? What resources? How do I put all those together to solve this problem, like solving a puzzle?</p>
<p>Here’s some pseudocode that would get the job done, it looks like:</p>
<pre><code>    read string from keyboard into variable x
    convert x to int and store it back in x again
    read string from keyboard into variable y
    convert y to int and store it back in y again
    print the sum of x + y</code></pre>
<p>If we’re satisfied that our plan is solid, it’s time to move to the next phase.</p>
<p>Problem solving step: <strong>Carrying out the Plan</strong>.</p>
<p>Now let’s convert each of those lines to real Python. I’ll throw in the pseudocode as comments so we can see how they compare. (<a href="https://beej.us/guide/bgpython/examples/twosum.py">Source code link</a><a href="#fn27" class="footnote-ref" id="fnref27" role="doc-noteref"><sup>27</sup></a>.)</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1"></a><span class="co"># Read string from keyboard into variable x</span></span>
<span id="cb40-2"><a href="#cb40-2"></a>x <span class="op">=</span> <span class="bu">input</span>(<span class="st">&quot;Enter a number: &quot;</span>)</span>
<span id="cb40-3"><a href="#cb40-3"></a></span>
<span id="cb40-4"><a href="#cb40-4"></a><span class="co"># Convert x to int and store it back in x again</span></span>
<span id="cb40-5"><a href="#cb40-5"></a>x <span class="op">=</span> <span class="bu">int</span>(x)</span>
<span id="cb40-6"><a href="#cb40-6"></a></span>
<span id="cb40-7"><a href="#cb40-7"></a><span class="co"># Read string from keyboard into variable y</span></span>
<span id="cb40-8"><a href="#cb40-8"></a>y <span class="op">=</span> <span class="bu">input</span>(<span class="st">&quot;Enter another number: &quot;</span>)</span>
<span id="cb40-9"><a href="#cb40-9"></a></span>
<span id="cb40-10"><a href="#cb40-10"></a><span class="co"># Convert y to int and store it back in y again</span></span>
<span id="cb40-11"><a href="#cb40-11"></a>y <span class="op">=</span> <span class="bu">int</span>(y)</span>
<span id="cb40-12"><a href="#cb40-12"></a></span>
<span id="cb40-13"><a href="#cb40-13"></a><span class="co"># Print the sum of x + y</span></span>
<span id="cb40-14"><a href="#cb40-14"></a><span class="bu">print</span>(<span class="st">&quot;The sum of the two numbers is:&quot;</span>, x <span class="op">+</span> y)</span></code></pre></div>
<p>Save that file as <code>twosum.py</code> and run it:</p>
<pre><code>    $ python3 twosum.py
    Enter a number: 9
    Enter another number: 8
    The sum of the two numbers is: 17</code></pre>
<p>Too easy! Let’s challenge it:</p>
<pre><code>    $ python3 twosum.py
    Enter a number: 235896423496865928659832536289
    Enter another number: 94673984675289643982463929238
    The sum of the two numbers is: 330570408172155572642296465527</code></pre>
<p>Not even breaking a sweat!</p>
<p>Nice. Now, I want you to <em>think like a villain</em>. What would a villain pass into our program for input that would cause it to break?</p>
<ul>
<li>Negative numbers?</li>
<li>Zero?</li>
<li>Decimal numbers?</li>
<li>Non-numbers, like “goat”?</li>
</ul>
<p>Try all those things with your program. What happens when you try it? Which ones work and which ones don’t?</p>
<p>Notice that a big, spewing error message is really the <em>worst case scenario</em> here. And it’s not really that painful. Don’t be afraid to try to break your code. The computer can handle it. Just run it again.</p>
<p>Later, we’ll learn techniques to catch errors like this so that the program doesn’t bomb out, and prints a nice message to the user to please try again with valid input, thank you very much.</p>
<blockquote>
<p><em>Notice that when the program crashes, buried in all that output, is the line number the program crashed on! Very, very useful! And the last line tells you exactly what Python thinks went wrong.</em></p>
</blockquote>
<p>The point is, if you’re not sure how something will work, <em><strong>just try it</strong></em>. Experiment! Break things! Fix things! Again, the computer can absolutely handle it. It’s just a big sandbox for you to play in.</p>
<h2 id="wrapping-it-up">Wrapping it Up</h2>
<p>Problem solving step: <strong>Looking Back</strong>.</p>
<p>This grimly-named step is where we take a look at our code and decide if there was a better way to attack this problem. It’s important to remember that <em>coding is a creative endeavor</em>. There are many ways to solve the same problem.</p>
<p>Admittedly, right now, you don’t have many tools in the toolkit, so your creativity is limited. But eventually, in the not-too-distant future, you’ll know several ways to solve a problem, and you’ll have to weigh the pros and cons of each, and be creative and choose one!</p>
<p>What could be better?</p>
<ul>
<li>We saw earlier that passing in floating point numbers (with a decimal point) bombed out. It would be nice if the program would add both floating point.</li>
</ul>
<p>What else could we do?</p>
<ul>
<li>What about other math operations?</li>
</ul>
<h2 id="exercises-1">Exercises</h2>
<blockquote>
<p><em>“You know how to get to Carnegie Hall?”</em></p>
<p><em>“Practice!”</em></p>
</blockquote>
<p>Zeus says, “<strong>This book assumes you complete all of the exercises!</strong>” and when Zeus speaks, people really should listen.</p>
<p>I know, I know. You get to the exercises part of a book and you just skip ahead. I mean, it’s not like I’m <em>grading</em> you or anything.</p>
<p>But there’s only one way to get to be a better dev: practice and repetition. Going through this book without doing the exercises is like training for a marathon by reading about how to run. It’s simply not going to get you there on its own.</p>
<p><strong>Resist the urge to look at the solution until you’ve solved it!</strong> Give yourself a time limit. “If I haven’t solved this in 20 minutes, I can look at the solution.” That 20 minutes isn’t wasted—it’s invaluable problem solving practice time. During that time, you’re building a scaffold in your brain that can <em>hold</em> the solution once you see it.</p>
<p>If you just skip straight to the solution, look at it, and say, “Yup, makes sense, I got it,” you’re missing out on all that benefit.</p>
<p>Don’t shortchange yourself! Do the exercises! The more you do, the better dev you’ll be! I’m getting off my soapbox now!</p>
<p>Remember to use the <a href="#problem-solving">four problem-solving steps</a> to solve these problems: understand the problem, devise a plan, carry it out, look back to see what you could have done better.</p>
<p>Here they are:</p>
<ol type="1">
<li><p>Make a version of the two number sum code that works with <code>float</code>s instead of <code>int</code>s. Do the numbers always add correctly, or are they sometimes just a little bit off? Lesson: <em>floating point math isn’t always exact</em>. Sometimes it’s off by a tiny fraction. (<a href="https://beej.us/guide/bgpython/examples/ex_twosumfloat.py">Solution</a><a href="#fn28" class="footnote-ref" id="fnref28" role="doc-noteref"><sup>28</sup></a>.)</p></li>
<li><p>Have the program print out the sum and the difference between two numbers. (<a href="https://beej.us/guide/bgpython/examples/ex_twosumdiff.py">Solution</a><a href="#fn29" class="footnote-ref" id="fnref29" role="doc-noteref"><sup>29</sup></a>.)</p></li>
<li><p>Allow the user to enter 3 numbers and perform the math on those. (<a href="https://beej.us/guide/bgpython/examples/ex_threesumdiff.py">Solution</a><a href="#fn30" class="footnote-ref" id="fnref30" role="doc-noteref"><sup>30</sup></a>.)</p></li>
<li><p>Write a program that allows the user to enter a value for <span class="math inline">\(x\)</span>, and then computes and prints <span class="math inline">\(x^2\)</span>. Remember <code>**</code> is the exponentiation operator in Python. <code>3**2</code> is <code>9</code>. (<a href="https://beej.us/guide/bgpython/examples/ex_xsquared.py">Solution</a><a href="#fn31" class="footnote-ref" id="fnref31" role="doc-noteref"><sup>31</sup></a>.)</p></li>
<li><p>Write a program that allows the user to enter <code>a</code>, <code>b</code>, and <code>c</code>, and the solves <a href="https://en.wikipedia.org/wiki/Quadratic_formula">the quadratic formula</a><a href="#fn32" class="footnote-ref" id="fnref32" role="doc-noteref"><sup>32</sup></a> for those values.</p>
<p>A refresher: with equations of the form:</p>
<p><span class="math inline">\(ax^2+bx+c=0\)</span></p>
<p>you can solve for <span class="math inline">\(x\)</span> with the quadratic formula:</p>
<p><span class="math inline">\(x=\cfrac{-b\pm\sqrt{b^2-4ac}}{2a}\)</span></p>
<p>This all looks terrifying! <!-- Especially if you're reading it in
Markdown. That's LaTeX math markup and isn't particularly fit for
human consumption. Do yourself a favor and look at the HTML or PDF
versions, you masochist. --> Can you feel your brain seizing up over it? Deer in the headlights? <em>That’s OK</em>. This is how developers feel when confronted with a new problem. Really! All of us! But what we know is that we have a problem solving framework we can use to attack this problem regardless of how difficult it seems initially.</p>
<p>Remember: Understand, Plan, then Code It Up.</p>
<p>Take a deep breath. Shake off the fear!</p>
<p>You can absolutely do this. It’s not any harder than anything so far! Let’s go!</p>
<p>Your program should plug <code>a</code>, <code>b</code>, and <code>c</code> into the above formula and print out the result value in <code>x</code>.</p>
<blockquote>
<p>Make sure <span class="math inline">\(b^2\ge4ac\)</span> or there won’t be a solution and you’ll get a “domain error” when you try to take the square root of a negative number. Some test values for <span class="math inline">\(a\)</span>, <span class="math inline">\(b\)</span>, and <span class="math inline">\(c\)</span> that work: <code>5</code>, <code>9</code>, <code>3</code>, or <code>20</code>, <code>140</code>, <code>60</code>.</p>
</blockquote>
<p>What is that <span class="math inline">\(\pm\)</span> symbol after <span class="math inline">\(-b\)</span> in the equation? That’s “plus or minus”. It means there are actually two equations, one with <span class="math inline">\(+\)</span> and one with <span class="math inline">\(-\)</span>:</p>
<p><span class="math inline">\(x_{plus}=\cfrac{-b+\sqrt{b^2-4ac}}{2a}\)</span>      <span class="math inline">\(x_{minus}=\cfrac{-b-\sqrt{b^2-4ac}}{2a}\)</span></p>
<p>Solve them both and print out both answers for a given <span class="math inline">\(a\)</span>, <span class="math inline">\(b\)</span>, and <span class="math inline">\(c\)</span>.</p>
<p>What about that square root of <span class="math inline">\(b^2-4ac\)</span>? How do you compute that? Here’s a demo program for computing the square root of <code>2</code>—use it to learn how to use the <code>math.sqrt()</code> function, and then apply it to this problem.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1"></a><span class="im">import</span> math      <span class="co"># You need this for access to the sqrt() function</span></span>
<span id="cb43-2"><a href="#cb43-2"></a></span>
<span id="cb43-3"><a href="#cb43-3"></a>x <span class="op">=</span> math.sqrt(<span class="dv">2</span>) <span class="co"># Compute sqrt(2)</span></span>
<span id="cb43-4"><a href="#cb43-4"></a><span class="bu">print</span>(x)         <span class="co"># 1.4142135623730951</span></span></code></pre></div>
<p>Code that up and, hey! You’ve written a program that solves quadratic equations! Take <em>that</em>, homework! (<a href="https://beej.us/guide/bgpython/examples/ex_quadratic.py">Solution</a><a href="#fn33" class="footnote-ref" id="fnref33" role="doc-noteref"><sup>33</sup></a>.)</p></li>
<li><p>Followup to the previous question: after computing <code>x</code>, go ahead and compute the value of</p>
<p><span class="math inline">\(ax^2+bx+c\)</span></p>
<p>and print it out. (You can use either the plus solution or the minus solution—doesn’t matter since they’re both solutions.) The result should be exactly <code>0</code>. Is it? Or is it just something really close to zero? Lesson: <em>floating point math isn’t always exact</em>. Sometimes it’s off by a tiny fraction.</p>
<p>Sometimes you might get a number back that looks like this, with a funky <code>e-16</code> at the end (or <code>e-</code>something):</p>
<p><code>8.881784197001252e-16</code></p>
<p>That’s a floating point number, but in <a href="https://en.wikipedia.org/wiki/Scientific_notation">scientific notation</a><a href="#fn34" class="footnote-ref" id="fnref34" role="doc-noteref"><sup>34</sup></a>. That <code>e-16</code> is the same as <span class="math inline">\(\times10^{-16}\)</span>. So the math equivalent is:</p>
<p><span class="math inline">\(8.881784197001252\times10^{-16}\)</span></p>
<p>Now, <span class="math inline">\(10^{-16}\)</span> is actually a really, really small number. So if you see something like <code>e-15</code> or <code>e-18</code> at the end of a float, think “that’s a really small number, like close to zero.”</p>
<p>(<a href="https://beej.us/guide/bgpython/examples/ex_quadratic2.py">Solution</a><a href="#fn35" class="footnote-ref" id="fnref35" role="doc-noteref"><sup>35</sup></a>.)</p></li>
<li><p>Make up two more exercises and code them up.</p></li>
</ol>
<p>And don’t worry–we’ll get away from the math examples soon enough. It’s just, for now, that’s about all we know. More soon!</p>
<h2 id="summary-3">Summary</h2>
<p>This chapter we covered:</p>
<ul>
<li>Data and variables</li>
<li>Storing and printing data in variables</li>
<li>Doing basic math</li>
<li>Getting keyboard input</li>
<li>Data types, and conversions between them
<ul>
<li>String</li>
<li>Integer</li>
<li>Floating Point</li>
</ul></li>
<li>Keeping the problem solving framework in mind the whole time!</li>
</ul>
<p>It’s a great start, but there’s plenty more to come!</p>
<!--
vim: ts=4:sw=4:nosi:et:tw=72:spell:nojs
-->
<h1 id="flow-control-and-looping">Flow Control and Looping</h1>
<h2 id="objective-1">Objective</h2>
<ul>
<li>Understand what flow control is</li>
<li>Understand what a conditional is</li>
<li>Be able to construct Boolean (“BOO-lee-in”) expressions</li>
<li>Implement code that makes decisions with <code>if</code> statements</li>
<li>Implement code that loops with a <code>while</code> loop</li>
<li>Implement code that loops with a <code>for</code> loop and <code>range</code> iterator</li>
</ul>
<h2 id="loop-proj-spec">Chapter Project Specification</h2>
<p>For this chapter, we want to write a program that asks the user for a number between 5 and 50, inclusive.</p>
<p>If a number outside that range is entered, an error message is printed and the user is asked again to enter a valid number.</p>
<p>Once the number is obtained, the program will print out that many <code>#</code> characters in a row. EXCEPT all characters at position 31 and above should print out a <code>*</code>. (Characters before that position will still be a <code>#</code>.)</p>
<p>For example, an input of 10 would result in:</p>
<pre><code>    ##########</code></pre>
<p>whereas an input of 37 would result in:</p>
<pre><code>    ##############################*******</code></pre>
<p>Keep this program in mind as we learn the techniques to implement it.</p>
<h2 id="what-is-flow-control">What is Flow Control?</h2>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>What is <em>flow control</em>? To understand, let’s look at a simple program:</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1"></a><span class="bu">print</span>(<span class="st">&quot;Are we not drawn onward&quot;</span>)</span>
<span id="cb46-2"><a href="#cb46-2"></a><span class="bu">print</span>(<span class="st">&quot;We few&quot;</span>)</span>
<span id="cb46-3"><a href="#cb46-3"></a><span class="bu">print</span>(<span class="st">&quot;Drawn onward to new era?&quot;</span>)</span></code></pre></div>
<p>When this program runs, Python keeps track of the current instruction, or line, if you will.</p>
<p>First, Python runs the first line.</p>
<p>Then it goes to the next.</p>
<p>Then it goes to the last.</p>
<p>And then it falls off the end and completes.</p>
<p>Kind of monotonous, right? I mean, it just brainlessly goes to the next instruction every time.</p>
<p>What if you want to transfer the program flow elsewhere instead of just blindly going to the next instruction?</p>
<p>This is where you get your first taste of what it means to be a developer. You can ask the computer to make smart decisions based on criteria you specify. Figuring out which criteria to specify is the job of a programmer and where most of the hard work comes in.</p>
<p>Eventually we’re going to code up things that say “If some condition is true, do one thing” or “If some condition is false, do another thing”.</p>
<p>But before that, we have to meet someone: George Boole.</p>
<h2 id="boolean-algebra-and-expressions">Boolean Algebra and Expressions</h2>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p><a href="https://en.wikipedia.org/wiki/George_Boole">George Boole</a><a href="#fn36" class="footnote-ref" id="fnref36" role="doc-noteref"><sup>36</sup></a> was quite an interesting character. From humble beginnings in the early 1800s, he went on to develop the mathematics that became, in many ways, the foundation of modern computation. Pretty awesome.</p>
<p>What he developed is what we call today <em>Boolean Algebra</em>.</p>
<p>Don’t worry–it’s easier than that algebra you’re thinking of. In fact, you already know it, just not formally and not by that name.</p>
<p>With Boolean, we’re interested in whether or not expressions are <em>true</em> or <em>false</em>. And then we can make decisions on whether or not they are.</p>
<p>Let’s do some human ones before we get into the computer stuff.</p>
<p>Level: Easy. Are these expressions true or false for you?</p>
<ul>
<li>I live in North America.</li>
<li>It’s raining right now.</li>
<li>Cats are superior to dogs.</li>
</ul>
<p>Hopefully that wasn’t particularly challenging. Let’s take it up a notch by introducing the concept of <em>AND</em>. For these, the entire expression is true <em>only if all subexpressions are true</em>.</p>
<p>For example, the statement “I’m over 190 cm tall AND I’m under 30 years of age” is false. Though I am over 190 cm tall, am I not under 30 years, so the entire expression is false.</p>
<p>By comparison, “I like dogs AND I like motorcycles” <em>is</em> true, because both of those subexpressions are true.</p>
<p>And if neither of them are true, the result is also false.</p>
<p>Level: Intermediate. Are these expressions true or false for you?</p>
<ul>
<li>I live in Europe AND I’m older than 25.</li>
<li>It’s raining right now AND it’s sunny right now.</li>
<li>Cats are superior to dogs AND dogs are superior to cats.</li>
</ul>
<p>All right! Let’s do a variant on AND, namely <em>OR</em>. With OR, the entire expression is true if <em>either or both</em> of the subexpressions is true.</p>
<p>For example, I <em>don’t</em> like running, but I do like bicycling. Nevertheless, the following statement is true, because at least one of the subexpressions is true: “I like running OR I like bicycling”. True.</p>
<blockquote>
<p><em>This is the basis for the smarty-pants answer to the question:</em></p>
<p><em>“Would you like soup or salad?”</em></p>
<p><em>“True. I would like soup or I would like salad.”</em></p>
<p><em>“Get out of my restaurant, Boolean fanatic!”</em></p>
</blockquote>
<p>Level: Intermediate. Are these expressions true or false for you?</p>
<ul>
<li>I live in Europe OR I’m older than 25.</li>
<li>It’s raining right now OR it’s sunny right now.</li>
<li>Cats are superior to dogs OR dogs are superior to cats.</li>
</ul>
<p>All right! Now one more thing to remember: unless there are parentheses in an expression saying otherwise, AND takes precedence over OR. That is, do the ANDs first, and then do the ORs.</p>
<p>Level: Advanced.</p>
<p>Let’s say it’s raining, I’m over 25, and this fish is big. We could evaluate this expression:</p>
<blockquote>
<p>It’s sunny AND this fish is big OR I’m over 25.</p>
</blockquote>
<p>We do the AND first. It’s not sunny, and the fish is big. So that’s “false AND true”, which evaluates to “false”.</p>
<p>So replace that AND expression with “false”. And then we’ll do the OR:</p>
<blockquote>
<p>false OR I’m over 25.</p>
</blockquote>
<p>Now I am over 25, so that evaluates to “false OR true”, which is “true”.</p>
<p>So the entire expression is true.</p>
<p>And you can override with parentheses:</p>
<blockquote>
<p>It’s sunny AND (this fish is big OR I’m over 25).</p>
</blockquote>
<p>Do the work in parens first. So now we evaluate the OR, which evaluates to “true OR true” which is “true”. <em>Then</em> we evaluate the AND, which is “It’s sunny AND true”, which is “false AND true”, which is “false”.</p>
<p>So the entire expression is false.</p>
<p>Let’s do some examples with numeric conditional expressions. Do these evaluate to true or false?</p>
<ul>
<li>1 &lt; 5</li>
<li>5 &gt; 1</li>
<li>1 &lt; 5 AND 5 &lt; 10</li>
<li>1 &gt; 5 OR 5 &lt; 10</li>
<li>1 &lt; 5 AND 5 &gt; 10 OR 10 &gt; 20</li>
<li>1 &lt; 5 AND (5 &gt; 10 OR 10 &gt; 20)</li>
</ul>
<p>Answers:</p>
<ul>
<li>True</li>
<li>True</li>
<li>True AND True = True</li>
<li>False OR True = True</li>
<li>True AND False OR False = False OR False = False</li>
<li>True AND (False OR False) = True AND False = False</li>
</ul>
<p>Sometimes developers (but more usually hardware folks) describe these operations in what are called <em>truth tables</em>. A truth table shows what the result of a Boolean expression will be for some given inputs.</p>
<p>Often these tables use <code>1</code> to represent <code>True</code> and <code>0</code> to represent <code>False</code><a href="#fn37" class="footnote-ref" id="fnref37" role="doc-noteref"><sup>37</sup></a>.</p>
<p>Here are some truth tables for the operations we’ve seen so far.</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">A</th>
<th style="text-align: center;">B</th>
<th style="text-align: center;">A AND B</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code>0</code></td>
<td style="text-align: center;"><code>0</code></td>
<td style="text-align: center;"><code>0</code></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>0</code></td>
<td style="text-align: center;"><code>1</code></td>
<td style="text-align: center;"><code>0</code></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>1</code></td>
<td style="text-align: center;"><code>0</code></td>
<td style="text-align: center;"><code>0</code></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>1</code></td>
<td style="text-align: center;"><code>1</code></td>
<td style="text-align: center;"><code>1</code></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">A</th>
<th style="text-align: center;">B</th>
<th style="text-align: center;">A OR B</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code>0</code></td>
<td style="text-align: center;"><code>0</code></td>
<td style="text-align: center;"><code>0</code></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>0</code></td>
<td style="text-align: center;"><code>1</code></td>
<td style="text-align: center;"><code>1</code></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>1</code></td>
<td style="text-align: center;"><code>0</code></td>
<td style="text-align: center;"><code>1</code></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>1</code></td>
<td style="text-align: center;"><code>1</code></td>
<td style="text-align: center;"><code>1</code></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">A</th>
<th style="text-align: center;">NOT A</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code>0</code></td>
<td style="text-align: center;"><code>1</code></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>1</code></td>
<td style="text-align: center;"><code>0</code></td>
</tr>
</tbody>
</table>
<p>Now we’re about ready to go. Let’s learn how to do this in Python.</p>
<h2 id="boolean-operations-in-python">Boolean Operations in Python</h2>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>The comparison operators in Python are:</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">Operator</th>
<th style="text-align: left;">Effect</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code>&lt;</code></td>
<td style="text-align: left;">Less than, e.g. <code>x &lt; y</code></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>&gt;</code></td>
<td style="text-align: left;">Greater than, e.g. <code>x &gt; y</code></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>==</code></td>
<td style="text-align: left;">Equal to, e.g. <code>x == y</code></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>!=</code></td>
<td style="text-align: left;">Not equal to, e.g. <code>x != y</code></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>&lt;=</code></td>
<td style="text-align: left;">Less than or equal to, e.g. <code>x &lt;= y</code></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>&gt;=</code></td>
<td style="text-align: left;">Greater than or equal to, e.g. <code>x &gt;= y</code></td>
</tr>
</tbody>
</table>
<p>So we can take a variable and convert it to a true or false value by comparing it to numbers or other variables.</p>
<p>What are true and false in Python?</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">Boolean</th>
<th style="text-align: center;">Python Keyword</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">True</td>
<td style="text-align: center;"><code>True</code></td>
</tr>
<tr class="even">
<td style="text-align: center;">False</td>
<td style="text-align: center;"><code>False</code></td>
</tr>
</tbody>
</table>
<p>Easy enough.</p>
<p>Let’s try a quick <a href="https://beej.us/guide/bgpython/examples/booltest.py">demo</a><a href="#fn38" class="footnote-ref" id="fnref38" role="doc-noteref"><sup>38</sup></a>:</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1"></a><span class="bu">print</span>(<span class="va">True</span>)     <span class="co"># True</span></span>
<span id="cb47-2"><a href="#cb47-2"></a><span class="bu">print</span>(<span class="va">False</span>)    <span class="co"># False</span></span>
<span id="cb47-3"><a href="#cb47-3"></a></span>
<span id="cb47-4"><a href="#cb47-4"></a>x <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb47-5"><a href="#cb47-5"></a><span class="bu">print</span>(x <span class="op">==</span> <span class="dv">10</span>)  <span class="co"># True</span></span>
<span id="cb47-6"><a href="#cb47-6"></a><span class="bu">print</span>(x <span class="op">&lt;</span> <span class="dv">5</span>)    <span class="co"># False</span></span>
<span id="cb47-7"><a href="#cb47-7"></a></span>
<span id="cb47-8"><a href="#cb47-8"></a><span class="co"># You can store the Boolean result in a variable!</span></span>
<span id="cb47-9"><a href="#cb47-9"></a>r <span class="op">=</span> x <span class="op">&gt;=</span> <span class="dv">7</span></span>
<span id="cb47-10"><a href="#cb47-10"></a><span class="bu">print</span>(r)        <span class="co"># True</span></span></code></pre></div>
<p>Check that out! You can store the Boolean result of a comparison in a variable, like we did with <code>r</code>, above!</p>
<p>It’s important to note that <code>True</code> and <code>False</code> are not strings. They represent Boolean values.</p>
<p>So now, for data types, we know about strings, ints, floats, and Booleans (sometimes called bools for short). Add that to the collection of tools we have at our disposal.</p>
<p>But what about our good friends AND and OR?</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">Boolean</th>
<th style="text-align: center;">Python Keyword</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">AND</td>
<td style="text-align: center;"><code>and</code></td>
</tr>
<tr class="even">
<td style="text-align: center;">OR</td>
<td style="text-align: center;"><code>or</code></td>
</tr>
<tr class="odd">
<td style="text-align: center;">NOT</td>
<td style="text-align: center;"><code>not</code></td>
</tr>
</tbody>
</table>
<p>Pretty easy, but I threw in a NOT! What is that? It’s pretty easy: it just inverts whatever you give it. “NOT true” is false. And “NOT false” is true.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="kw">not</span> <span class="va">False</span>)  <span class="co"># Prints True</span></span></code></pre></div>
<p>Seems mundane, but we’ll make good use of it in a minute.</p>
<h2 id="the-almighty-if-statement">The Almighty <code>if</code> Statement</h2>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>It’s all well and good for Python to tell me that <code>1 &lt; 5</code> is <code>True</code>, but how can we actually use that to make choices in a program?</p>
<p>Let’s consider a small program that will let the user input a number and it will tell the user if the number is between 50 and 59, inclusive.</p>
<p>Before coding, let’s think about how to approach it. If the number is stored in <code>x</code>, what would the Boolean expression in Python be that would be <code>True</code> if <code>x</code> were between <code>50</code> and <code>59</code>?</p>
<p>I’m talking <code>and</code>s and <code>or</code>s and <code>not</code>s and <code>&lt;</code>s and <code>&gt;</code>s… not necessarily all of them, but the ones needed.</p>
<p>Did you get it? Spoilers ahead!</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>    x <span class="op">&gt;=</span> <span class="dv">50</span> <span class="kw">and</span> x <span class="op">&lt;=</span> <span class="dv">59</span>  <span class="co"># True if x in that range!</span></span></code></pre></div>
<p>Let’s take that knowledge and turn it into <a href="https://beej.us/guide/bgpython/examples/ifelse1.py">a complete program</a><a href="#fn39" class="footnote-ref" id="fnref39" role="doc-noteref"><sup>39</sup></a> using <code>if</code>, and then we can take it apart in more detail:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1"></a>x <span class="op">=</span> <span class="bu">input</span>(<span class="st">&quot;Enter a number: &quot;</span>)</span>
<span id="cb50-2"><a href="#cb50-2"></a>x <span class="op">=</span> <span class="bu">float</span>(x)</span>
<span id="cb50-3"><a href="#cb50-3"></a></span>
<span id="cb50-4"><a href="#cb50-4"></a><span class="cf">if</span> x <span class="op">&gt;=</span> <span class="dv">50</span> <span class="kw">and</span> x <span class="op">&lt;=</span> <span class="dv">59</span>:</span>
<span id="cb50-5"><a href="#cb50-5"></a>    <span class="bu">print</span>(x, <span class="st">&quot;is between 50 and 59, inclusive&quot;</span>)</span>
<span id="cb50-6"><a href="#cb50-6"></a>    <span class="bu">print</span>(<span class="st">&quot;Well done!&quot;</span>)</span>
<span id="cb50-7"><a href="#cb50-7"></a><span class="cf">else</span>:</span>
<span id="cb50-8"><a href="#cb50-8"></a>    <span class="bu">print</span>(x, <span class="st">&quot;is not between 50 and 59, inclusive&quot;</span>)</span></code></pre></div>
<p>So if <code>x &gt;=50 and x &lt;= 59</code> is <code>True</code>, then we execute the <em>block</em> that is indented afterward.</p>
<blockquote>
<p><em>Blocks can be indented with any combination of tabs or spaces, as long as each line in the block begins with the same pattern of tabs or spaces. The official recommendation is to</em> <strong>use 4 spaces for indentation</strong> <em>in Python.</em></p>
<p><em>Indented blocks in Python are one of the things most devs are pretty opinionated about in terms of loving or hating. Personally, I say be a good dev in any language, regardless of how you feel about their idiosyncrasies.</em></p>
</blockquote>
<p>And then what’s this pesky <code>else</code>? That’s a super-handy feature of <code>if</code>. If the condition is <code>False</code>, then the block under the <code>else</code> is evaluated instead. Basically we’re saying, “If the condition is true, then do this, otherwise do this.”</p>
<p>There’s one more construct we can use in the <code>if</code>-<code>else</code> family: <code>elif</code>. This is short for <code>else if</code> and is used if you need to check multiple conditions.</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1"></a><span class="cf">if</span> x <span class="op">&lt;</span> <span class="dv">10</span>:</span>
<span id="cb51-2"><a href="#cb51-2"></a>    <span class="bu">print</span>(<span class="st">&quot;x is less than 10&quot;</span>)</span>
<span id="cb51-3"><a href="#cb51-3"></a><span class="cf">elif</span> x <span class="op">&lt;</span> <span class="dv">20</span>:</span>
<span id="cb51-4"><a href="#cb51-4"></a>    <span class="bu">print</span>(<span class="st">&quot;x is less than 20&quot;</span>)</span>
<span id="cb51-5"><a href="#cb51-5"></a><span class="cf">elif</span> x <span class="op">&lt;</span> <span class="dv">30</span>:</span>
<span id="cb51-6"><a href="#cb51-6"></a>    <span class="bu">print</span>(<span class="st">&quot;x is less than 30&quot;</span>)</span>
<span id="cb51-7"><a href="#cb51-7"></a><span class="cf">else</span>:</span>
<span id="cb51-8"><a href="#cb51-8"></a>    <span class="bu">print</span>(<span class="st">&quot;x is greater than or equal to 30&quot;</span>)</span></code></pre></div>
<p>In that example, first we check if <code>x</code> is less than 10. If that’s <code>False</code>, the next condition is tested, and so on. If none of them match, then we get to the <code>else</code> case.</p>
<p>The <code>if</code> statement is the core of what allows us to use Boolean logic to control the flow of our program. It’s how computers can make decisions based on input. Without <code>if</code>, there would be no computing–that’s how important it is!</p>
<p>And your job as a dev is to come up with that logic, those <code>if</code> statements and conditions, that cause your program to give the proper output for a given input.</p>
<h2 id="and-now-while-loops">And Now: <code>while</code> Loops!</h2>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>We’re going to divert ever-so-slightly, and talk about another important concept in programming: <em>loops</em>. A loop is what allows us to execute the same piece of code repeatedly without repeating ourselves.</p>
<p>Here’s a real-life example. Let’s say you have to add some shingles to a roof. The steps to do so are to place a shingle, nail it in place, and then move to the next spot.</p>
<p>Instructions for four shingles might be:</p>
<ul>
<li>Place a shingle</li>
<li>Nail it on</li>
<li>Move to the next spot</li>
<li>Place a shingle</li>
<li>Nail it on</li>
<li>Move to the next spot</li>
<li>Place a shingle</li>
<li>Nail it on</li>
<li>Move to the next spot</li>
<li>Place a shingle</li>
<li>Nail it on</li>
<li>Move to the next spot</li>
</ul>
<p>But that’s irksomely verbose. It would be nicer to do something like this:</p>
<ul>
<li>While we haven’t yet placed 4 shingles:
<ul>
<li>Place a shingle</li>
<li>Nail it on</li>
<li>Move to the next spot</li>
</ul></li>
</ul>
<p>That’s us <em>looping</em>. We’re running the same piece of code while a condition is <code>True</code>. At the very least, this can save us a lot of typing!</p>
<p>Python has a number of looping statements, but for this section, we’ll concentrate on what’s called the <code>while</code>-loop. It does something while a condition is true.</p>
<p><a href="https://beej.us/guide/bgpython/examples/while.py">Here’s an example</a><a href="#fn40" class="footnote-ref" id="fnref40" role="doc-noteref"><sup>40</sup></a> that counts from 1200 to 1210:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1"></a>x <span class="op">=</span> <span class="dv">1200</span></span>
<span id="cb52-2"><a href="#cb52-2"></a></span>
<span id="cb52-3"><a href="#cb52-3"></a><span class="cf">while</span> x <span class="op">&lt;=</span> <span class="dv">1210</span>:</span>
<span id="cb52-4"><a href="#cb52-4"></a>    <span class="bu">print</span>(x)</span>
<span id="cb52-5"><a href="#cb52-5"></a>    x <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb52-6"><a href="#cb52-6"></a></span>
<span id="cb52-7"><a href="#cb52-7"></a><span class="bu">print</span>(<span class="st">&quot;All done!&quot;</span>)</span></code></pre></div>
<p>It repeats the body of the loop (everything that’s indented) as long as the condition <code>x &lt;= 1210</code> is <code>True</code>.</p>
<p>You see inside the body of the loop, we <em>increment</em> (add one to) <code>x</code> every iteration so that it increases toward <code>1210</code>.</p>
<p>What would happen if we didn’t increment <code>x</code>? In that case, it would loop forever. We call this an <em>infinite loop</em>. If your program’s running for a long time with no output (or repeating output), it might be in an infinite loop.</p>
<p>How do you get out of your program if it’s caught in an infinite loop? You hit <code>CTRL-C</code> (AKA “break”). That’ll get you back to your shell prompt.</p>
<p>Remember one of our goals for this chapter’s program is to ask the user for a number between 5 and 50. And we need to ask them again if they enter a number outside that range. That is, we need to loop while the user has not given us valid input. Give that some thought now, and we’ll come back to it later.</p>
<h2 id="looping-for-loops">Looping: <code>for</code> Loops</h2>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>In addition to <code>while</code> loops, we also have a beast called a <code>for</code> loop. These are actually quite powerful as we’ll find out later, but for now I just want to talk about looping for a certain number of times. (As opposed to looping while a condition is true.)</p>
<p>Here’s an example of printing out the numbers from <code>0</code> to <code>9</code> using a <code>for</code> loop and a function called <code>range()</code>. (<code>range()</code> returns something called an <em>iterator</em>. More on iterators in upcoming chapters—for now, just look at how they can be used with <code>for</code> loops.)</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10</span>):  <span class="co"># loop from 0 to 9</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(i)</span></code></pre></div>
<p>Notice a few things:</p>
<ul>
<li><code>i</code> is the classic variable name for a looping <em>index</em>.</li>
<li>If you have a <em>nested loop</em> (a loop inside a loop—more on that later) you can use <code>j</code>, then <code>k</code>, etc.</li>
<li>We loop until we get to one before the argument to <code>range()</code>. Up to but not including.</li>
</ul>
<p>But wait, there’s more! <code>range()</code> is multi-talented! Not only can it count up from zero to almost-a-number, but you could give it another starting point, as well:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">5</span>, <span class="dv">10</span>):  <span class="co"># loop from 5 to 9</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(i)</span></code></pre></div>
<p><em>Now</em> how much would you pay? It slices, it dices! But we’re not done yet! You can also tell <code>range()</code> how far to skip each step!</p>
<p>Let’s print out only the even numbers between 4 and 18 (that is, print from 4 to 18, stepping by 2 each time):</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">4</span>, <span class="dv">20</span>, <span class="dv">2</span>):  <span class="co"># loop from 4 to 18, skipping by 2 each time</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(i)</span></code></pre></div>
<p>Question: let’s say I wanted to count down from 10 to 1 using <code>range()</code>. How would I do that?</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(???, ???, ???):</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(i)</span></code></pre></div>
<p>What do you think? Spoilers upcoming!</p>
<p>You can give <code>range()</code> a negative “step” to make it walk backward:</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10</span>, <span class="dv">0</span>, <span class="op">-</span><span class="dv">1</span>): <span class="co"># Step backward from 10 to 1</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(i)</span></code></pre></div>
<p>Like before, the final value isn’t included in the results.</p>
<blockquote>
<p><em>Python2 had an additional function called <code>xrange()</code>. Python3 doesn’t have that. If you’re ever reading old Python2 code and see <code>xrange()</code>, know that it’s the same as <code>range()</code> in Python3.</em></p>
</blockquote>
<p>Now, <code>for</code> does a lot more than just looping for a range, but that’s a story for another time.</p>
<h2 id="when-while-and-when-for">When <code>while</code> and When <code>for</code>?</h2>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>Which of these looping constructs should you use, and when?</p>
<p>Generally speaking, whichever one is the easiest for the problem. Or makes the easiest-to-read code.</p>
<p>Okay, I know that’s not much to go on.</p>
<p>If you want to loop a number of times that you know in advance, like 10 times, or the number stored in <code>x</code> times, then use a <code>for</code> loop with <code>range()</code>.</p>
<p>If you just want to loop until some condition is <code>True</code> or <code>False</code>, but you don’t know when that’ll be, use a <code>while</code> loop.</p>
<h2 id="chapter-project">Chapter Project</h2>
<p>Let’s jump into that project from the beginning of the chapter. <a href="#loop-proj-spec">Revisit the project spec</a> if you need a refresher.</p>
<p>Problem solving step: <strong>Devising a Plan</strong>.</p>
<p>Let’s break this program into to two parts, and tackle them individually.</p>
<ol type="1">
<li>We want to get some valid user input in the range 5-50, inclusive.</li>
<li>We want to print out some <code>#</code> and <code>x</code>s based on the input.</li>
</ol>
<p>By <em>breaking down the problem</em>, we make it more approachable. We can even break down step 1 into more:</p>
<pre><code>    While user input isn&#39;t valid:
        Ask user for input
        If input invalid, print an error message</code></pre>
<p>Don’t look now, but our “plan” is looking like really good pseudocode at this point.</p>
<p>Let’s go ahead and code up the user input portion. We’ll do printing asterisks later.</p>
<p>Problem solving step: <strong>Carrying out the Plan</strong>.</p>
<p>Asking the user for input, we already know.</p>
<p>But how do we ask them repeatedly until they enter something valid? We need to loop! How about looping while the input is invalid? Sure!</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1"></a>input_valid <span class="op">=</span> <span class="va">False</span>  <span class="co"># Assume it&#39;s invalid to start</span></span>
<span id="cb59-2"><a href="#cb59-2"></a></span>
<span id="cb59-3"><a href="#cb59-3"></a><span class="cf">while</span> <span class="kw">not</span> input_valid:   <span class="co"># While not input valid (&quot;while input invalid&quot;)</span></span>
<span id="cb59-4"><a href="#cb59-4"></a>    x <span class="op">=</span> <span class="bu">input</span>(<span class="st">&quot;Enter a number, 5-50 inclusive: &quot;</span>)</span>
<span id="cb59-5"><a href="#cb59-5"></a>    x <span class="op">=</span> <span class="bu">int</span>(x)</span>
<span id="cb59-6"><a href="#cb59-6"></a></span>
<span id="cb59-7"><a href="#cb59-7"></a>    <span class="cf">if</span> x <span class="op">&gt;=</span> <span class="dv">5</span> <span class="kw">and</span> x <span class="op">&lt;=</span> <span class="dv">50</span>:</span>
<span id="cb59-8"><a href="#cb59-8"></a>        input_valid <span class="op">=</span> <span class="va">True</span>   <span class="co"># We got a good number!</span></span></code></pre></div>
<p>Let’s study that pattern, because it’s a common use of <code>while</code>.</p>
<p>We start by assuming that the success condition <em>isn’t</em> met. And then we check every iteration of the loop, with <code>if</code>, to see if it is met. And we loop while the success condition is <code>not</code> true.</p>
<p>Now, we’re also supposed to print an error if the input is out of range. How? We can do it in two lines.</p>
<p>If the <code>if</code> condition is <code>True</code>, then we have good input. Otherwise we have bad input and should print a message… <code>if</code>… <code>else</code>!</p>
<p>(<em>Note: the code below is a continuation of the program, above. Pay attention to the line numbers!</em>)</p>
<div class="sourceCode" id="cb60" data-startFrom="7"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python" style="counter-reset: source-line 6;"><span id="cb60-7"><a href="#cb60-7"></a>    <span class="cf">if</span> x <span class="op">&gt;=</span> <span class="dv">5</span> <span class="kw">and</span> x <span class="op">&lt;=</span> <span class="dv">50</span>:</span>
<span id="cb60-8"><a href="#cb60-8"></a>        input_valid <span class="op">=</span> <span class="va">True</span>   <span class="co"># We got a good number!</span></span>
<span id="cb60-9"><a href="#cb60-9"></a>    <span class="cf">else</span>:</span>
<span id="cb60-10"><a href="#cb60-10"></a>        <span class="bu">print</span>(<span class="st">&quot;The number must be between 5 and 50, inclusive!&quot;</span>)</span>
<span id="cb60-11"><a href="#cb60-11"></a> </span></code></pre></div>
<p>If you haven’t already, code that up and run it. No, it’s not the complete program, but it’s the complete first step of the program, and we can test it before moving on just to be confident that this part works.</p>
<p>Run it and try it with some numbers. If you enter an invalid number, it should tell you so and ask again. If you enter a valid number, <code>input_valid</code> becomes <code>True</code> and the <code>while</code> loop exits (because the continuation condition is <code>not input_valid</code>).</p>
<p>Once you’re satisfied it’s working correctly, let’s move back to the spec and concentrate on printing out the asterisks.</p>
<p>Problem solving step: <strong>Devising a Plan</strong>.</p>
<p>If the user enters <code>x</code>, we want to print out <code>x</code> count of characters, total. The first 30 of these will be <code>#</code>, and any after that will be <code>*</code>.</p>
<p>Before we start things out, let’s use a different planning technique: <em>simplify the problem</em>.</p>
<p>Let’s forget about the <code>*</code> for now and just print out <code>#</code> characters, however many the user specified. Later we’ll add the code for <code>*</code>.</p>
<blockquote>
<p><em>Simplifying the problem allows you to more easily tackle it, and leads you to see ways to add the missing features later.</em></p>
</blockquote>
<p>The plan for this simplified phase isn’t that tough:</p>
<pre><code>    For however many numbers the user inputs:
       Print a `#`.</code></pre>
<p>Problem solving step: <strong>Carrying out the Plan</strong>.</p>
<p>Since we know how many <code>#</code>s we want to print (the user entered the number!) this would be a great place for a <code>for</code> loop. Let’s print those:</p>
<div class="sourceCode" id="cb62" data-startFrom="12"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python" style="counter-reset: source-line 11;"><span id="cb62-12"><a href="#cb62-12"></a><span class="co"># Print the line</span></span>
<span id="cb62-13"><a href="#cb62-13"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(x):</span>
<span id="cb62-14"><a href="#cb62-14"></a>    <span class="bu">print</span>(<span class="st">&quot;#&quot;</span>)</span></code></pre></div>
<p>Run it! How did it do?</p>
<p>Hmmm. Looks like it’s printing a hash on each line. The <code>print()</code> function puts a <em>newline</em> at the end of the line. We need to override that behavior, and there’s an easy way to do it.</p>
<div class="sourceCode" id="cb63" data-startFrom="12"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python" style="counter-reset: source-line 11;"><span id="cb63-12"><a href="#cb63-12"></a><span class="co"># Print the line</span></span>
<span id="cb63-13"><a href="#cb63-13"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(x):</span>
<span id="cb63-14"><a href="#cb63-14"></a>    <span class="bu">print</span>(<span class="st">&quot;#&quot;</span>, end<span class="op">=</span><span class="st">&quot;&quot;</span>)  <span class="co"># Set the end-of-line character to nothing</span></span>
<span id="cb63-15"><a href="#cb63-15"></a></span>
<span id="cb63-16"><a href="#cb63-16"></a><span class="bu">print</span>()  <span class="co"># Add a newline to the end of the line</span></span></code></pre></div>
<p>We did a bit of magic there. We passed another argument to <code>print()</code> that told it we wanted it to put nothing (an empty string, <code>""</code>) at the end of the line instead of the newline character it noramlly tacks on.</p>
<p>You could go crazy and say <code>end="Beej"</code> and it would put the word “Beej” after every hashmark. Do it. Go crazy.</p>
<p>Getting there! But we’re not out of the woods yet. We need to make it so that for character more than 30 characters out, we print a <code>*</code> instead of a <code>#</code>.</p>
<p>Problem solving step: <strong>Devising a Plan</strong>.</p>
<p>This is like the plan for printing the line from before, but we simplified that, remember? So we have to add some complexity in to mett the spec.</p>
<pre><code>    For however many numbers the user inputs:
        If we&#39;re at the 30th character or earlier:
            Print a `#`.
        Otherwise:
            Print a `*`.</code></pre>
<p>And that’s looking like a good case for <code>if</code> <em>inside</em> our <code>for</code> loop!</p>
<p>Problem solving step: <strong>Carrying out the Plan</strong>.</p>
<p>Let’s add that <code>if</code> logic to the <code>for</code> loop at the end:</p>
<div class="sourceCode" id="cb65" data-startFrom="12"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python" style="counter-reset: source-line 11;"><span id="cb65-12"><a href="#cb65-12"></a><span class="co"># Print the line</span></span>
<span id="cb65-13"><a href="#cb65-13"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(x):</span>
<span id="cb65-14"><a href="#cb65-14"></a>    <span class="cf">if</span> i <span class="op">&lt;</span> <span class="dv">30</span>:</span>
<span id="cb65-15"><a href="#cb65-15"></a>        <span class="bu">print</span>(<span class="st">&quot;#&quot;</span>, end<span class="op">=</span><span class="st">&quot;&quot;</span>)  <span class="co"># Set the end-of-line character to nothing</span></span>
<span id="cb65-16"><a href="#cb65-16"></a>    <span class="cf">else</span>:</span>
<span id="cb65-17"><a href="#cb65-17"></a>        <span class="bu">print</span>(<span class="st">&quot;*&quot;</span>, end<span class="op">=</span><span class="st">&quot;&quot;</span>)</span>
<span id="cb65-18"><a href="#cb65-18"></a></span>
<span id="cb65-19"><a href="#cb65-19"></a><span class="bu">print</span>()  <span class="co"># Add a newline to the end of the line</span></span></code></pre></div>
<p>There’s something here to note that’s subtle and important:</p>
<ul>
<li>If the user enters <code>40</code>, the value of <code>i</code> runs from <code>0</code> to <code>39</code>, because the body of the <code>for</code> loop does not execute when <code>i</code> reaches its maximum value.</li>
<li>But <code>0</code> to <code>39</code> is still 40 iterations, right? Just like 0,1,2,3 is a total of 4 iterations. So we’re still getting all 40 characters even though the counter is running from <code>0</code> to <code>39</code>.</li>
<li>However, since the counter is running from <code>0</code>, that means the highest character that will be a <code>#</code> occurs when <code>i</code> is <code>29</code>, not when <code>i</code> is <code>30</code>. This is why we test <code>i &lt; 30</code><a href="#fn41" class="footnote-ref" id="fnref41" role="doc-noteref"><sup>41</sup></a> and not <code>i &lt; 31</code>.</li>
</ul>
<p>But there we have it!</p>
<p>Be sure to test with the <em>edge cases</em>. These are inputs that are at the edges of conditions in your program.</p>
<p>For example, we have conditions testing input against 5 and 50. So test with <code>4</code>, <code>5</code>, <code>50</code>, and <code>51</code>, both sides of those conditions.</p>
<p>Where else do we have an edge case in the code? That right: the <code>if</code> when printing. The first 30 are supposed to be <code>#</code> with <code>*</code> after that. So test with <code>30</code> and make sure it’s all <code>#</code>s, and then test with <code>31</code> and make sure there’s a single <code>*</code>.</p>
<p><em>Testing the edge cases</em> is an all-powerful programming technique that all devs use to great effect.</p>
<p>And, while you’re at it, test a bunch of other numbers to make sure it behaves like you’d expect.</p>
<p><strong>Bonus Question:</strong> Can you think of another way to draw the line of characters without using an <code>if</code> inside the loop? (There’s a hint at this footnote<a href="#fn42" class="footnote-ref" id="fnref42" role="doc-noteref"><sup>42</sup></a>.) <em>Coding is creative!</em> There’s more than one way to do these things. Try them and see which you like better.</p>
<p>(<a href="https://beej.us/guide/bgpython/examples/hashast.py">Solution</a><a href="#fn43" class="footnote-ref" id="fnref43" role="doc-noteref"><sup>43</sup></a>.)</p>
<h2 id="exercises-2">Exercises</h2>
<p><strong>Remember: to get your value out of this book, you have to do these exercises.</strong> After 20 minutes of being stuck on a problem, you’re allowed to look at the solution.</p>
<p><strong>Always</strong> use the <a href="#problem-solving">four problem-solving steps</a> to solve these problems: understand the problem, devise a plan, carry it out, look back to see what you could have done better.</p>
<ol type="1">
<li><p>Print out the sum of the numbers from <code>1</code> to (and including) <code>10000</code>. (<a href="https://beej.us/guide/bgpython/examples/ex_10ksum.py">Solution</a><a href="#fn44" class="footnote-ref" id="fnref44" role="doc-noteref"><sup>44</sup></a>.)</p></li>
<li><p>Print out values for <code>x</code> and <code>x**4</code> for all <code>x</code> between 0 and 99, inclusive. (<a href="https://beej.us/guide/bgpython/examples/ex_xfourth.py">Solution</a><a href="#fn45" class="footnote-ref" id="fnref45" role="doc-noteref"><sup>45</sup></a>.)</p></li>
<li><p>Ask the user to input a number, or the word <code>quit</code>. If the user enters a number, print out that number times 10. If the user enters <code>quit</code>, the program should complete. (<a href="https://beej.us/guide/bgpython/examples/ex_ntimes10.py">Solution</a><a href="#fn46" class="footnote-ref" id="fnref46" role="doc-noteref"><sup>46</sup></a>.)</p></li>
<li><p>Prompt the user for two numbers. Print out all the odd numbers between and including those two numbers. (<a href="https://beej.us/guide/bgpython/examples/ex_oddsbetween.py">Solution</a><a href="#fn47" class="footnote-ref" id="fnref47" role="doc-noteref"><sup>47</sup></a>.)</p></li>
<li><p>Print out the numbers from <code>1</code> to <code>100</code>. Except if the number is divisible by <code>3</code><a href="#fn48" class="footnote-ref" id="fnref48" role="doc-noteref"><sup>48</sup></a>, print <code>Fizz</code> instead. If the number is divisible by <code>5</code>, print <code>Buzz</code> instead. And if the number is divisible by 3 and divisible by 5, print <code>FizzBuzz</code><a href="#fn49" class="footnote-ref" id="fnref49" role="doc-noteref"><sup>49</sup></a>. There are a lot of ways to solve this one. (<a href="https://beej.us/guide/bgpython/examples/ex_fizzbuzz.py">Solution</a><a href="#fn50" class="footnote-ref" id="fnref50" role="doc-noteref"><sup>50</sup></a>.)</p></li>
<li><p>Make up two more exercises and code them up.</p></li>
</ol>
<h2 id="summary-4">Summary</h2>
<p>We covered all kinds of super-important things this chapter.</p>
<ul>
<li>Flow Control</li>
<li>Boolean algebra, conditional expressions, <code>True</code>, <code>False</code></li>
<li><code>if</code>-<code>else</code></li>
<li><code>while</code> loops and <code>for</code> loops</li>
<li>A bit about testing edge cases</li>
</ul>
<p>Guess what! You now know enough Python syntax to solve any computing problem! <a href="https://en.wikipedia.org/wiki/Turing_completeness">I’m not kidding</a><a href="#fn51" class="footnote-ref" id="fnref51" role="doc-noteref"><sup>51</sup></a>!</p>
<p>See, it’s not knowing all the syntax that’s important; it’s the ability to figure out how to put it all together in the right way.</p>
<p>That said, we haven’t learned enough Python syntax to necessarily make solving every computing problem <em>easy</em>. In the upcoming chapters, we’ll learn more tools that Python gives you to increase the size of your problem-solving toolkit.</p>
<!--
vim: ts=4:sw=4:nosi:et:tw=72:spell:nojs
-->
<h1 id="strings">Strings</h1>
<h2 id="objective-2">Objective</h2>
<ul>
<li>Get a firm grip on what a string is</li>
<li>Convert from other types to strings</li>
<li>Concatenate strings</li>
<li>Understand that strings are immutable</li>
<li>Get individual characters with strings</li>
<li>Slice a string</li>
<li>for loop through a string</li>
<li>Use basic string manipulation methods and functions</li>
<li>Print strings using formatted output</li>
</ul>
<h2 id="strings-proj-spec">Chapter Project Specification</h2>
<p>Compute and print out a multiplication table. Allow the user to enter a number between 1 and 19, inclusive, and then print out a times table up to that value.</p>
<p>For example, if the user enters <code>4</code>, the output should be:</p>
<pre><code>      1   2   3   4
      2   4   6   8
      3   6   9  12
      4   8  12  16</code></pre>
<p>Be sure to leave enough room for the maximum number of digits you’ll need in the largest product.</p>
<h2 id="what-is-a-string">What is a String?</h2>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>A string in Python is a sequence of characters (letters, punctuation, numbers, foreign characters, etc.). You enclose it in either single quotes (<code>'</code>) or double quotes (<code>"</code>), you choice, as long as they match on either side.</p>
<p>Here are some strings:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>    <span class="co">&quot;Hello!&quot;</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">&quot;This is test #37&quot;</span></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">&quot;3490&quot;</span>                 <span class="co"># string of digits</span></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">&quot;         &quot;</span>            <span class="co"># string of spaces</span></span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">&quot;&quot;</span>                     <span class="co"># empty string, 0 characters</span></span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">&quot;Beej&#39;s String&quot;</span>        <span class="co"># string with an apostrophe</span></span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">&#39;Beej says, &quot;hi!&quot;&#39;</span>     <span class="co"># string with double quotes in it</span></span></code></pre></div>
<p>You can also embed double quotes in double-quoted strings (or single quotes in single quoted strings by putting a backslash character in front of them (<code>\</code>) <!-- ` fix syntax highlighting in vim -->. This is called <em>escaping</em> the character, which means “Hey, Python, treat this like a literal quote mark—just print a quote mark out,” as opposed to “Hey, Python, this is the end of the string.”</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>    <span class="co">&#39;Beej</span><span class="ch">\&#39;</span><span class="co">s string&#39;</span>        <span class="co"># Equivalent to the example, above</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">&quot;Beej says, </span><span class="ch">\&quot;</span><span class="co">hi!</span><span class="ch">\&quot;</span><span class="co">&quot;</span></span></code></pre></div>
<p>Strings are commonly used when:</p>
<ul>
<li>Printing out characters on the screen</li>
<li>Reading from the keyboard with <code>input()</code></li>
<li>Reading/writing data from/to files (called <em>File I/O</em>, short for <em>File Input/Output</em>).</li>
<li>Network I/O</li>
</ul>
<h2 id="creating-strings">Creating Strings</h2>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>Strings are generally created one of two ways:</p>
<ul>
<li>by declaring a <em>string constant</em></li>
<li>getting a string back from a function</li>
</ul>
<p>The former we’ve already seen. Here’s another example of a string constant:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="st">&quot;This is a constant string!&quot;</span></span></code></pre></div>
<p>But we’ve also already seen functions that produce strings:</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> <span class="bu">input</span>(<span class="st">&quot;Enter a string: &quot;</span>)</span></code></pre></div>
<p><code>input()</code> returns a string that gets stored in <code>y</code>.</p>
<p>But wait—there’s clearly a constant string there, as well! The prompt <code>"Enter a string:"</code> is a string! Strings everywhere!</p>
<p>Later we’ll learn about file and network I/O and how they’re used with strings and other data types. But for now, we’ll stick to some basics.</p>
<h2 id="converting-other-types-to-strings-and-vice-versa">Converting Other Types To Strings and Vice Versa</h2>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>We’ve already mentioned this in a previous chapter, but it’s worth covering again as a review.</p>
<p>You can convert a lot of other types to strings with the <code>str()</code> function. We’ll see how to make use of this later.</p>
<p>Examples:</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="bu">str</span>(<span class="dv">3490</span>)    <span class="co"># &quot;3490&quot;</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> <span class="bu">str</span>(<span class="fl">3.14159</span>) <span class="co"># &quot;3.14159&quot;</span></span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>    z <span class="op">=</span> <span class="bu">str</span>(<span class="st">&quot;Hi!&quot;</span>)   <span class="co"># &quot;Hi!&quot; (does nothing, since &quot;Hi!&quot; was already a string!)</span></span></code></pre></div>
<p>Likewise, you can convert from strings to other types, like <code>int</code> and <code>float</code> with those respective functions:</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="bu">int</span>(<span class="st">&quot;3490&quot;</span>)         <span class="co"># Integer 3490</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> <span class="bu">float</span>(<span class="st">&quot;3.14159&quot;</span>)    <span class="co"># Float 3.14159</span></span></code></pre></div>
<p>In this way, if you have a string with a number in it, you can convert it to a numeric value so that you can perform math on it.</p>
<h2 id="string-concatenation-with">String Concatenation with <code>+</code></h2>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>You’re used to using <code>+</code> to add two numbers, but did you know you could also “add” strings? It doesn’t do it arithmetically, but it will glue the strings together, a process known as <em>concatenation</em> (cən-CA-tən-ay-shun—“cat” in the middle pronounced like the animal.) You can <em>concatenate</em> two strings.</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="st">&quot;Hello, &quot;</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> <span class="st">&quot;world!&quot;</span></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>    z <span class="op">=</span> x <span class="op">+</span> y      <span class="co"># z becomes &quot;Hello, world!&quot;</span></span></code></pre></div>
<p>This is how you build smaller strings together into larger ones.</p>
<p>You often find the assignment-concatenation operator in use to add to the end of a string:</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="st">&quot;B&quot;</span>   <span class="co"># start with &quot;B&quot;</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>    x <span class="op">+=</span> <span class="st">&quot;e&quot;</span>  <span class="co"># add an &quot;e&quot; to the end of the string</span></span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>    x <span class="op">+=</span> <span class="st">&quot;e&quot;</span>  <span class="co"># add an &quot;e&quot; to the end of the string</span></span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>    x <span class="op">+=</span> <span class="st">&quot;j&quot;</span>  <span class="co"># add a &quot;j&quot; to the end of the string</span></span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a>    x <span class="op">+=</span> <span class="st">&quot;!&quot;</span>  <span class="co"># add an &quot;!&quot; to the end of the string</span></span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb74-7"><a href="#cb74-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(x)   <span class="co"># Beej!</span></span></code></pre></div>
<h2 id="midterm-challenge">Midterm Challenge</h2>
<p>Use what we’ve learned so far to concatenate a string <code>"Hello"</code> with the number <code>3490</code> (an integer, not a string).</p>
<p>Problem solving step: <strong>Devising a Plan</strong>.</p>
<p>OK, so let’s use <code>+</code> to concatenate the number onto the end of the string.</p>
<p>Problem solving step: <strong>Carrying out the Plan</strong>.</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="st">&quot;Hello&quot;</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> <span class="dv">3490</span></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(x <span class="op">+</span> y)</span></code></pre></div>
<p>But running it, we get this output:</p>
<pre><code>    Traceback (most recent call last):
      File &quot;foo.py&quot;, line 3, in &lt;module&gt;
        print(x + y)
    TypeError: can only concatenate str (not &quot;int&quot;) to str</code></pre>
<p>Let’s take a close look at that. It’s telling us that on line 3 of <code>foo.py</code>, where we have <code>print(x + y)</code> we’re getting this error:</p>
<pre><code>    TypeError: can only concatenate str (not &quot;int&quot;) to str</code></pre>
<p><code>y</code> is an <code>int</code>, but <code>x</code> is a <code>str</code>. This error is telling us that we can’t concatenate an <code>int</code> onto a <code>str</code>. What to do now?</p>
<p>Problem solving step: <strong>Devising a Plan</strong>.</p>
<p>Since we can’t concatenate an <code>int</code> to a <code>str</code>, can we turn the <code>int</code> into a <code>str</code>? Sure! New plan: convert the <code>int</code> to a <code>str</code> with the <code>str()</code> function, and then concatenate it onto the first string with <code>+</code>.</p>
<p>Problem solving step: <strong>Carrying out the Plan</strong>.</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="st">&quot;Hello&quot;</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> <span class="bu">str</span>(<span class="dv">3490</span>)</span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(x <span class="op">+</span> y)    <span class="co"># Hello3490</span></span></code></pre></div>
<p>Success!</p>
<p>Problem solving step: <strong>Looking Back</strong>.</p>
<p>Any other ways to solve this? We could have done the <code>str()</code> call later:</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="st">&quot;Hello&quot;</span></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> <span class="dv">3490</span></span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(x <span class="op">+</span> <span class="bu">str</span>(y))    <span class="co"># Hello3490</span></span></code></pre></div>
<p>and that would have worked just as well.</p>
<p>Also ponder a related problem: what if you had a string <code>"3490"</code> and you wanted to arithmetically add <code>1000</code> to it, and then produce a final string of <code>"4490"</code>? What kinds of conversions and operations would you have to do?</p>
<h2 id="getting-individual-characters-from-strings">Getting Individual Characters From Strings</h2>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>What if we want to extract a single character from a string?</p>
<p>We can do it, but we have to introduce new notation to allow it: <code>[</code> and <code>]</code>, AKA <em>square brackets</em>.</p>
<p>Let’s print out just the first two characters in a string:</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="st">&quot;Beej!&quot;</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(x[<span class="dv">0</span>])  <span class="co"># Print character in position 0, &quot;B&quot;</span></span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(x[<span class="dv">1</span>])  <span class="co"># Print character in position 1, &quot;e&quot;</span></span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(x[<span class="dv">4</span>])  <span class="co"># Print character in position 4, &quot;!&quot;</span></span></code></pre></div>
<p>When reading this code, <code>x[1]</code> would be read aloud as “<code>x</code> sub <code>1</code>”, a nod to classic mathematical notation <span class="math inline">\(x_1\)</span>. The <code>1</code> in this case is called the <em>index</em> into the string.</p>
<p><strong>Really important:</strong> index numbers start at <code>0</code>!! The first character in a string is sometimes referred to in speech as the <em>zeroth character</em> and the second character is sometimes referred to as the <em>oneth character</em>, and <em>twoth</em>, and <em>threeth</em>, and so on, in an attempt to avoid ambiguity. Say “The character at index 3” if you want to be sure.</p>
<blockquote>
<p><em><strong>Fun Indexing Fact</strong>: every programming language in serious use today uses</em> <code>0</code>-based indexing <em>(that is, indexes start at <code>0</code>). There are some useful mathematical implications for doing so, even if it’s trickier to think about.</em></p>
</blockquote>
<p>Do some experimentation here. Try getting characters past the end of the string? What happens? (We’ll learn to mitigate this later.)</p>
<p>What if you try a negative index? What do you think will happen? What <em>does</em> happen?</p>
<p>Turns out if you specify a negative index in Python, it gets the character starting from the <em>end</em> of the string!</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="st">&quot;Beej!&quot;</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(x[<span class="op">-</span><span class="dv">1</span>])  <span class="co"># Print 1st from the end character: &quot;!&quot;</span></span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(x[<span class="op">-</span><span class="dv">4</span>])  <span class="co"># Print 4th from the end character: &quot;e&quot;</span></span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(x[<span class="op">-</span><span class="dv">5</span>])  <span class="co"># Print 5th from the end character: &quot;B&quot;</span></span></code></pre></div>
<p>We’re going to use these next when we talk about slices.</p>
<h2 id="slices">Slices</h2>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>A <em>slice</em> is part of a string. You specify them by knowing the <em>starting index</em> and <em>ending index</em> into a string, and separating them by a colon <code>:</code>.</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="st">&quot;Beej!&quot;</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(x[<span class="dv">1</span>:<span class="dv">4</span>])   <span class="co"># &quot;eej&quot;</span></span></code></pre></div>
<p>The slice starts at the first index number, and stops <em>just before</em> the second index number. (Remind you of anything? Yes—just like <code>range()</code>!)</p>
<p>In this way, you can pull out any <em>substring</em> from a string.</p>
<h2 id="midterm-challenge-1">Midterm Challenge</h2>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>Write a program that will allow the user to input a string, then will print out the entire string <em>except</em> the first and last characters. You can assume the string will be at least 3 characters long.</p>
<p>So if the user enters <code>Beej!</code>, we want to print out <code>eej</code>. If they enter <code>Python</code>, we want to print out <code>ytho</code>.</p>
<p>Problem solving step: <strong>Devising a Plan</strong>.</p>
<p>We need to:</p>
<ol type="1">
<li>Input a string.</li>
<li>Get a slice of the string not including the first and last characters.</li>
<li>Print the slice.</li>
</ol>
<p>Steps 1 and 3 are pretty straightforward. But what about that step 2?</p>
<p>Since we don’t know how long the string will be (other than it’s three or more characters), we can’t just get a slice from <code>1</code> to, say, <code>5</code>. We have to get a slice from index <code>1</code> to the second-from-the-end character.</p>
<p>Fortunately, we know how to index to the second from the end: index <code>-2</code>! But wait–there’s a catch: slices only go up to, but not including, the second index! So we need to end the slice at index <code>-1</code> to cause it to not include the last character.</p>
<p>Problem solving step: <strong>Carrying out the Plan</strong>.</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python"><span id="cb83-1"><a href="#cb83-1"></a>x <span class="op">=</span> <span class="bu">input</span>(<span class="st">&quot;Enter a string of at least 3 characters: &quot;</span>)</span>
<span id="cb83-2"><a href="#cb83-2"></a>y <span class="op">=</span> x[<span class="dv">1</span>:<span class="op">-</span><span class="dv">1</span>]  <span class="co"># all but the first and last</span></span>
<span id="cb83-3"><a href="#cb83-3"></a><span class="bu">print</span>(y)</span></code></pre></div>
<p>Easy peasy!</p>
<p>Problem solving step: <strong>Looking Back</strong>.</p>
<p>What could we have done better?</p>
<p>We didn’t need the intermediate variable <code>y</code>. We could have simply:</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python"><span id="cb84-1"><a href="#cb84-1"></a>x <span class="op">=</span> <span class="bu">input</span>(<span class="st">&quot;Enter a string of at least 3 characters: &quot;</span>)</span>
<span id="cb84-2"><a href="#cb84-2"></a><span class="bu">print</span>(x[<span class="dv">1</span>:<span class="op">-</span><span class="dv">1</span>])  <span class="co"># all but the first and last</span></span></code></pre></div>
<p>Also, we’re not actually enforcing the user enter at least 3 characters. How would we do that? Remember how we used a <code>while</code> loop before to verify input? We could do the same.</p>
<p>But how can we tell if a string is at least a certain length? There are a couple ways. Turns out, your slice will be an empty string (<code>""</code>) if the length of the string is less than 3, and you could use that to detect.</p>
<p>In a bit, we’ll also discuss the <code>len()</code> function that will give you the length of any string you pass in.</p>
<h2 id="interlude-mutable-versus-immutable-types">Interlude: Mutable versus Immutable Types</h2>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>So far we’ve learned about three data types: integer, float, and string. All of these share a common characteristic: they’re all <em>immutable</em>. (That is, you cannot change them. Note that you can always change the thing a variable refers to—that is, you can assign the variable to refer to something else—but you can’t change the immutable thing, itself.)</p>
<p>What this means is that <em>any time you do an operation on any of the types, you get a new entity back</em>. Maybe the old one is kept, or maybe it is forgotten depending on how your code works.</p>
<p>In short, there’s no way to add something to the end of a string. You can take a string and add something to it to make a completely new string with the new stuff on the end, but it’s a new string. The original is never modified since it’s immutable.</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="st">&quot;hello&quot;</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> x <span class="op">+</span> <span class="st">&quot; world&quot;</span></span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(x)  <span class="co"># hello</span></span>
<span id="cb85-5"><a href="#cb85-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(y)  <span class="co"># hello world</span></span></code></pre></div>
<p>See in that example how the value of <code>x</code> is unchanged? We couldn’t change it if we wanted to. Check this out:</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="st">&quot;hello&quot;</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(x[<span class="dv">2</span>])  <span class="co"># print character 2, namely &quot;l&quot;</span></span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a>    x[<span class="dv">2</span>] <span class="op">=</span> <span class="st">&quot;z&quot;</span>   <span class="co"># ERROR! Python won&#39;t allow you to change the string!</span></span></code></pre></div>
<p>If you wanted to make a string where character number 2 is swapped out, you’ll have to slice it up and build it yourself.</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="st">&quot;hello&quot;</span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> x[:<span class="dv">2</span>] <span class="op">+</span> <span class="st">&quot;z&quot;</span> <span class="op">+</span> x[<span class="dv">3</span>:]  <span class="co"># Make a new string</span></span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(y)  <span class="co"># hezlo</span></span></code></pre></div>
<p>Or you could use <em>regular expressions</em><a href="#fn52" class="footnote-ref" id="fnref52" role="doc-noteref"><sup>52</sup></a> or some other string methods to replace the letter… but remember that these methods produce a new string—they have to since strings are immutable!</p>
<p>It’s the same story with numbers, although this is behavior that you might take for granted, it’s so expected.</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="dv">12</span></span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> x <span class="op">+</span> <span class="dv">2</span>  <span class="co"># This creates a new number--it doesn&#39;t change 12</span></span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(x)  <span class="co"># 12</span></span>
<span id="cb88-5"><a href="#cb88-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(y)  <span class="co"># 14</span></span></code></pre></div>
<p>Like I said, so far all the types we’ve learned about are immutable. But later, we’ll talk about lists, dictionaries, and sets, which are the three mutable types in Python.</p>
<p>So remember: any time you think you are “changing” a string, you’re actually making a completely new one. It’s important to keep this model in mind because it will prevent all kinds of bugs and misunderstandings as we progress.</p>
<h2 id="for-loops-with-strings"><code>for</code>-loops with Strings</h2>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>Remember how we used <code>for</code> with <code>range()</code> earlier to count up to a certain number? Turns out <code>for</code> is far more capable than just doing that. It’s just full of surprises!</p>
<p>We can use a <code>for</code> loop on a string to process the characters individually.</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>    s <span class="op">=</span> <span class="st">&quot;Hello!&quot;</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> c <span class="kw">in</span> s:</span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;character:&quot;</span>, c)</span></code></pre></div>
<p>If you run this, you’ll see it prints each of the characters in turn:</p>
<pre><code>    character: H
    character: e
    character: l
    character: l
    character: o
    character: !</code></pre>
<p>You can use this if you ever need to traverse a string a character at a time. Of course, if you only want to traverse <em>part</em> of a string, you can slice it first!</p>
<p>Another little tidbit here that might be useful is the <code>enumerate()</code> function. This will return a series of <em>index-value pairs</em>. That is, it returns both the index into the string <em>and</em> the character at that index.</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>    s <span class="op">=</span> <span class="st">&quot;Hello!&quot;</span></span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i, c <span class="kw">in</span> <span class="bu">enumerate</span>(s):</span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;character at index&quot;</span>, i, <span class="st">&quot;is:&quot;</span>, c)</span></code></pre></div>
<p>outputs:</p>
<pre><code>    character at index 0 is: H
    character at index 1 is: e
    character at index 2 is: l
    character at index 3 is: l
    character at index 4 is: o
    character at index 5 is: !</code></pre>
<p>That’s useful if you need to know the index <em>and</em> the character. More on the <code>enumerate()</code> function later.</p>
<h2 id="string-functions-and-methods">String Functions and Methods</h2>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>Python has a lot of built-in functions to help you manipulate and use strings.</p>
<p>Here are a few of them:</p>
<table>
<colgroup>
<col style="width: 13%" />
<col style="width: 14%" />
<col style="width: 72%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Function</th>
<th style="text-align: left;">Example</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>bool()</code></td>
<td style="text-align: left;"><code>bool(s)</code></td>
<td style="text-align: left;">Convert to Boolean value. The only string that converts to <code>False</code> is the empty string <code>""</code>. (This means that an empty string will count as <code>False</code> in an <code>if</code> condition.)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>float()</code></td>
<td style="text-align: left;"><code>float(s)</code></td>
<td style="text-align: left;">Convert to floating point value.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>input()</code></td>
<td style="text-align: left;"><code>input(s)</code></td>
<td style="text-align: left;">Print prompt <code>s</code>, then return string entered on keyboard.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>int()</code></td>
<td style="text-align: left;"><code>int(s)</code></td>
<td style="text-align: left;">Convert to integer point value.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>len()</code></td>
<td style="text-align: left;"><code>len(s)</code></td>
<td style="text-align: left;">Return the length of a string.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>print()</code></td>
<td style="text-align: left;"><code>print(s)</code></td>
<td style="text-align: left;">Print a string.</td>
</tr>
</tbody>
</table>
<p>Take note of the <code>len()</code> function—we’ll use that to tell us how many characters there are in a string.</p>
<p>But now I want to introduce a new term and style of coding that you’ll frequently encounter moving forward: <em>methods</em>.</p>
<p>Methods are functions that work on a specific <em>object</em>. We’re getting ahead of ourselves with this “method” and “object” talk, but for now think of them as functions that work on a specific string.</p>
<p>But isn’t that just like the functions we just saw?</p>
<p>Yes, you got me. But we use these differently! Yay! This will all make more sense someday in the future, but bear with me for now.</p>
<p>Let’s look at an example with the <code>.upper()</code> method. (Usually pronounced “dot upper” or “upper method”.)</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>    a <span class="op">=</span> <span class="st">&quot;Beej!&quot;</span></span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a>    b <span class="op">=</span> a.upper()</span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(b)       <span class="co"># BEEJ!</span></span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb93-5"><a href="#cb93-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(a)       <span class="co"># Beej! -- unchanged since .upper() returns a new string</span></span></code></pre></div>
<p>The upper method converts a string to uppercase.</p>
<p>Now, conversationally, I said “converts to”, but remember that strings are <em>immutable</em>, so it really doesn’t change the string in <code>a</code> at all. It makes a new uppercase version of the string and returns it, and we refer that to new string by <code>b</code>.</p>
<p>As for methods, there are a whole bunch of them attached to strings. So you can take any string, add a dot (<code>.</code>), and then put the method name to operate on that string. They work just like regular functions, except have this different notation.</p>
<blockquote>
<p><em><strong>Fun Objected-Oriented Programming Fact</strong>: all this talk about methods and objects has its roots in a</em> programming paradigm <em>called</em> Object-Oriented Programming <em>(OOP). A programming paradigm is a way of modelling problems so that you can solve them. So far, we’ve been using the</em> imperative <em>programming paradigm, which means we think of a problem as a sequence of steps and conditions. But with OOP, you think of a problem as a collection of objects that you can do things with.</em></p>
<p><em>Python is “multiparadigm”, which means it can do OOP or imperative as we see fit. We’ll use a mix of them from now on, and we’ll cover OOP is more detail in its own chapter.</em></p>
</blockquote>
<p>Here are some common string methods:</p>
<table>
<colgroup>
<col style="width: 26%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Method</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>.split()</code></td>
<td style="text-align: left;">Split a string into a <code>list</code><a href="#fn53" class="footnote-ref" id="fnref53" role="doc-noteref"><sup>53</sup></a> on the given string.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>.strip()</code></td>
<td style="text-align: left;">Strip whitespace<a href="#fn54" class="footnote-ref" id="fnref54" role="doc-noteref"><sup>54</sup></a> from both ends of the string.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>.upper()</code></td>
<td style="text-align: left;">Convert string to all uppercase.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>.lower()</code></td>
<td style="text-align: left;">Convert string to all lowercase.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>.replace()</code></td>
<td style="text-align: left;">Replace all occurrences of one word with another in the string.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>.find()</code></td>
<td style="text-align: left;">Find the index of the substring in the string, or <code>-1</code> if it’s not found.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>.count()</code></td>
<td style="text-align: left;">Count the number of occurrences of the substring.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>.startswith()</code></td>
<td style="text-align: left;">Return <code>True</code> if the string starts with the given string.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>.endswith()</code></td>
<td style="text-align: left;">Return <code>True</code> if the string ends with the given string.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>.capitalize()</code></td>
<td style="text-align: left;">Capitalize the first letter of each word in the string.</td>
</tr>
</tbody>
</table>
<p>Here are some examples:</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>    s <span class="op">=</span> <span class="st">&quot;hello, goats! &quot;</span></span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a>    s.split(<span class="st">&quot;,&quot;</span>) <span class="co"># [ &quot;hello&quot;, &quot;goats! &quot; ]</span></span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a>    s.strip()    <span class="co"># &quot;hello, goats!&quot;</span></span>
<span id="cb94-5"><a href="#cb94-5" aria-hidden="true" tabindex="-1"></a>    s.upper()    <span class="co"># &quot;HELLO, GOATS! &quot;</span></span>
<span id="cb94-6"><a href="#cb94-6" aria-hidden="true" tabindex="-1"></a>    s.lower()    <span class="co"># &quot;hello, goats! &quot;</span></span>
<span id="cb94-7"><a href="#cb94-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb94-8"><a href="#cb94-8" aria-hidden="true" tabindex="-1"></a>    s.find(<span class="st">&quot;goats&quot;</span>)          <span class="co"># 8 (index of &quot;goats&quot; in the string)</span></span>
<span id="cb94-9"><a href="#cb94-9" aria-hidden="true" tabindex="-1"></a>    s.count(<span class="st">&quot;goats&quot;</span>)         <span class="co"># 1</span></span>
<span id="cb94-10"><a href="#cb94-10" aria-hidden="true" tabindex="-1"></a>    s.startswith(<span class="st">&quot;Goats&quot;</span>)    <span class="co"># False</span></span>
<span id="cb94-11"><a href="#cb94-11" aria-hidden="true" tabindex="-1"></a>    s.endswith(<span class="st">&quot;goats! &quot;</span>)    <span class="co"># True</span></span>
<span id="cb94-12"><a href="#cb94-12" aria-hidden="true" tabindex="-1"></a>    s.capitalize()           <span class="co"># &quot;Hello, goats! &quot;</span></span>
<span id="cb94-13"><a href="#cb94-13" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb94-14"><a href="#cb94-14" aria-hidden="true" tabindex="-1"></a>    s.replace(<span class="st">&quot;goats&quot;</span>, <span class="st">&quot;world&quot;</span>)  <span class="co"># &quot;hello, world! &quot;</span></span>
<span id="cb94-15"><a href="#cb94-15" aria-hidden="true" tabindex="-1"></a>    </span></code></pre></div>
<p>You can also chain them together and they evaluate in turn, left to right:</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a>    s <span class="op">=</span> <span class="st">&quot;   another EXAMPLE!    &quot;</span></span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a>    s.strip().lower().capitalize()  <span class="co"># &quot;Another example!&quot;</span></span></code></pre></div>
<p>There are a whole lot of <a href="https://docs.python.org/3/library/stdtypes.html#string-methods">string methods</a><a href="#fn55" class="footnote-ref" id="fnref55" role="doc-noteref"><sup>55</sup></a> you can use, more than we’re going to talk about here. But go peruse them just so you have an idea of what you have at your disposal.</p>
<h2 id="formatted-output-with-f-strings">Formatted Output with F-Strings</h2>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>So far we’ve just been using <code>print()</code> like so:</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&quot;x is&quot;</span>, <span class="dv">10</span>)</span></code></pre></div>
<p>which works, but doesn’t offer us much control over the output.</p>
<p>Let’s take a look at something called <em>F-strings</em> which are new in Python 3.6. (“Formatting strings”.)</p>
<p>These offer us a really powerful method of formatting output. So powerful, in fact, we’ll only be scratching the surface here.</p>
<p>The gist is that we can make a new string where we inject the value of variables (or expressions) into a string at a specific spot.</p>
<p>Simple example:</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&quot;x is </span><span class="sc">{x}</span><span class="ss">&quot;</span>)  <span class="co"># x is 10</span></span></code></pre></div>
<p>Notice a couple things:</p>
<ol type="1">
<li>There’s an <code>f</code> in front of the quotes. This signifies that this is an F-string, as opposed to a regular string.</li>
<li>We inject the expression to evaluate inside <em>curly braces</em><a href="#fn56" class="footnote-ref" id="fnref56" role="doc-noteref"><sup>56</sup></a> <code>{</code> and <code>}</code>.</li>
</ol>
<p>Python automagically evalutes that expression and puts the result into the F-string at that point.</p>
<p>Here’s another:</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&quot;x plus 10 is </span><span class="sc">{x</span> <span class="op">+</span> <span class="dv">10</span><span class="sc">}</span><span class="ss">&quot;</span>)   <span class="co"># x plus 10 is 20</span></span></code></pre></div>
<p>But that’s not all!</p>
<p>We can also put a field width in there which controls how big the “cell” is in which the number is printed.</p>
<p>Compare this:</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&quot;a number: </span><span class="sc">{</span><span class="dv">1000</span><span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&quot;a number: </span><span class="sc">{</span><span class="dv">50</span><span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&quot;a number: </span><span class="sc">{</span><span class="dv">250</span><span class="sc">}</span><span class="ss">&quot;</span>)</span></code></pre></div>
<p>which outputs:</p>
<pre><code>    a number: 1000
    a number: 50
    a number: 250</code></pre>
<p>to this:</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&quot;another number: </span><span class="sc">{</span><span class="dv">1000</span><span class="sc">:4}</span><span class="ss">&quot;</span>)</span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&quot;another number: </span><span class="sc">{</span><span class="dv">50</span><span class="sc">:4}</span><span class="ss">&quot;</span>)</span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&quot;another number: </span><span class="sc">{</span><span class="dv">250</span><span class="sc">:4}</span><span class="ss">&quot;</span>)</span></code></pre></div>
<p>which outputs:</p>
<pre><code>    another number: 1000
    another number:   50
    another number:  250</code></pre>
<p>The <code>:4</code> says to output the expression in a 4-space-wide field. This gives us a great way to make columns align on subsequent rows, like if you were printing out a spreadsheet.</p>
<p>Another thing it can do is specify a number of decimal places to print out floating point numbers.</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="fl">3.1415926</span></span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&quot;Pi is </span><span class="sc">{x:.2f}</span><span class="ss">&quot;</span>)  <span class="co"># Pi is 3.14</span></span></code></pre></div>
<p>That format string says “print <code>x</code> as a <code>f</code>loating point number, with <code>2</code> decimal places”.</p>
<p>F-strings are <em>really</em> powerful when it comes to controlling your output. We’ll explore more as we go.</p>
<h3 id="format-method"><code>.format()</code> Method</h3>
<p>There is yet-another method of printing formatted strings that are really similar to F-strings: using <code>.format()</code>:</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="fl">3.1415926</span></span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&quot;Pi is </span><span class="sc">{:.2f}</span><span class="st">&quot;</span>.<span class="bu">format</span>(x))  <span class="co"># Pi is 3.14</span></span></code></pre></div>
<p>This form has fallen out of favor due to the popularity of F-strings.</p>
<h3 id="printf-operator"><code>%</code> printf Operator</h3>
<p>If you go back even farther in time, you might find instances of <code>%</code> being used as the <em>printf operator</em> to format output. An example:</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="fl">3.1415926</span></span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&quot;Pi is </span><span class="sc">%.2f</span><span class="st">&quot;</span> <span class="op">%</span> x)  <span class="co"># Pi is 3.14</span></span></code></pre></div>
<p>It’s even <em>farther</em> out of favor. F-strings are the new thing.</p>
<blockquote>
<p><em><strong>Fun Computing History Fact</strong>: <code>printf()</code> is a function in the C programming language that was considered</em> so awesome <em>that the creators of Python decided to immortalize it with the <code>%</code> operator that does the same thing. And even now, the</em> format specifiers <em>used in F-strings to describe the type of data being printed match those from the C language. Not bad for a language invented in the 1970s, eh?</em></p>
</blockquote>
<p>Note that the printf <code>%</code> operator is the same as the arithmetic modulo (remainder) operator <code>%</code>. Python looks at the arguments to the operator and does the right thing. If the left argument is a string, it’s printf. If it’s a number, it’s modulo.</p>
<h2 id="chapter-project-1">Chapter Project</h2>
<p>It’s time to do that project… way back from the beginning of the chapter! Remember? If not, <a href="#strings-proj-spec">jump back to the top and refresh</a>.</p>
<p>We’re going to print a times table. This will use knowledge from this chapter, as well as from previous chapters. Use any means you know to solve the problem.</p>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>Let’s take another look at the sample output when the user enters <code>4</code>:</p>
<pre><code>      1   2   3   4
      2   4   6   8
      3   6   9  12
      4   8  12  16</code></pre>
<p>(If you’re rusty on your multiplication tables, what you do to multiply <span class="math inline">\(3\times4\)</span> is to look up <code>3</code> along the top edge, then look up <code>4</code> along the left edge, and then look in the table where they cross. There you’ll find <code>12</code>, the answer.)</p>
<p>How can do we attack this? Let’s look at a couple things.</p>
<p>First, look for patterns. See any?</p>
<p>I’ll wait while you look.</p>
<p>There are several in there.</p>
<ul>
<li>The diagonals read 1, then 2 2, then 3 4 3, then 4 6 6 4… it’s symmetric.</li>
<li>The first row is 1 2 3 4, and the second is 2 4 6 8, and the third is 3 6 9 12. The first skips by 1, the second by 2, the third by 3.</li>
<li>Columns do the same as rows in terms of numbers skipped.</li>
</ul>
<p>Can we use any of those to our advantage? Maybe…!</p>
<p>Second, let’s try to simplify the problem.</p>
<p>What if the problem were to print:</p>
<pre><code>      1   2   3   4</code></pre>
<p>and that’s all. How would you solve that?</p>
<p>What if it were to print only this:</p>
<pre><code>      3   6   9  12</code></pre>
<p>How would you solve that?</p>
<blockquote>
<p><em><strong>Fun Realism Fact</strong>: There are a <em>lot</em> of ways to program this. As I write this, at least four are immediately coming to mind. Remember: <strong>coding is creative</strong> and there’re almost always many ways to get the same result. Be creative! It’s your sandbox to mess around in! You can’t break the computer.</em></p>
</blockquote>
<p>Problem just some simple <code>for</code> loops, right? We could do this with three <code>for</code> loops:</p>
<pre><code>      1   2   3   4
      2   4   6   8
      3   6   9  12</code></pre>
<p>Something like this (pseudocode):</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">1</span>): <span class="bu">print</span>(...)</span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">2</span>, <span class="dv">10</span>, <span class="dv">2</span>): <span class="bu">print</span>(...)</span>
<span id="cb110-3"><a href="#cb110-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">3</span>, <span class="dv">15</span>, <span class="dv">3</span>): <span class="bu">print</span>(...)</span></code></pre></div>
<p>But of course, we don’t just want to print rows three times… the end result is going to have the number of rows that the user input. We need to loop to make it happen. A loop of loops! A <em>nested loop</em>!</p>
<p>Problem solving step: <strong>Devising a Plan</strong>.</p>
<p>Before we jump into this, I’d like you to take the time to think about this. Set a timer and work on it for 3 minutes.</p>
<p>Do it.</p>
<p>Timer. Do it. You will gain valuable experience points for the attempt.</p>
<p>I’ll be back in 3 minutes.</p>
<p><em>[Elevator music—do it now!]</em></p>
<p>Okay, I’m back. What did you come up with?</p>
<p>I’ll go over one solution here, but if you came up with one and it’s different, don’t worry! There are no wrong answers here. There are only answers that you, personally, like better or worse than others. Part of being skilled in the art is that you can get better at making these assessments as you progress.</p>
<p>One possible plan for this is to have an <em>inner</em> loop (the <em>nested</em> loop) that prints a complete row out. In other words, it’s printing out all the columns in the row. And then outside of that, we have the <em>outer</em> loop that is responsible for printing out a bunch of rows.</p>
<p>And then inside there, we have to compute what values to print for each row, based on which row we’re on.</p>
<p>First we have to get user input. Let’s do that, and validate that it’s between 1 and 19 similar to the last project.</p>
<pre><code>    while input isn&#39;t between 1 and 19:
        ask the user for input</code></pre>
<p>After that, we’ll print the table:</p>
<pre><code>    outer loop over rows:
        inner loop over columns:
            print value for column</code></pre>
<p>Of course, printing the value for the column is the tricky bit.</p>
<p>Remember when we did our sample with three hardcoded loops, above?</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">1</span>): <span class="bu">print</span>(...)</span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">2</span>, <span class="dv">10</span>, <span class="dv">2</span>): <span class="bu">print</span>(...)</span>
<span id="cb113-3"><a href="#cb113-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">3</span>, <span class="dv">15</span>, <span class="dv">3</span>): <span class="bu">print</span>(...)</span></code></pre></div>
<p>See any patterns in there? 1 2 3 is a pretty easy one. But what about that 5 10 15? Clearly it’s multiples of 5, but where does “5” come from?</p>
<p>In that example, we were printing rows and columns from 1 to 4. (That is, the user input the number 4.) And 5 is one more than 4. That’s <em>a</em> pattern. Is it the right one? Let’s try!</p>
<p>If we take the first 3 numbers in the ranges (that is, 1 2 3), and multiply by 4+1, we end up with 5 10 15, just like we want.</p>
<p>So there’s a formula in there for that middle number in the range. Assuming the user enters <code>x</code> as the value, then the middle number for any <code>range()</code> call would be:</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a>    row_number <span class="op">*</span> (x <span class="op">+</span> <span class="dv">1</span>)</span></code></pre></div>
<p>and the first and last numbers in the range would simply be the row number!</p>
<p>The last thing we need to do is make sure we have the times table all formatted correctly so that that columns line up. The biggest number we’ll print is <code>361</code> (<span class="math inline">\(19\times19\)</span>) so we’ll need a space between columns and three spaces for the number. We can use an F-string with a field width of <code>4</code> to make this happen.</p>
<p>Problem solving step: <strong>Carrying out the Plan</strong>.</p>
<p>Let’s start by entering a number and make sure this works:</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python"><span id="cb115-1"><a href="#cb115-1"></a>valid_input <span class="op">=</span> <span class="va">False</span></span>
<span id="cb115-2"><a href="#cb115-2"></a></span>
<span id="cb115-3"><a href="#cb115-3"></a><span class="cf">while</span> <span class="kw">not</span> valid_input:</span>
<span id="cb115-4"><a href="#cb115-4"></a>    x <span class="op">=</span> <span class="bu">input</span>(<span class="st">&quot;Enter a number between 1 and 19: &quot;</span>)</span>
<span id="cb115-5"><a href="#cb115-5"></a>    x <span class="op">=</span> <span class="bu">int</span>(x)</span>
<span id="cb115-6"><a href="#cb115-6"></a></span>
<span id="cb115-7"><a href="#cb115-7"></a>    <span class="cf">if</span> x <span class="op">&gt;=</span> <span class="dv">1</span> <span class="kw">and</span> x <span class="op">&lt;=</span> <span class="dv">19</span>:</span>
<span id="cb115-8"><a href="#cb115-8"></a>        valid_input <span class="op">=</span> <span class="va">True</span></span>
<span id="cb115-9"><a href="#cb115-9"></a> </span></code></pre></div>
<p>We just loop until we get valid input, just like in the last project.</p>
<p>Now for the times table part. We want to go from <code>1</code> to the number entered, so we’ll start at <code>1</code> and go to <code>x + 1</code>.</p>
<p>And then we’ll compute the max number for each row, just like we planned, above. And we’ll print the value!</p>
<p>One gotcha is that we want to print a bunch of things on the same line and <code>print()</code> goes to the next line by default. We’ll use our friend <code>end=""</code> in the <code>print()</code> call to keep it on the same line, and then add another empty <code>print()</code> after the loop to go to the next line.;</p>
<p>(Continuation of the code above!)</p>
<div class="sourceCode" id="cb116" data-startFrom="10"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python" style="counter-reset: source-line 9;"><span id="cb116-10"><a href="#cb116-10"></a><span class="cf">for</span> row <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, x <span class="op">+</span> <span class="dv">1</span>):</span>
<span id="cb116-11"><a href="#cb116-11"></a>    <span class="cf">for</span> product <span class="kw">in</span> <span class="bu">range</span>(row, row <span class="op">*</span> (x <span class="op">+</span> <span class="dv">1</span>), row):</span>
<span id="cb116-12"><a href="#cb116-12"></a>        <span class="bu">print</span>(<span class="ss">f&quot;</span><span class="sc">{</span>product<span class="sc">:4}</span><span class="ss">&quot;</span>, end<span class="op">=</span><span class="st">&quot;&quot;</span>)</span>
<span id="cb116-13"><a href="#cb116-13"></a>    <span class="bu">print</span>()</span></code></pre></div>
<p>Let’s try it!</p>
<pre><code>    Enter a number between 1 and 19: 6
       1   2   3   4   5   6
       2   4   6   8  10  12
       3   6   9  12  15  18
       4   8  12  16  20  24
       5  10  15  20  25  30
       6  12  18  24  30  36</code></pre>
<p>Woot!</p>
<p>Did you have another solution that worked? There are plenty others!</p>
<p>Problem solving step: <strong>Looking Back</strong>.</p>
<p>What are the corner cases that you should test? (Look for the <code>if</code> statements, and test on either side of those. <code>0</code> and <code>1</code> and <code>19</code> and <code>20</code>.)</p>
<p>If you didn’t come up with a different solution, try to do so now. What if you used <code>while</code> loops instead of <code>for</code> loops?</p>
<p>(<a href="https://beej.us/guide/bgpython/examples/multtable.py">Solution</a><a href="#fn57" class="footnote-ref" id="fnref57" role="doc-noteref"><sup>57</sup></a>.)</p>
<h2 id="exercises-3">Exercises</h2>
<p><strong>Remember: to get your value out of this book, you have to do these exercises.</strong> After 20 minutes of being stuck on a problem, you’re allowed to look at the solution.</p>
<p>A lot of these can use <code>for</code> loops in the solution! Use any knowledge you have to solve these, not only what you learned in this chapter.</p>
<p><strong>Always</strong> use the <a href="#problem-solving">four problem-solving steps</a> to solve these problems: understand the problem, devise a plan, carry it out, look back to see what you could have done better.</p>
<ol type="1">
<li><p>Given the following varibles:</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="dv">3490</span></span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> <span class="fl">3.14159</span></span></code></pre></div>
<p>write code that prints out the following:</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a>    x <span class="kw">is</span>    <span class="fl">3490.00</span></span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a>    y <span class="kw">is</span>       <span class="fl">3.14</span></span>
<span id="cb119-3"><a href="#cb119-3" aria-hidden="true" tabindex="-1"></a>    x <span class="op">+</span> y <span class="op">=</span> <span class="fl">3493.14</span></span></code></pre></div>
<p>(<a href="https://beej.us/guide/bgpython/examples/ex_fstring.py">Solution</a><a href="#fn58" class="footnote-ref" id="fnref58" role="doc-noteref"><sup>58</sup></a>.)</p></li>
<li><p>Write code to count the number of occurrences <code>goat</code> in this string:</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a>    s <span class="op">=</span> <span class="st">&quot;How many goats could a goat goat goat if a goat could goat&quot;</span></span></code></pre></div>
<p>(<a href="https://beej.us/guide/bgpython/examples/ex_goatcount.py">Solution</a><a href="#fn59" class="footnote-ref" id="fnref59" role="doc-noteref"><sup>59</sup></a>.)</p></li>
<li><p>Using this string, create a copy of it where all the vowels are uppercase and all the consonants are lowercase.</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a>    s <span class="op">=</span> <span class="st">&quot;The quick brown fox jumps over the lazy dogs.&quot;</span></span></code></pre></div>
<p>Hint: <em>think like a human</em>. If you had a physical set of blocks with letters on them in front of you, what would be the process and steps for building a new string with the required changes?</p>
<p>(<a href="https://beej.us/guide/bgpython/examples/ex_uppervowel.py">Solution</a><a href="#fn60" class="footnote-ref" id="fnref60" role="doc-noteref"><sup>60</sup></a>.)</p></li>
<li><p>Allow the user to input a string, and also a number. Print out the character at that index number in the string. Don’t allow the user to enter a number that’s out of range.</p>
<p>(After you solve this, check out the <a href="https://beej.us/guide/bgpython/examples/ex_charat.py">solution</a><a href="#fn61" class="footnote-ref" id="fnref61" role="doc-noteref"><sup>61</sup></a> for a twist on checking for valid input.)</p></li>
<li><p>Allow the user to input a string, and also two numbers. Print out the slice from those index number in the string. Don’t allow the user to enter numbers that are out of range.</p>
<p>(In the <a href="https://beej.us/guide/bgpython/examples/ex_sliceat.py">solution</a><a href="#fn62" class="footnote-ref" id="fnref62" role="doc-noteref"><sup>62</sup></a>, there’s duplicated code to enter two numbers. Later, when we get to <em>functions</em>, we’ll learn how to remove this duplicated code.)</p></li>
<li><p>Make up two more exercises and code them up.</p></li>
</ol>
<h2 id="summary-5">Summary</h2>
<p>In this chapter we did <em>all kinds</em> of crazy things with strings.</p>
<ul>
<li>Conversions from other types</li>
<li>How to concatenate strings with <code>+</code></li>
<li>How to get characters and slices out of a string</li>
<li>How <code>for</code> loops process strings</li>
<li>Learned a bunch of string methods and functions</li>
<li>Formatted output with F-strings</li>
</ul>
<p>Coming up, we’re going to learn even more built-in data types that we can use. After that, we’ll talk about functions, and then you’ll be dangerously close to being able to write <em>real programs</em>!</p>
<!--
vim: ts=4:sw=4:nosi:et:tw=72:spell:nojs
-->
<h1 id="lists">Lists</h1>
<h2 id="objective-3">Objective</h2>
<ul>
<li>Understand whats lists are</li>
<li>Understand how assignments with mutable types work</li>
<li>Access individual elements and slices in a list</li>
<li>Iterate over lists with <code>for</code></li>
<li>Use common lists built-in functions</li>
<li>Construct new empty lists of repeating fixed values</li>
<li>Construct new lists with list comprehensions</li>
<li>Construct and use lists of lists (2D lists)</li>
</ul>
<h2 id="lists-proj-spec">Chapter Project Specification</h2>
<p>Game time!</p>
<p>Allow the user to navigate a maze by entering directions to move (<code>n</code>, <code>s</code>, <code>w</code>, or <code>e</code>). They can also enter <code>q</code> to quit.</p>
<p>The maze should look like this, with <code>.</code> representing a space the player can move into, and <code>#</code> representing a wall. An <code>@</code> symbol indicates the player’s current position.</p>
<p>Every move, the map should be displayed:</p>
<pre><code>    #####################
    #...#...............#
    #...#..........#....#
    #...#..........#....#
    #...#..........#....#
    #...#..@.......#....#
    #..............#....#
    #..............#....#
    #####################
    
    Enter a move (n,s,w,e,q):</code></pre>
<p>Keep this project in mind as you read through the chapter.</p>
<h2 id="what-are-lists">What Are Lists?</h2>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>Remember how regular variables hold one thing? Well, <em>lists</em> are variables that can hold a lot of things.</p>
<blockquote>
<p><em><strong>Fun Lists Fact</strong>: Most other languages have a different name for lists: they call them “arrays”. Same thing.</em></p>
</blockquote>
<p>But wait—if a list can hold a lot of things, how do we differentiate? How do I tell Python that I want the second thing in the list? Or the fifth thing?</p>
<p>Luckily it’s easy enough; we just have to specify the <em>index</em> into the list that hold the thing we want.</p>
<p>Think of it like a row of postboxes, numbered starting from <code>0</code>, then <code>1</code>, then <code>2</code>, and going on up to however many postboxes we have. Each postbox can hold a thing, and you can refer to it by giving the postbox number.</p>
<p>Let’s take a look at a simple example:</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> [<span class="dv">10</span>, <span class="dv">3</span>, <span class="dv">7</span>, <span class="dv">9</span>]</span></code></pre></div>
<p>There’s a list. We know it’s a list because of the square brackets around it. It’s a list of four integers.</p>
<p>Let’s print out the zeroth element in the list. We do this by using square brackets after the list variable name, and giving the index inside those brackets. Does this look familiar? It’s the same syntax we used to get individual characters out of strings!</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(x[<span class="dv">0</span>])  <span class="co"># prints 10</span></span></code></pre></div>
<p>and the element at index 2:</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(x[<span class="dv">2</span>])  <span class="co"># prints 7</span></span></code></pre></div>
<p>Do you remember that strings had a cool trick where you could use a negative index to refer to characters from the end of the string? We can do the same thing with lists!</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(x[<span class="op">-</span><span class="dv">1</span>])  <span class="co"># prints 9, the element at the end of the list</span></span></code></pre></div>
<p>Remember that indexes start at zero, again, just like with strings.</p>
<p>Keeping with the “things you can also do with strings” theme, you can also slice an array, just like a string.</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb127-2"><a href="#cb127-2" aria-hidden="true" tabindex="-1"></a>    a <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>]</span>
<span id="cb127-3"><a href="#cb127-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb127-4"><a href="#cb127-4" aria-hidden="true" tabindex="-1"></a>    b <span class="op">=</span> a[<span class="dv">1</span>:<span class="op">-</span><span class="dv">1</span>]   <span class="co"># Slice all but the first and last elements</span></span>
<span id="cb127-5"><a href="#cb127-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb127-6"><a href="#cb127-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(b)  <span class="co"># [2, 3, 4]</span></span></code></pre></div>
<p>You can also <em>set</em> individual elements, leaving the rest of the list unchanged:</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a>    x[<span class="dv">1</span>] <span class="op">=</span> <span class="dv">99</span></span>
<span id="cb128-2"><a href="#cb128-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb128-3"><a href="#cb128-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(x[<span class="dv">1</span>])  <span class="co"># now prints 99</span></span></code></pre></div>
<p>This brings us to a stark difference between lists and strings: <em>lists are mutable</em>. You can change individual elements inside the list without creating a new list! Remember with strings, you couldn’t change them—you could only make new ones.</p>
<p>It’s such a key difference, we’re going to talk about it in detail now, and then again later. This is a big source of confusion among new developers.</p>
<h2 id="list-assignments">List Assignments</h2>
<p>You remember <a href="#var-assignment">way back in the variables chapter when I was talking about how variable assignment worked</a>? <a href="#var-assignment">Revisit it if you have to</a>.</p>
<p>And you were wondering what that had to do with anything?</p>
<p>Well, we’re going to check it out again, but this time in the context of lists.</p>
<p>We just mentioned that lists are different than integers in that lists are mutable. We can change them. This has some interesting repercussions.</p>
<p>Let’s look at strings versus lists.</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="st">&quot;Hello&quot;</span></span>
<span id="cb129-2"><a href="#cb129-2" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> x</span></code></pre></div>
<p>In that example, like we learned earlier, there is one string <code>"Hello"</code> in memory, and both <code>x</code> and <code>y</code> refer to it.</p>
<p>Strings are immutable. So you can’t do something like this:</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="st">&quot;Hello&quot;</span></span>
<span id="cb130-2"><a href="#cb130-2" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> x</span>
<span id="cb130-3"><a href="#cb130-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb130-4"><a href="#cb130-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Change character at index 2 to &#39;Z&#39;</span></span>
<span id="cb130-5"><a href="#cb130-5" aria-hidden="true" tabindex="-1"></a>    x[<span class="dv">2</span>] <span class="op">=</span> <span class="st">&quot;Z&quot;</span>  <span class="co"># ERROR! Strings are immutable--you can&#39;t change them</span></span></code></pre></div>
<p>But <em>lists are mutable</em>. We can change something that’s in a list. Let’s do an analogous example:</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> [<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;D&quot;</span>]</span>
<span id="cb131-2"><a href="#cb131-2" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> x</span>
<span id="cb131-3"><a href="#cb131-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb131-4"><a href="#cb131-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Change string at index 2 to &#39;Z&#39;</span></span>
<span id="cb131-5"><a href="#cb131-5" aria-hidden="true" tabindex="-1"></a>    x[<span class="dv">2</span>] <span class="op">=</span> <span class="st">&quot;Z&quot;</span>  <span class="co"># Works</span></span>
<span id="cb131-6"><a href="#cb131-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb131-7"><a href="#cb131-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(x[<span class="dv">2</span>])  <span class="co"># &quot;Z&quot;</span></span>
<span id="cb131-8"><a href="#cb131-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(y[<span class="dv">2</span>])  <span class="co"># &quot;Z&quot; also!!!</span></span></code></pre></div>
<p>Wait—what happened there? We changed the value in the second index of <code>x</code>, but it also changed it in <code>y</code>! How did that happen?</p>
<p>Remember: it’s because when we did:</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> [<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;D&quot;</span>]</span>
<span id="cb132-2"><a href="#cb132-2" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> x</span></code></pre></div>
<p>both <code>x</code> and <code>y</code> came to point to to the <em>same list</em>. There is only one list. Both <code>x</code> and <code>y</code> refer to it. So if you change that one list, you see that change reflected in both <code>x</code> and <code>y</code>.</p>
<p>(If you <em>could</em> change a string, it would work the same way. But you can’t because it’s immutable.)</p>
<p>Mutable types include the following (some of which we haven’t talked about yet):</p>
<ul>
<li>Lists</li>
<li>Dictionaries</li>
<li>Objects<a href="#fn63" class="footnote-ref" id="fnref63" role="doc-noteref"><sup>63</sup></a></li>
<li>Sets</li>
</ul>
<blockquote>
<p>In some languages, types that appear to get copied on assignment (like strings and integers) are called <em>value</em> types. Whereas types that can be referred to by multiple variables through assignment (like lists) are called <em>reference types</em>. Python doesn’t make this distinction, although you might hear this phraseology used in the wild.</p>
</blockquote>
<p>What if you <em>want</em> a copy of a list, and not just a copy of the reference? You can force a list copy a number of ways, but these are three common ones:</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a>    b <span class="op">=</span> a.copy()  <span class="co"># Copy with .copy() method</span></span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a>    b <span class="op">=</span> <span class="bu">list</span>(a)   <span class="co"># Copy with the list() function</span></span>
<span id="cb133-3"><a href="#cb133-3" aria-hidden="true" tabindex="-1"></a>    b <span class="op">=</span> a[:]      <span class="co"># Copy by slicing the entire list</span></span></code></pre></div>
<p>Even if you don’t have it quite down yet, don’t worry. We’ll hit this topic a few more times as we progress.</p>
<h2 id="for-and-listspowerful-stuff"><code>for</code> and Lists—Powerful Stuff</h2>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>Remember our good friend the <code>for</code> loop? We used it with <code>range</code> to loop a number of times, and we used it with strings to loop over each character in the string.</p>
<p>We can also use it with lists<a href="#fn64" class="footnote-ref" id="fnref64" role="doc-noteref"><sup>64</sup></a> to do things with each list element in order!</p>
<p>Here’s a simple example that prints all the elements in a list:</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> [<span class="dv">11</span>, <span class="dv">55</span>, <span class="dv">33</span>, <span class="dv">99</span>]</span>
<span id="cb134-2"><a href="#cb134-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb134-3"><a href="#cb134-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> x:</span>
<span id="cb134-4"><a href="#cb134-4" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;element is: </span><span class="sc">{i}</span><span class="ss">&quot;</span>)</span></code></pre></div>
<p>and this will output:</p>
<pre><code>    element is: 11
    element is: 55
    element is: 33
    element is: 99</code></pre>
<p>But wait, there’s more!</p>
<p>Recall from above that you can get the element out of a list if you know its index, for example, <code>x[2]</code>.</p>
<p>Let’s put those together in another way to use <code>for</code> and lists. This example does the same thing as the one above, just in a different way:</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> [<span class="dv">11</span>, <span class="dv">55</span>, <span class="dv">33</span>, <span class="dv">99</span>]</span>
<span id="cb136-2"><a href="#cb136-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb136-3"><a href="#cb136-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">4</span>):</span>
<span id="cb136-4"><a href="#cb136-4" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;element is: </span><span class="sc">{x</span>[i]<span class="sc">}</span><span class="ss">&quot;</span>)</span></code></pre></div>
<p>Although that’s not idiomatic Python<a href="#fn65" class="footnote-ref" id="fnref65" role="doc-noteref"><sup>65</sup></a> (the first example is better), it demonstrates how to use a variable <em>as the index</em>. We refer to <code>x[i]</code> inside the loop, and then have <code>i</code> change to loop over every element’s index.</p>
<p>It’s irking me that we have that hard-coded <code>4</code> in the <code>range()</code>. It only works for lists of length <code>4</code>. Let’s see if we can fix it.</p>
<p>Sneak preview: you can get the number of elements in a list with <code>len()</code>.</p>
<p>Let’s make the <code>range()</code> go up to “the length of the list” instead of to <code>4</code>:</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> [<span class="dv">11</span>, <span class="dv">55</span>, <span class="dv">33</span>, <span class="dv">99</span>]</span>
<span id="cb137-2"><a href="#cb137-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb137-3"><a href="#cb137-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(x)):             <span class="co"># &lt;---</span></span>
<span id="cb137-4"><a href="#cb137-4" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;element is: </span><span class="sc">{x</span>[i]<span class="sc">}</span><span class="ss">&quot;</span>)</span></code></pre></div>
<p>And now that works for lists of any length—much better!</p>
<h2 id="for-and-enumerate"><code>for</code> and <code>enumerate()</code></h2>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>In the examples above, we used <code>for</code> with the elements in the list themselves, and also with <code>range()</code> over the indexes of the elements in the list.</p>
<p>What if you want to do both at the same time? That is, you want the elements <em>and</em> you want the indexes?</p>
<p>A function that’s worthy of mention is <code>enumerate()</code>. It will iterate through each element in the list, returning the element and its index. You can get them both at the same time!</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> [<span class="dv">11</span>, <span class="dv">55</span>, <span class="dv">33</span>, <span class="dv">99</span>]</span>
<span id="cb138-2"><a href="#cb138-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb138-3"><a href="#cb138-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i, v <span class="kw">in</span> <span class="bu">enumerate</span>(x):</span>
<span id="cb138-4"><a href="#cb138-4" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;The element at index </span><span class="sc">{i}</span><span class="ss"> has value </span><span class="sc">{v}</span><span class="ss">&quot;</span>)</span></code></pre></div>
<p>This results in:</p>
<pre><code>    The element at index 0 has value 11
    The element at index 1 has value 55
    The element at index 2 has value 33
    The element at index 3 has value 99</code></pre>
<h2 id="midterm-doubling-the-values">Midterm: Doubling The Values</h2>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>Let’s write some code that takes a list and goes through all the elements in that list. If an element is <em>even</em>, we should multiply the value by <code>2</code>. If it’s odd, we should do nothing with it.</p>
<p>For example, if the input list is:</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>]</span></code></pre></div>
<p>after processing and doubling all the even values, it will be:</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">8</span>, <span class="dv">5</span>, <span class="dv">12</span>]</span></code></pre></div>
<p>Problem solving step: <strong>Devising a Plan</strong>.</p>
<p>We know we need to iterate over the list, so that sounds like a job for a <code>for</code>-loop. And we need to test if a number is even or odd, which sounds like a job for a <code>if</code> statement.</p>
<blockquote>
<p>How can we tell if a number is odd?</p>
<p>There’s a very common way to do this. Divide by <code>2</code> and take the remainder. If the remainder is <code>1</code>, it’s odd. If it’s <code>0</code>, it’s even.</p>
<p>Do you remember how to take the remainder in Python? With the <em>modulo</em> operator: <code>%</code>.</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="dv">12</span></span>
<span id="cb142-2"><a href="#cb142-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb142-3"><a href="#cb142-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> x <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb142-4"><a href="#cb142-4" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(<span class="st">&quot;x is even!&quot;</span>)</span>
<span id="cb142-5"><a href="#cb142-5" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb142-6"><a href="#cb142-6" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(<span class="st">&quot;x is odd!&quot;</span>)</span></code></pre></div>
</blockquote>
<p>So our plan is shaping up like this:</p>
<pre><code>    for each element in the list:
        if that element is even:
            double the value and store it at the same place in the list</code></pre>
<p>Then maybe print it out at the end, just for fun.</p>
<p>Problem solving step: <strong>Carrying out the Plan</strong>.</p>
<p>Here’s each line of the plan’s pseudocode <a href="https://beej.us/guide/bgpython/examples/listdouble.py">converted to Python</a><a href="#fn66" class="footnote-ref" id="fnref66" role="doc-noteref"><sup>66</sup></a>:</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python"><span id="cb144-1"><a href="#cb144-1"></a>x <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>]</span>
<span id="cb144-2"><a href="#cb144-2"></a></span>
<span id="cb144-3"><a href="#cb144-3"></a><span class="co"># for each element in the list</span></span>
<span id="cb144-4"><a href="#cb144-4"></a></span>
<span id="cb144-5"><a href="#cb144-5"></a><span class="cf">for</span> i, v <span class="kw">in</span> <span class="bu">enumerate</span>(x):</span>
<span id="cb144-6"><a href="#cb144-6"></a></span>
<span id="cb144-7"><a href="#cb144-7"></a>    <span class="co"># if that element is even</span></span>
<span id="cb144-8"><a href="#cb144-8"></a></span>
<span id="cb144-9"><a href="#cb144-9"></a>    <span class="cf">if</span> v <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span>: <span class="co"># check if v is even</span></span>
<span id="cb144-10"><a href="#cb144-10"></a></span>
<span id="cb144-11"><a href="#cb144-11"></a>        <span class="co"># double the value and store it at the same place in the list</span></span>
<span id="cb144-12"><a href="#cb144-12"></a>        x[i] <span class="op">=</span> v <span class="op">*</span> <span class="dv">2</span></span>
<span id="cb144-13"><a href="#cb144-13"></a></span>
<span id="cb144-14"><a href="#cb144-14"></a><span class="bu">print</span>(x)  <span class="co"># Print it out, just for fun</span></span></code></pre></div>
<p>And the output:</p>
<pre><code>    [1, 4, 3, 8, 5, 12]</code></pre>
<p><em>Voila!</em> There it is!</p>
<p>Problem solving step: <strong>Looking Back</strong>.</p>
<p>Anything you could make better about this?</p>
<p>Instead of using <code>enumerate()</code>, you could have used <code>for</code>-<code>range()</code>-<code>len()</code> like we did in an earlier example. Would you have felt that produced cleaner code?</p>
<p>(Remember: <em>coding is creative</em>. There are a lot of solutions. It’s up to you as a dev to make informed decisions about which methods you like more than others!)</p>
<p>One interesting thing to note is that on line 14, we just printed the entire list in one go. You can do that! <code>print()</code> prints out the string version of whatever you pass in. More on that in the future.</p>
<h2 id="built-in-functions-for-lists">Built-in Functions for Lists</h2>
<p>There are a number of very useful built-in functions and methods<a href="#fn67" class="footnote-ref" id="fnref67" role="doc-noteref"><sup>67</sup></a> that you can use with lists. Some we’ve already seen.</p>
<p>In the following table, the variable <code>a</code> represents a list.</p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Function</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>len(a)</code></td>
<td style="text-align: left;">Return the number of elements in the list</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>enumerate(a)</code></td>
<td style="text-align: left;">Iterate over index/value pairs in the list</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>a.append(x)</code></td>
<td style="text-align: left;">Append variable <code>x</code> to the end of the list</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>a.clear()</code></td>
<td style="text-align: left;">Clear all elements from the list</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>a.copy()</code></td>
<td style="text-align: left;">Make a copy of the list</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>a.count(v)</code></td>
<td style="text-align: left;">Count the number of occurrences of <code>v</code> in the list</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>a.extend(b)</code></td>
<td style="text-align: left;">Add elements of list <code>b</code> to end of list <code>a</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>a.index(v)</code></td>
<td style="text-align: left;">Return the first index of <code>v</code> in list <code>a</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>a.insert(i,v)</code></td>
<td style="text-align: left;">Insert <code>v</code> in list <code>a</code> before index <code>i</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>a.pop()</code></td>
<td style="text-align: left;">Remove and return the last element in <code>a</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>a.pop(i)</code></td>
<td style="text-align: left;">Remove and return the element at index <code>i</code> in <code>a</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>a.reverse()</code></td>
<td style="text-align: left;">Reverse the elements in the list</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>a.sort()</code></td>
<td style="text-align: left;">Sort the list</td>
</tr>
</tbody>
</table>
<p>Let’s just fire up the editor and start messing around with these to see how they work.</p>
<p>Here’s a program called <a href="https://beej.us/guide/bgpython/examples/listops.py"><code>listops.py</code></a><a href="#fn68" class="footnote-ref" id="fnref68" role="doc-noteref"><sup>68</sup></a> that does just that. You should also experiment with variations of these to get a feel for them:</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python"><span id="cb146-1"><a href="#cb146-1"></a>a <span class="op">=</span> [<span class="dv">5</span>, <span class="dv">2</span>, <span class="dv">8</span>, <span class="dv">4</span>, <span class="dv">7</span>, <span class="dv">4</span>, <span class="dv">0</span>, <span class="dv">9</span>]</span>
<span id="cb146-2"><a href="#cb146-2"></a></span>
<span id="cb146-3"><a href="#cb146-3"></a><span class="bu">print</span>(<span class="bu">len</span>(a))   <span class="co"># 8, the number of elements in the list</span></span>
<span id="cb146-4"><a href="#cb146-4"></a></span>
<span id="cb146-5"><a href="#cb146-5"></a>a.append(<span class="dv">100</span>)</span>
<span id="cb146-6"><a href="#cb146-6"></a></span>
<span id="cb146-7"><a href="#cb146-7"></a><span class="bu">print</span>(a)  <span class="co"># [5, 2, 8, 4, 7, 4, 0, 9, 100]</span></span>
<span id="cb146-8"><a href="#cb146-8"></a></span>
<span id="cb146-9"><a href="#cb146-9"></a><span class="bu">print</span>(a.count(<span class="dv">4</span>))  <span class="co"># 2, the number of 4s in the list</span></span>
<span id="cb146-10"><a href="#cb146-10"></a></span>
<span id="cb146-11"><a href="#cb146-11"></a><span class="bu">print</span>(a.index(<span class="dv">4</span>))  <span class="co"># 3, the index of the first 4 in the list</span></span>
<span id="cb146-12"><a href="#cb146-12"></a></span>
<span id="cb146-13"><a href="#cb146-13"></a>v <span class="op">=</span> a.pop()  <span class="co"># Remove the 100 from the end of the list</span></span>
<span id="cb146-14"><a href="#cb146-14"></a></span>
<span id="cb146-15"><a href="#cb146-15"></a><span class="bu">print</span>(v)   <span class="co"># 100</span></span>
<span id="cb146-16"><a href="#cb146-16"></a><span class="bu">print</span>(a)   <span class="co"># [5, 2, 8, 4, 7, 4, 0, 9]</span></span>
<span id="cb146-17"><a href="#cb146-17"></a></span>
<span id="cb146-18"><a href="#cb146-18"></a>a.reverse()   <span class="co"># Reverse the list</span></span>
<span id="cb146-19"><a href="#cb146-19"></a></span>
<span id="cb146-20"><a href="#cb146-20"></a><span class="bu">print</span>(a)   <span class="co"># [9, 0, 4, 7, 4, 8, 2, 5]</span></span>
<span id="cb146-21"><a href="#cb146-21"></a></span>
<span id="cb146-22"><a href="#cb146-22"></a>a.insert(<span class="dv">2</span>, <span class="dv">999</span>)  <span class="co"># insert 999 before index 2</span></span>
<span id="cb146-23"><a href="#cb146-23"></a></span>
<span id="cb146-24"><a href="#cb146-24"></a><span class="bu">print</span>(a)   <span class="co"># [9, 0, 999, 4, 7, 4, 8, 2, 5]</span></span>
<span id="cb146-25"><a href="#cb146-25"></a></span>
<span id="cb146-26"><a href="#cb146-26"></a>b <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb146-27"><a href="#cb146-27"></a></span>
<span id="cb146-28"><a href="#cb146-28"></a>a.extend(b)  <span class="co"># Add contents of b to end of a</span></span>
<span id="cb146-29"><a href="#cb146-29"></a></span>
<span id="cb146-30"><a href="#cb146-30"></a><span class="bu">print</span>(a)   <span class="co"># [9, 0, 999, 4, 7, 4, 8, 2, 5, 1, 2, 3]</span></span>
<span id="cb146-31"><a href="#cb146-31"></a></span>
<span id="cb146-32"><a href="#cb146-32"></a>a.sort()   <span class="co"># Sort all elements</span></span>
<span id="cb146-33"><a href="#cb146-33"></a></span>
<span id="cb146-34"><a href="#cb146-34"></a><span class="bu">print</span>(a)   <span class="co"># [0, 1, 2, 2, 3, 4, 4, 5, 7, 8, 9, 999]</span></span>
<span id="cb146-35"><a href="#cb146-35"></a></span>
<span id="cb146-36"><a href="#cb146-36"></a>a.clear()  <span class="co"># Remove all elements</span></span>
<span id="cb146-37"><a href="#cb146-37"></a></span>
<span id="cb146-38"><a href="#cb146-38"></a><span class="bu">print</span>(a)   <span class="co"># [], an empty list of length 0</span></span></code></pre></div>
<p>In addition to those functions, the <code>+</code> operator will take two lists and concatenate them together into a third list:</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a>    a <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb147-2"><a href="#cb147-2" aria-hidden="true" tabindex="-1"></a>    b <span class="op">=</span> [<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>]</span>
<span id="cb147-3"><a href="#cb147-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb147-4"><a href="#cb147-4" aria-hidden="true" tabindex="-1"></a>    c <span class="op">=</span> a <span class="op">+</span> b  <span class="co"># c refers to a new list [1, 2, 3, 4, 5, 6]</span></span>
<span id="cb147-5"><a href="#cb147-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb147-6"><a href="#cb147-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># lists a and b are unchanged</span></span></code></pre></div>
<p>Look at the amount of control we have over lists now! Not only can you read and write values at specific list indexes, but you can add to the end, insert stuff in the middle, remove from the end, or from anywhere within the list.</p>
<p>You are <em>All Powerful!</em></p>
<p>Okay, maybe not, but at least you can do a thing or two with lists.</p>
<h2 id="what-good-are-they">What Good Are They?</h2>
<p>“So I can become some kind of list ninja. What good does that do me?”</p>
<p>When it comes to anything in programming, it’s often helpful to try to think of physical, actual-real-life examples. What are some of the lists you have in real life? You can use Python lists to store those.</p>
<p>Shopping lists, bowling scores, favorite rocks, employee names, numbers, etc., etc.</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb148-1"><a href="#cb148-1" aria-hidden="true" tabindex="-1"></a>    shopping_list <span class="op">=</span> [</span>
<span id="cb148-2"><a href="#cb148-2" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;spam&quot;</span>,</span>
<span id="cb148-3"><a href="#cb148-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;eggs&quot;</span>,</span>
<span id="cb148-4"><a href="#cb148-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;bacon&quot;</span>,</span>
<span id="cb148-5"><a href="#cb148-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;sausage&quot;</span>,</span>
<span id="cb148-6"><a href="#cb148-6" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;spam&quot;</span>,</span>
<span id="cb148-7"><a href="#cb148-7" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;spam&quot;</span></span>
<span id="cb148-8"><a href="#cb148-8" aria-hidden="true" tabindex="-1"></a>    ]</span></code></pre></div>
<p>Sometimes we know those lists up front, and other times we compute them as we go.</p>
<h2 id="midterm-challenge-2">Midterm Challenge</h2>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>More math! <em>[Groan!]</em> Let’s compute the Fibonacci Sequence! <em>[Yay!]</em></p>
<p>The Fibonacci Sequence is a famous mathematical sequence (a progression of related numbers) that runs like this:</p>
<p><span class="math inline">\(0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89 ...\)</span></p>
<p>Before I give it away, study it a bit—can you see the pattern?</p>
<p>Lots of times, the job of a dev is to find patterns in data so that you can write code that generates them.</p>
<p>Spoiler alert!</p>
<p>Each number is the sum of the previous two numbers.</p>
<p><span class="math inline">\(0+1=1\)</span>, <span class="math inline">\(1+1=2\)</span>, <span class="math inline">\(1+2=3\)</span>, etc.</p>
<p>But what about the first two numbers in the sequence</p>
<p>Those are given to be <span class="math inline">\(0\)</span> and <span class="math inline">\(1\)</span>, no questions asked. This way you always have at least two previous numbers to get the next one.</p>
<p>What we want to do is write a program that builds and prints a list containing the first 100 Fibonacci numbers. We don’t want to do any of the addition ourselves—we want the code to compute it for us.</p>
<p>Problem solving step: <strong>Make A Plan</strong>.</p>
<p>We’re going to need a list to hold all the numbers.</p>
<p>We have the first two numbers (<span class="math inline">\(0\)</span> and <span class="math inline">\(1\)</span>), so we can put those in the list.</p>
<p>Then we have to look at the previous two numbers from the end, add them together, and then append the sum to the end of the list.</p>
<p>And we have to do that 98 more times to get 100 numbers.</p>
<p>Doing something 98 times seems like a <code>for</code>-<code>range()</code> loop to me.</p>
<p>We can append with the <code>.append()</code> method.</p>
<p>We can get the last and previous-to-last elements in the list with negative list indexes.</p>
<pre><code>    initialize the list with [0, 1]
    
    for 98 times:
        compute the sum of the previous two numbers
        append sum to the list
    
    print the list</code></pre>
<p>Time to code it up!</p>
<p>Problem solving step: <strong>Carrying out the Plan</strong>.</p>
<p><a href="https://beej.us/guide/bgpython/examples/fiblist.py"><code>fiblist.py</code></a><a href="#fn69" class="footnote-ref" id="fnref69" role="doc-noteref"><sup>69</sup></a>:</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python"><span id="cb150-1"><a href="#cb150-1"></a><span class="co"># initialize the list with [0, 1]</span></span>
<span id="cb150-2"><a href="#cb150-2"></a>fib <span class="op">=</span> [<span class="dv">0</span>, <span class="dv">1</span>]</span>
<span id="cb150-3"><a href="#cb150-3"></a></span>
<span id="cb150-4"><a href="#cb150-4"></a><span class="co"># for 98 times</span></span>
<span id="cb150-5"><a href="#cb150-5"></a><span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">98</span>):</span>
<span id="cb150-6"><a href="#cb150-6"></a></span>
<span id="cb150-7"><a href="#cb150-7"></a>    <span class="co"># compute the sum of the previous two numbers</span></span>
<span id="cb150-8"><a href="#cb150-8"></a>    s <span class="op">=</span> fib[<span class="op">-</span><span class="dv">1</span>] <span class="op">+</span> fib[<span class="op">-</span><span class="dv">2</span>]</span>
<span id="cb150-9"><a href="#cb150-9"></a></span>
<span id="cb150-10"><a href="#cb150-10"></a>    <span class="co"># append sum to the list</span></span>
<span id="cb150-11"><a href="#cb150-11"></a>    fib.append(s)</span>
<span id="cb150-12"><a href="#cb150-12"></a></span>
<span id="cb150-13"><a href="#cb150-13"></a><span class="co"># print the list</span></span>
<span id="cb150-14"><a href="#cb150-14"></a><span class="bu">print</span>(fib)</span></code></pre></div>
<p>And you’ll get some output that looks vaguely like this (I’ve rewrapped the output here—yours might not be so pretty):</p>
<pre><code>    [0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, 377, 610, 987, 1597,
    2584, 4181, 6765, 10946, 17711, 28657, 46368, 75025, 121393, 196418,
    317811, 514229, 832040, 1346269, 2178309, 3524578, 5702887, 9227465,
    14930352, 24157817, 39088169, 63245986, 102334155, 165580141, 267914296,
    433494437, 701408733, 1134903170, 1836311903, 2971215073, 4807526976,
    7778742049, 12586269025, 20365011074, 32951280099, 53316291173,
    86267571272, 139583862445, 225851433717, 365435296162, 591286729879,
    956722026041, 1548008755920, 2504730781961, 4052739537881,
    6557470319842, 10610209857723, 17167680177565, 27777890035288,
    44945570212853, 72723460248141, 117669030460994, 190392490709135,
    308061521170129, 498454011879264, 806515533049393, 1304969544928657,
    2111485077978050, 3416454622906707, 5527939700884757, 8944394323791464,
    14472334024676221, 23416728348467685, 37889062373143906,
    61305790721611591, 99194853094755497, 160500643816367088,
    259695496911122585, 420196140727489673, 679891637638612258,
    1100087778366101931, 1779979416004714189, 2880067194370816120,
    4660046610375530309, 7540113804746346429, 12200160415121876738,
    19740274219868223167, 31940434634990099905, 51680708854858323072,
    83621143489848422977, 135301852344706746049, 218922995834555169026]</code></pre>
<p>Problem solving step: <strong>Looking Back</strong>.</p>
<p>Notice how the list grows bigger and bigger each step of the loop. If we were to print out the list every iteration of the loop, we’d see something like this:</p>
<pre><code>    [0, 1]
    [0, 1, 1]
    [0, 1, 1, 2]
    [0, 1, 1, 2, 3]
    [0, 1, 1, 2, 3, 5]
    [0, 1, 1, 2, 3, 5, 8]
    [0, 1, 1, 2, 3, 5, 8, 13]</code></pre>
<p>and so on. We’re constructing the list as we go, building it from the previous elements<a href="#fn70" class="footnote-ref" id="fnref70" role="doc-noteref"><sup>70</sup></a>.</p>
<p>Another thing I did in the <code>for</code> loop was use <code>_</code> as the looping variable name. That’s a perfectly legitimate variable name<a href="#fn71" class="footnote-ref" id="fnref71" role="doc-noteref"><sup>71</sup></a>.</p>
<p>By convention, <code>_</code> is used as a name when you don’t intend to use it elsewhere.</p>
<p>You <em>must</em> have a variable named in your <code>for</code> loop—no option not to. But using <code>_</code> for that name indicates to programmers that you are just using the loop to count, and you don’t actuall care what the count is.</p>
<h2 id="building-new-lists-repeating-and-empty">Building New Lists, Repeating and Empty</h2>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>We’ve already seen how to initialize a list with a few elements in it:</p>
<div class="sourceCode" id="cb153"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a>    a <span class="op">=</span> [<span class="dv">11</span>, <span class="dv">55</span>, <span class="dv">33</span>, <span class="dv">99</span>]</span></code></pre></div>
<p>You can multiply a list by a constant value to get a new list repeated that many times.</p>
<p>What?</p>
<p>Easier demonstrated:</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a>    a <span class="op">=</span> [<span class="dv">11</span>, <span class="dv">99</span>]</span>
<span id="cb154-2"><a href="#cb154-2" aria-hidden="true" tabindex="-1"></a>    b <span class="op">=</span> a <span class="op">*</span> <span class="dv">3</span></span>
<span id="cb154-3"><a href="#cb154-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb154-4"><a href="#cb154-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(b) <span class="co"># [11, 99, 11, 99, 11, 99]</span></span></code></pre></div>
<p>It just repeats the list that many times into a new list.</p>
<p>A very common use of this is to create a new list of a certain number of elements, initialize to zero:</p>
<div class="sourceCode" id="cb155"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb155-1"><a href="#cb155-1" aria-hidden="true" tabindex="-1"></a>    a <span class="op">=</span> [<span class="dv">0</span>] <span class="op">*</span> <span class="dv">10</span></span>
<span id="cb155-2"><a href="#cb155-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(a)   <span class="co"># [0, 0, 0, 0, 0, 0, 0, 0, 0, 0] </span></span></code></pre></div>
<p>While we’re on about esoteric list declarations, you can declare a list of no elements like so"</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a>    a <span class="op">=</span> []</span></code></pre></div>
<p>presumably to compute values for later.</p>
<h2 id="list-comprehensions">List Comprehensions</h2>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>This is a really neat language feature of Python. It allows you to construct a new list from an old one, modifying and filtering elements as you go.</p>
<p>Before going into the syntax, we’ll write something using what we know so far with <code>for</code> and <code>if</code> and see how that looks. Then we’ll compare it to a list comprehension version.</p>
<p>I’m going to write some code that takes a list and produces a new list from it, not including all the odd numbers, and replacing the even numbers with the even number times 4.</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb157-1"><a href="#cb157-1" aria-hidden="true" tabindex="-1"></a>    a <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>]</span>
<span id="cb157-2"><a href="#cb157-2" aria-hidden="true" tabindex="-1"></a>    new_list <span class="op">=</span> []</span>
<span id="cb157-3"><a href="#cb157-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb157-4"><a href="#cb157-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> v <span class="kw">in</span> a:</span>
<span id="cb157-5"><a href="#cb157-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> v <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span>:  <span class="co"># if v is even</span></span>
<span id="cb157-6"><a href="#cb157-6" aria-hidden="true" tabindex="-1"></a>            new_list.append(v <span class="op">*</span> <span class="dv">4</span>)</span>
<span id="cb157-7"><a href="#cb157-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb157-8"><a href="#cb157-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(new_list)   <span class="co"># [8, 16, 24]</span></span></code></pre></div>
<p>Study that until you’re sure you have it down.</p>
<p>Now, here’s that same program as a list comprehension:</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb158-1"><a href="#cb158-1" aria-hidden="true" tabindex="-1"></a>    a <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>]</span>
<span id="cb158-2"><a href="#cb158-2" aria-hidden="true" tabindex="-1"></a>    new_list <span class="op">=</span> [v <span class="op">*</span> <span class="dv">4</span> <span class="cf">for</span> v <span class="kw">in</span> a <span class="cf">if</span> v <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span>]</span>
<span id="cb158-3"><a href="#cb158-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb158-4"><a href="#cb158-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(new_list)   <span class="co"># [8, 16, 24]</span></span></code></pre></div>
<p>Well, it’s certainly more concise!</p>
<p>But it’s also, I’m suspecting you’re finding, a lot harder to read. Yeah.</p>
<p>It’s <em>always</em> like this when you try to pick up a new piece of weird syntax you’ve never seen before. At first, it’s all weird, but the more you study it, the more used to it you get.</p>
<p>What I <em>don’t</em> want is for you to look at it and think, “It’s unreadable! Forget it!”</p>
<p>All you have to do is take it a step at a time.</p>
<p>What do we have in that line?</p>
<div class="sourceCode" id="cb159"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb159-1"><a href="#cb159-1" aria-hidden="true" tabindex="-1"></a>    <span class="co">#          result    loop        filter</span></span>
<span id="cb159-2"><a href="#cb159-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">#          |----| |--------| |-----------|</span></span>
<span id="cb159-3"><a href="#cb159-3" aria-hidden="true" tabindex="-1"></a>    new_list <span class="op">=</span> [v <span class="op">*</span> <span class="dv">4</span> <span class="cf">for</span> v <span class="kw">in</span> a <span class="cf">if</span> v <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span>]</span></code></pre></div>
<p>It’s split into three parts.</p>
<p>The “result”: this is what values will be included in the output list. The variable named here is the one in the “loop” clause.</p>
<p>The “loop”: assigns elements from the list into a variable, repeatedly.</p>
<p>The “filter” (optional): only elements for which the condition is true will be included in the output.</p>
<p>If we wanted to include only the <em>odd</em> numbers times 4, we could have done this:</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb160-1"><a href="#cb160-1" aria-hidden="true" tabindex="-1"></a>    <span class="co">#          result    loop        filter</span></span>
<span id="cb160-2"><a href="#cb160-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">#          |----| |--------| |-----------|</span></span>
<span id="cb160-3"><a href="#cb160-3" aria-hidden="true" tabindex="-1"></a>    new_list <span class="op">=</span> [v <span class="op">*</span> <span class="dv">4</span> <span class="cf">for</span> v <span class="kw">in</span> a <span class="cf">if</span> v <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">1</span>]</span></code></pre></div>
<p>Or the odd numbers divided by 3:</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb161-1"><a href="#cb161-1" aria-hidden="true" tabindex="-1"></a>    <span class="co">#          result    loop        filter</span></span>
<span id="cb161-2"><a href="#cb161-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">#          |----| |--------| |-----------|</span></span>
<span id="cb161-3"><a href="#cb161-3" aria-hidden="true" tabindex="-1"></a>    new_list <span class="op">=</span> [v <span class="op">/</span> <span class="dv">3</span> <span class="cf">for</span> v <span class="kw">in</span> a <span class="cf">if</span> v <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">1</span>]</span></code></pre></div>
<p>Leaving the filter off makes the list unconditionally. For example, all the numbers in the list times 4:</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb162-1"><a href="#cb162-1" aria-hidden="true" tabindex="-1"></a>    <span class="co">#          result    loop</span></span>
<span id="cb162-2"><a href="#cb162-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">#          |----| |--------|</span></span>
<span id="cb162-3"><a href="#cb162-3" aria-hidden="true" tabindex="-1"></a>    new_list <span class="op">=</span> [v <span class="op">*</span> <span class="dv">4</span> <span class="cf">for</span> v <span class="kw">in</span> a]</span></code></pre></div>
<p>When should I use them?</p>
<p>Any time you’re making a new list from an existing one and you want to optionally change or filter elements from the original list, list comprehensions are a great tool to us.</p>
<h2 id="lists-of-lists">Lists of Lists</h2>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>You can have lists of just about anything in Python. Lists of numbers, lists of strings, lists of lists…</p>
<p>That’s right, folks. Lists containing other lists. How does that work?</p>
<p>Here’s one example where we’ll make a bunch of lists, and then put them in another list.</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb163-1"><a href="#cb163-1" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb163-2"><a href="#cb163-2" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> [<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>]</span>
<span id="cb163-3"><a href="#cb163-3" aria-hidden="true" tabindex="-1"></a>    z <span class="op">=</span> [x, y]</span></code></pre></div>
<blockquote>
<p>It’s important to note that when we assign into <code>z</code>, we’re not copying lists <code>x</code> and <code>y</code>. What we’re doing is making it so that the values in list <code>z</code> refer to the same lists as <code>x</code> and <code>y</code> do.</p>
<p>In other words, there’s only one list in memory with the values <code>[1,2,3]</code>. And is referred to by both <code>x</code> and <code>z[0]</code>. Both variables reference the same list.</p>
</blockquote>
<p>In that example, how could we access elements of the lists-in-list?</p>
<p>We’re going to use square bracket notation again, but even more-so.</p>
<div class="sourceCode" id="cb164"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb164-1"><a href="#cb164-1" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb164-2"><a href="#cb164-2" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> [<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>]</span>
<span id="cb164-3"><a href="#cb164-3" aria-hidden="true" tabindex="-1"></a>    z <span class="op">=</span> [x, y]</span>
<span id="cb164-4"><a href="#cb164-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb164-5"><a href="#cb164-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(z[<span class="dv">0</span>]) <span class="co"># z[0] refers to x, so this prints [1, 2, 3]</span></span>
<span id="cb164-6"><a href="#cb164-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(z[<span class="dv">1</span>]) <span class="co"># z[1] refers to y, so this prints [4. 5. 6]</span></span></code></pre></div>
<p>So far so good?</p>
<p>Here’s the thing to notice: since <code>z[0]</code> and <code>z[1]</code> are lists, you can access the elements within those lists by using square bracket notation <em>again</em>.</p>
<p>Let’s try to get the number <code>6</code> out of that second list.</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb165-1"><a href="#cb165-1" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(z[<span class="dv">1</span>][<span class="dv">2</span>]) <span class="co"># prints 6</span></span></code></pre></div>
<p>Take apart that line of code. What’s happening there?</p>
<p>First Python evaluates the first square brackets it comes to. It knows <code>z</code> is a list, and so it evaluates <code>z[1]</code> to get the list <code>[4, 5, 6]</code>. Then it takes that list and evaluates it with <code>[2]</code>, getting the <code>6</code> out of it.</p>
<p>Another way to think of it would be to imagine using parentheses:</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb166-1"><a href="#cb166-1" aria-hidden="true" tabindex="-1"></a>    (z[<span class="dv">1</span>])[<span class="dv">2</span>] <span class="co"># first evaluate z[1], then evaluate [2] on the result</span></span>
<span id="cb166-2"><a href="#cb166-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb166-3"><a href="#cb166-3" aria-hidden="true" tabindex="-1"></a>    z[<span class="dv">1</span>][<span class="dv">2</span>]   <span class="co"># this is equivalent to the previous line</span></span></code></pre></div>
<p>(While Python doesn’t mind if you use parentheses like this, programmers don’t do it since it makes the code look messy.)</p>
<p>But what does this buy us? Lists of lists are exciting and all. (Right?) What are they useful for?</p>
<p>Having a list of lists literally adds a second dimension to the data you can represent. With a single list, you can represent one “row” of data. With a list of lists, you can represent multiple rows or a <em>grid</em> of data.</p>
<p>What are some places in computing a grid or multiple rows of data are used?</p>
<p>Spreadsheets! What else? See if any other ideas come to mind.</p>
<p>For declaring lists of lists, it’s really common to just declare them all at once, and not use intermediate variable to represent the sublists.</p>
<p>For example, the previous list we were using, above, could be declared more simply like so:</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb167-1"><a href="#cb167-1" aria-hidden="true" tabindex="-1"></a>    z <span class="op">=</span> [</span>
<span id="cb167-2"><a href="#cb167-2" aria-hidden="true" tabindex="-1"></a>        [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>],</span>
<span id="cb167-3"><a href="#cb167-3" aria-hidden="true" tabindex="-1"></a>        [<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>]</span>
<span id="cb167-4"><a href="#cb167-4" aria-hidden="true" tabindex="-1"></a>    ]</span></code></pre></div>
<p>or, if it looks better and your style guide allows it, you can put it on one line:</p>
<div class="sourceCode" id="cb168"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb168-1"><a href="#cb168-1" aria-hidden="true" tabindex="-1"></a>    z <span class="op">=</span> [ [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>], [<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>] ]</span>
<span id="cb168-2"><a href="#cb168-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb168-3"><a href="#cb168-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(z[<span class="dv">0</span>][<span class="dv">1</span>])  <span class="co"># Prints 2</span></span></code></pre></div>
<p>Now let’s see if we can put it all together for this chapter’s project!</p>
<h2 id="chapter-project-implementation">Chapter Project Implementation</h2>
<p>This is the big one. This project is going to draw on multiple things we’ve learned so far and put them all together into a working solution.</p>
<p>That makes this project more difficult that the previous ones. We’re going to break down the problem and decide what tools we know that we can bring to bear to solve it.</p>
<p>And this is what being a software developer is all about.</p>
<p>I’m not expecting the answer to be obvious. It’s rare you’ll see a problem that has an obvious solution, even as a seasoned developer. But we do have our problem solving framework to break down the problem into workable parts. So let’s do it!</p>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>We want to do several things with this project:</p>
<ul>
<li>Print a map on the screen</li>
<li>Get user input</li>
<li>Use the input to move a player indicator around the map</li>
<li>Make sure the player doesn’t move through walls</li>
<li>Keep repeating until the player quits</li>
</ul>
<p>What’s missing from <a href="#lists-proj-spec">the spec</a> that we need to know?</p>
<p>Remember your compass directions?</p>
<pre><code>        N
        |
    W --+-- E
        |
        S</code></pre>
<p>Now’s the time to get the answers to questions clarified. Much easier to do it now than after you’ve coded up the wrong thing!</p>
<p>What if the user provides invalid input? What happens then is missing from the spec. For that, let’s print an error message:</p>
<pre><code>    Unknown command: {x}</code></pre>
<p>Where <code>x</code> is whatever the user entered.</p>
<p>What if the player tries to move through a wall? Let’s use this error message:</p>
<pre><code>    You can&#39;t go that way.</code></pre>
<p>Anything else missing from the spec?</p>
<p>Problem solving step: <strong>Make A Plan</strong>.</p>
<p>We’re going to make use of two important techniques as we make this plan: <em>simplify the problem</em> and <em>breaking down subproblems</em>.</p>
<p>Simplifying the problem means to take our eventual goal and remove requirements to make it easier to code. Sure, eventually we’ll have to add those requirements back in, but simplifying the problem makes the initial coding easier.</p>
<p>What are examples of things we can simplify about this project? Here are some ideas:</p>
<ul>
<li>Don’t bother putting the <code>@</code> on the map where the player is</li>
<li>Allow the player to move through walls</li>
<li>Keep repeating forever, ignoring <code>q</code></li>
<li>Don’t validate user input</li>
</ul>
<p>Again, we’ll have to add this eventually, but removing them temporarily makes it much easier to reach an initial version.</p>
<p>The other technique, breaking down subproblems, is a variant of what we’ve been doing already.</p>
<p>Let’s start with high-level pseudocode, and then break it down where required.</p>
<pre><code>    while not quit:
        print map and player indicator
        get input
        make sure input is valid
        make sure we&#39;re not moving through walls</code></pre>
<p>How do we know that breaking down subproblems will be useful with this pseudocode? The first clue is that some of the steps are substantial, e.g. “print map and player indicator” immediately brings to mind the question, “How the heck can we do that?”</p>
<p>If any steps are too complex or are unclear, it means you have to break them down farther. Let’s do that for all the unclear sections:</p>
<pre><code>    while not quit:
        print map and player indicator
        for each row of the map:
            for each column of the map:
                if this is where the player is:
                    print @
                else:
                    print the map character
    
        get input
        make sure input is valid
    
        if input invalid:
            print error message
    
        elif input is &quot;q&quot;:
            quit
    
        else:
            figure out the new row and column of the player
    
        if the map at the new player position is &quot;#&quot;:
            print &quot;You can&#39;t go that way.&quot;
        else:
            set the current position to the new position</code></pre>
<p>That’s significantly better. It’ll be a lot easier to translate to Python.</p>
<p>Now… how are we going to store the data we need for this project? And what data do we need, anyway?</p>
<ul>
<li>The map representation</li>
<li>The player’s current position, row and column</li>
</ul>
<p>How are we going to store the map? In the spec, it’s displayed as text, like so:</p>
<pre><code>    #####################
    #...#...............#
    #...#..........#....#
    #...#..........#....#
    #...#..........#....#
    #...#..........#....#
    #..............#....#
    #..............#....#
    #####################</code></pre>
<p>where <code>#</code> is a wall and <code>.</code> is empty floor (that we can move through).</p>
<p>We could store all that as a single string… but that might make our lives a little more difficult since we have to put an <code>@</code> in where the player is located.</p>
<p>And, because of that, we’re planning to print the map out a character at at a time so we can decide if we’re going to draw an <code>@</code> or the map character.</p>
<p>What would be a more sensible way to store the map rather than a single big string?</p>
<p>Ponder that for a second.</p>
<p>Spoiler alert!</p>
<p>How about a list of strings? One string would be one row of the map. Then we could go through the single row a character at a time and decide what to print. (Remember we can use array bracket notation on a string to get single characters out!)</p>
<p>Look at all the techniques we’re using!</p>
<ul>
<li>Variables to store player’s current row and column on the map</li>
<li>A list of strings to store the map</li>
<li>Iterating through a list with <code>for</code></li>
<li>Iterating through strings for <code>for</code></li>
<li>Nested <code>for</code> loops</li>
<li><code>if</code> conditions to decide what to do with user input</li>
<li><code>if</code> conditions to determine if we can move that direction</li>
<li>Booleans and a <code>while</code> loop to run the game until the user quits</li>
</ul>
<p>Holy moly! That’s a lot of stuff. But that’s what we do as software developers: we take all we know and figure out how to put it together into the solution.</p>
<p>And it’s rarely an obvious one. We all have to work hard to come up with the answers.</p>
<p>Problem solving step: <strong>Carrying out the Plan</strong>.</p>
<p>Before we start this phase, I want you to notice how much time we’ve spend on the Understand and Plan phases without writing any code at all. It’s very tempting, especially for junior devs, to want to jump into the code without spending sufficient time on Understanding and Planning. Unfortunately, this practice causes one to waste productivity unnecessarily.</p>
<p>You’re not done understanding the problem until you have no more questions about.</p>
<p>You’re not done making a plan until you know how to convert every step of the plan to code.</p>
<p>If you spend enough time understanding an planning, coding almost becomes an afterthought.</p>
<p>And here we are. Let’s take our pseudocode and convert it into Python.</p>
<p>Coming back to <em>simplify the problem</em>, let’s start off by just storing and printing the map. No player, no input, no loop. Let’s just get that working.</p>
<p>First of all, we need to store the map data, so let’s do that:</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python"><span id="cb175-1"><a href="#cb175-1"></a><span class="co"># The map</span></span>
<span id="cb175-2"><a href="#cb175-2"></a></span>
<span id="cb175-3"><a href="#cb175-3"></a>map_data <span class="op">=</span> [</span>
<span id="cb175-4"><a href="#cb175-4"></a>    <span class="st">&quot;#####################&quot;</span>,</span>
<span id="cb175-5"><a href="#cb175-5"></a>    <span class="st">&quot;#...#...............#&quot;</span>,</span>
<span id="cb175-6"><a href="#cb175-6"></a>    <span class="st">&quot;#...#..........#....#&quot;</span>,</span>
<span id="cb175-7"><a href="#cb175-7"></a>    <span class="st">&quot;#...#..........#....#&quot;</span>,</span>
<span id="cb175-8"><a href="#cb175-8"></a>    <span class="st">&quot;#...#..........#....#&quot;</span>,</span>
<span id="cb175-9"><a href="#cb175-9"></a>    <span class="st">&quot;#...#..........#....#&quot;</span>,</span>
<span id="cb175-10"><a href="#cb175-10"></a>    <span class="st">&quot;#..............#....#&quot;</span>,</span>
<span id="cb175-11"><a href="#cb175-11"></a>    <span class="st">&quot;#..............#....#&quot;</span>,</span>
<span id="cb175-12"><a href="#cb175-12"></a>    <span class="st">&quot;#####################&quot;</span></span>
<span id="cb175-13"><a href="#cb175-13"></a>]</span></code></pre></div>
<p>We’ve split the map list onto multiple lines to make it easier to read.</p>
<p>Now we need to print it out. In our pseudocode, we used a nested <code>for</code> loop with <code>if</code> conditions.</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python"><span id="cb176-1"><a href="#cb176-1"></a><span class="co"># The map</span></span>
<span id="cb176-2"><a href="#cb176-2"></a></span>
<span id="cb176-3"><a href="#cb176-3"></a>map_data <span class="op">=</span> [</span>
<span id="cb176-4"><a href="#cb176-4"></a>    <span class="st">&quot;#####################&quot;</span>,</span>
<span id="cb176-5"><a href="#cb176-5"></a>    <span class="st">&quot;#...#...............#&quot;</span>,</span>
<span id="cb176-6"><a href="#cb176-6"></a>    <span class="st">&quot;#...#..........#....#&quot;</span>,</span>
<span id="cb176-7"><a href="#cb176-7"></a>    <span class="st">&quot;#...#..........#....#&quot;</span>,</span>
<span id="cb176-8"><a href="#cb176-8"></a>    <span class="st">&quot;#...#..........#....#&quot;</span>,</span>
<span id="cb176-9"><a href="#cb176-9"></a>    <span class="st">&quot;#...#..........#....#&quot;</span>,</span>
<span id="cb176-10"><a href="#cb176-10"></a>    <span class="st">&quot;#..............#....#&quot;</span>,</span>
<span id="cb176-11"><a href="#cb176-11"></a>    <span class="st">&quot;#..............#....#&quot;</span>,</span>
<span id="cb176-12"><a href="#cb176-12"></a>    <span class="st">&quot;#####################&quot;</span></span>
<span id="cb176-13"><a href="#cb176-13"></a>]</span>
<span id="cb176-14"><a href="#cb176-14"></a></span>
<span id="cb176-15"><a href="#cb176-15"></a><span class="co"># Print map and player indicator</span></span>
<span id="cb176-16"><a href="#cb176-16"></a></span>
<span id="cb176-17"><a href="#cb176-17"></a><span class="cf">for</span> row <span class="kw">in</span> map_data:  <span class="co"># for each row</span></span>
<span id="cb176-18"><a href="#cb176-18"></a>    <span class="cf">for</span> map_character <span class="kw">in</span> row:  <span class="co"># for each col</span></span>
<span id="cb176-19"><a href="#cb176-19"></a>        <span class="bu">print</span>(map_character, end<span class="op">=</span><span class="st">&quot;&quot;</span>)</span>
<span id="cb176-20"><a href="#cb176-20"></a>    <span class="bu">print</span>()</span></code></pre></div>
<p>There are a couple things to note there, so make sure to digest the code. We’re going through each row, and for each row, we’re going through each column and printing the character.</p>
<p>We want the characters to all print on the same line for a given row, so we use the <code>end=""</code> trick to keep Python from going to the next line.</p>
<p>And at the end of each row we have an empty <code>print()</code> to get the cursor down to the next line for starting to print the next row.</p>
<p>And when we run that, we get the map printed out!</p>
<p>But we don’t have the player position stored anywhere, and we’re not showing it on the screen. Let’s add that next.</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python"><span id="cb177-1"><a href="#cb177-1"></a><span class="co"># The map</span></span>
<span id="cb177-2"><a href="#cb177-2"></a></span>
<span id="cb177-3"><a href="#cb177-3"></a>map_data <span class="op">=</span> [</span>
<span id="cb177-4"><a href="#cb177-4"></a>    <span class="st">&quot;#####################&quot;</span>,</span>
<span id="cb177-5"><a href="#cb177-5"></a>    <span class="st">&quot;#...#...............#&quot;</span>,</span>
<span id="cb177-6"><a href="#cb177-6"></a>    <span class="st">&quot;#...#..........#....#&quot;</span>,</span>
<span id="cb177-7"><a href="#cb177-7"></a>    <span class="st">&quot;#...#..........#....#&quot;</span>,</span>
<span id="cb177-8"><a href="#cb177-8"></a>    <span class="st">&quot;#...#..........#....#&quot;</span>,</span>
<span id="cb177-9"><a href="#cb177-9"></a>    <span class="st">&quot;#...#..........#....#&quot;</span>,</span>
<span id="cb177-10"><a href="#cb177-10"></a>    <span class="st">&quot;#..............#....#&quot;</span>,</span>
<span id="cb177-11"><a href="#cb177-11"></a>    <span class="st">&quot;#..............#....#&quot;</span>,</span>
<span id="cb177-12"><a href="#cb177-12"></a>    <span class="st">&quot;#####################&quot;</span></span>
<span id="cb177-13"><a href="#cb177-13"></a>]</span>
<span id="cb177-14"><a href="#cb177-14"></a></span>
<span id="cb177-15"><a href="#cb177-15"></a><span class="co"># Player position</span></span>
<span id="cb177-16"><a href="#cb177-16"></a></span>
<span id="cb177-17"><a href="#cb177-17"></a>player_row <span class="op">=</span> <span class="dv">4</span>          <span class="co"># &lt;-- add player position</span></span>
<span id="cb177-18"><a href="#cb177-18"></a>player_column <span class="op">=</span> <span class="dv">9</span></span>
<span id="cb177-19"><a href="#cb177-19"></a></span>
<span id="cb177-20"><a href="#cb177-20"></a><span class="co"># Print map and player indicator</span></span>
<span id="cb177-21"><a href="#cb177-21"></a></span>
<span id="cb177-22"><a href="#cb177-22"></a><span class="co"># Use enumerate() to get the row and column indexes for the if:</span></span>
<span id="cb177-23"><a href="#cb177-23"></a><span class="cf">for</span> row_index, row <span class="kw">in</span> <span class="bu">enumerate</span>(map_data):  <span class="co"># for each row</span></span>
<span id="cb177-24"><a href="#cb177-24"></a>    <span class="cf">for</span> col_index, map_character <span class="kw">in</span> <span class="bu">enumerate</span>(row):  <span class="co"># for each col</span></span>
<span id="cb177-25"><a href="#cb177-25"></a>        <span class="cf">if</span> row_index <span class="op">==</span> player_row <span class="kw">and</span> col_index <span class="op">==</span> player_column:</span>
<span id="cb177-26"><a href="#cb177-26"></a>            <span class="bu">print</span>(<span class="st">&quot;@&quot;</span>, end<span class="op">=</span><span class="st">&quot;&quot;</span>)  <span class="co"># end=&quot;&quot; no newline</span></span>
<span id="cb177-27"><a href="#cb177-27"></a>        <span class="cf">else</span>:</span>
<span id="cb177-28"><a href="#cb177-28"></a>            <span class="bu">print</span>(map_character, end<span class="op">=</span><span class="st">&quot;&quot;</span>)</span>
<span id="cb177-29"><a href="#cb177-29"></a>    <span class="bu">print</span>()</span>
<span id="cb177-30"><a href="#cb177-30"></a> </span></code></pre></div>
<p>So there we’ve added a couple variables to store where the player is, and then in the map printing loop we check to see if this location is where the player is. If it is, print an <code>@</code>, otherwise print the map character.</p>
<p>For the next small thing to add, let’s get user input and quit if the user enters “<code>q</code>”. Otherwise, we’ll print the map again in a loop.</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python"><span id="cb178-1"><a href="#cb178-1"></a><span class="co"># The map</span></span>
<span id="cb178-2"><a href="#cb178-2"></a></span>
<span id="cb178-3"><a href="#cb178-3"></a>map_data <span class="op">=</span> [</span>
<span id="cb178-4"><a href="#cb178-4"></a>    <span class="st">&quot;#####################&quot;</span>,</span>
<span id="cb178-5"><a href="#cb178-5"></a>    <span class="st">&quot;#...#...............#&quot;</span>,</span>
<span id="cb178-6"><a href="#cb178-6"></a>    <span class="st">&quot;#...#..........#....#&quot;</span>,</span>
<span id="cb178-7"><a href="#cb178-7"></a>    <span class="st">&quot;#...#..........#....#&quot;</span>,</span>
<span id="cb178-8"><a href="#cb178-8"></a>    <span class="st">&quot;#...#..........#....#&quot;</span>,</span>
<span id="cb178-9"><a href="#cb178-9"></a>    <span class="st">&quot;#...#..........#....#&quot;</span>,</span>
<span id="cb178-10"><a href="#cb178-10"></a>    <span class="st">&quot;#..............#....#&quot;</span>,</span>
<span id="cb178-11"><a href="#cb178-11"></a>    <span class="st">&quot;#..............#....#&quot;</span>,</span>
<span id="cb178-12"><a href="#cb178-12"></a>    <span class="st">&quot;#####################&quot;</span></span>
<span id="cb178-13"><a href="#cb178-13"></a>]</span>
<span id="cb178-14"><a href="#cb178-14"></a></span>
<span id="cb178-15"><a href="#cb178-15"></a><span class="co"># Player position</span></span>
<span id="cb178-16"><a href="#cb178-16"></a></span>
<span id="cb178-17"><a href="#cb178-17"></a>player_row <span class="op">=</span> <span class="dv">4</span></span>
<span id="cb178-18"><a href="#cb178-18"></a>player_column <span class="op">=</span> <span class="dv">9</span></span>
<span id="cb178-19"><a href="#cb178-19"></a></span>
<span id="cb178-20"><a href="#cb178-20"></a>quit <span class="op">=</span> <span class="va">False</span></span>
<span id="cb178-21"><a href="#cb178-21"></a></span>
<span id="cb178-22"><a href="#cb178-22"></a><span class="cf">while</span> <span class="kw">not</span> quit:</span>
<span id="cb178-23"><a href="#cb178-23"></a></span>
<span id="cb178-24"><a href="#cb178-24"></a>    <span class="co"># Print map and player indicator</span></span>
<span id="cb178-25"><a href="#cb178-25"></a></span>
<span id="cb178-26"><a href="#cb178-26"></a>    <span class="cf">for</span> row_index, row <span class="kw">in</span> <span class="bu">enumerate</span>(map_data):  <span class="co"># for each row</span></span>
<span id="cb178-27"><a href="#cb178-27"></a>        <span class="cf">for</span> col_index, map_character <span class="kw">in</span> <span class="bu">enumerate</span>(row):  <span class="co"># for each col</span></span>
<span id="cb178-28"><a href="#cb178-28"></a>            <span class="cf">if</span> row_index <span class="op">==</span> player_row <span class="kw">and</span> col_index <span class="op">==</span> player_column:</span>
<span id="cb178-29"><a href="#cb178-29"></a>                <span class="bu">print</span>(<span class="st">&quot;@&quot;</span>, end<span class="op">=</span><span class="st">&quot;&quot;</span>)  <span class="co"># end=&quot;&quot; no newline</span></span>
<span id="cb178-30"><a href="#cb178-30"></a>            <span class="cf">else</span>:</span>
<span id="cb178-31"><a href="#cb178-31"></a>                <span class="bu">print</span>(map_character, end<span class="op">=</span><span class="st">&quot;&quot;</span>)</span>
<span id="cb178-32"><a href="#cb178-32"></a>        <span class="bu">print</span>()</span>
<span id="cb178-33"><a href="#cb178-33"></a></span>
<span id="cb178-34"><a href="#cb178-34"></a>    <span class="co"># Get input</span></span>
<span id="cb178-35"><a href="#cb178-35"></a></span>
<span id="cb178-36"><a href="#cb178-36"></a>    command <span class="op">=</span> <span class="bu">input</span>(<span class="st">&quot;Enter a move (n,s,w,e,q): &quot;</span>)</span>
<span id="cb178-37"><a href="#cb178-37"></a> </span>
<span id="cb178-38"><a href="#cb178-38"></a>    <span class="cf">if</span> command <span class="op">==</span> <span class="st">&quot;q&quot;</span>:</span>
<span id="cb178-39"><a href="#cb178-39"></a>        quit <span class="op">=</span> <span class="va">True</span></span>
<span id="cb178-40"><a href="#cb178-40"></a>        <span class="cf">continue</span>  <span class="co"># jump right back to the top of the while</span></span>
<span id="cb178-41"><a href="#cb178-41"></a>    <span class="cf">else</span>:</span>
<span id="cb178-42"><a href="#cb178-42"></a>        <span class="bu">print</span>(<span class="ss">f&#39;Unknown command </span><span class="sc">{</span>command<span class="sc">}</span><span class="ss">&#39;</span>)</span></code></pre></div>
<p>Getting there!</p>
<p>Something new to note! There’s a <code>continue</code> statement on line 40. This causes program execution to jump back to the top of the <code>while</code> loop, ignoring the rest of the loop body. It means, "Don’t do anything else in this block—just short circuit back to the <code>while</code> condition. (Which tests to false immediately and exits the loop.)</p>
<p>So now we have the player position being printed, and we have the user inputting a command. However, we still need to handle the directional commands and actually move the player around.</p>
<p>Our plan is to compute the new position for the player based on the current position and the user input. For example, if the user goes north (up) on the screen, the player’s column stays the same, but the row number decreases by 1.</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python"><span id="cb179-1"><a href="#cb179-1"></a><span class="co"># The map</span></span>
<span id="cb179-2"><a href="#cb179-2"></a></span>
<span id="cb179-3"><a href="#cb179-3"></a>map_data <span class="op">=</span> [</span>
<span id="cb179-4"><a href="#cb179-4"></a>    <span class="st">&quot;#####################&quot;</span>,</span>
<span id="cb179-5"><a href="#cb179-5"></a>    <span class="st">&quot;#...#...............#&quot;</span>,</span>
<span id="cb179-6"><a href="#cb179-6"></a>    <span class="st">&quot;#...#..........#....#&quot;</span>,</span>
<span id="cb179-7"><a href="#cb179-7"></a>    <span class="st">&quot;#...#..........#....#&quot;</span>,</span>
<span id="cb179-8"><a href="#cb179-8"></a>    <span class="st">&quot;#...#..........#....#&quot;</span>,</span>
<span id="cb179-9"><a href="#cb179-9"></a>    <span class="st">&quot;#...#..........#....#&quot;</span>,</span>
<span id="cb179-10"><a href="#cb179-10"></a>    <span class="st">&quot;#..............#....#&quot;</span>,</span>
<span id="cb179-11"><a href="#cb179-11"></a>    <span class="st">&quot;#..............#....#&quot;</span>,</span>
<span id="cb179-12"><a href="#cb179-12"></a>    <span class="st">&quot;#####################&quot;</span></span>
<span id="cb179-13"><a href="#cb179-13"></a>]</span>
<span id="cb179-14"><a href="#cb179-14"></a></span>
<span id="cb179-15"><a href="#cb179-15"></a><span class="co"># Player position</span></span>
<span id="cb179-16"><a href="#cb179-16"></a></span>
<span id="cb179-17"><a href="#cb179-17"></a>player_row <span class="op">=</span> <span class="dv">4</span></span>
<span id="cb179-18"><a href="#cb179-18"></a>player_column <span class="op">=</span> <span class="dv">9</span></span>
<span id="cb179-19"><a href="#cb179-19"></a></span>
<span id="cb179-20"><a href="#cb179-20"></a>quit <span class="op">=</span> <span class="va">False</span></span>
<span id="cb179-21"><a href="#cb179-21"></a></span>
<span id="cb179-22"><a href="#cb179-22"></a><span class="cf">while</span> <span class="kw">not</span> quit:</span>
<span id="cb179-23"><a href="#cb179-23"></a></span>
<span id="cb179-24"><a href="#cb179-24"></a>    <span class="co"># Print map and player indicator</span></span>
<span id="cb179-25"><a href="#cb179-25"></a></span>
<span id="cb179-26"><a href="#cb179-26"></a>    <span class="cf">for</span> row_index, row <span class="kw">in</span> <span class="bu">enumerate</span>(map_data):  <span class="co"># for each row</span></span>
<span id="cb179-27"><a href="#cb179-27"></a>        <span class="cf">for</span> col_index, map_character <span class="kw">in</span> <span class="bu">enumerate</span>(row):  <span class="co"># for each col</span></span>
<span id="cb179-28"><a href="#cb179-28"></a>            <span class="cf">if</span> row_index <span class="op">==</span> player_row <span class="kw">and</span> col_index <span class="op">==</span> player_column:</span>
<span id="cb179-29"><a href="#cb179-29"></a>                <span class="bu">print</span>(<span class="st">&quot;@&quot;</span>, end<span class="op">=</span><span class="st">&quot;&quot;</span>)  <span class="co"># end=&quot;&quot; no newline</span></span>
<span id="cb179-30"><a href="#cb179-30"></a>            <span class="cf">else</span>:</span>
<span id="cb179-31"><a href="#cb179-31"></a>                <span class="bu">print</span>(map_character, end<span class="op">=</span><span class="st">&quot;&quot;</span>)</span>
<span id="cb179-32"><a href="#cb179-32"></a>        <span class="bu">print</span>()</span>
<span id="cb179-33"><a href="#cb179-33"></a></span>
<span id="cb179-34"><a href="#cb179-34"></a>    <span class="co"># Get input</span></span>
<span id="cb179-35"><a href="#cb179-35"></a></span>
<span id="cb179-36"><a href="#cb179-36"></a>    command <span class="op">=</span> <span class="bu">input</span>(<span class="st">&quot;Enter a move (n,s,w,e,q): &quot;</span>)</span>
<span id="cb179-37"><a href="#cb179-37"></a> </span>
<span id="cb179-38"><a href="#cb179-38"></a>    <span class="co"># Figure out the new row and column of the player</span></span>
<span id="cb179-39"><a href="#cb179-39"></a>    <span class="co"># Make sure input is valid</span></span>
<span id="cb179-40"><a href="#cb179-40"></a>    <span class="cf">if</span> command <span class="op">==</span> <span class="st">&quot;n&quot;</span>:</span>
<span id="cb179-41"><a href="#cb179-41"></a>        new_row <span class="op">=</span> player_row <span class="op">-</span> <span class="dv">1</span></span>
<span id="cb179-42"><a href="#cb179-42"></a>        new_column <span class="op">=</span> player_column</span>
<span id="cb179-43"><a href="#cb179-43"></a>    <span class="cf">elif</span> command <span class="op">==</span> <span class="st">&quot;s&quot;</span>:</span>
<span id="cb179-44"><a href="#cb179-44"></a>        new_row <span class="op">=</span> player_row <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb179-45"><a href="#cb179-45"></a>        new_column <span class="op">=</span> player_column</span>
<span id="cb179-46"><a href="#cb179-46"></a>    <span class="cf">elif</span> command <span class="op">==</span> <span class="st">&quot;w&quot;</span>:</span>
<span id="cb179-47"><a href="#cb179-47"></a>        new_row <span class="op">=</span> player_row</span>
<span id="cb179-48"><a href="#cb179-48"></a>        new_column <span class="op">=</span> player_column <span class="op">-</span> <span class="dv">1</span></span>
<span id="cb179-49"><a href="#cb179-49"></a>    <span class="cf">elif</span> command <span class="op">==</span> <span class="st">&quot;e&quot;</span>:</span>
<span id="cb179-50"><a href="#cb179-50"></a>        new_row <span class="op">=</span> player_row</span>
<span id="cb179-51"><a href="#cb179-51"></a>        new_column <span class="op">=</span> player_column <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb179-52"><a href="#cb179-52"></a>    <span class="cf">elif</span> command <span class="op">==</span> <span class="st">&quot;q&quot;</span>:</span>
<span id="cb179-53"><a href="#cb179-53"></a>        quit <span class="op">=</span> <span class="va">True</span></span>
<span id="cb179-54"><a href="#cb179-54"></a>        <span class="cf">continue</span>  <span class="co"># jump right back to the top of the while</span></span>
<span id="cb179-55"><a href="#cb179-55"></a>    <span class="cf">else</span>:</span>
<span id="cb179-56"><a href="#cb179-56"></a>        <span class="bu">print</span>(<span class="ss">f&#39;Unknown command </span><span class="sc">{</span>command<span class="sc">}</span><span class="ss">&#39;</span>)</span>
<span id="cb179-57"><a href="#cb179-57"></a></span>
<span id="cb179-58"><a href="#cb179-58"></a>    <span class="co"># Set the current position to the new position</span></span>
<span id="cb179-59"><a href="#cb179-59"></a>    player_row <span class="op">=</span> new_row</span>
<span id="cb179-60"><a href="#cb179-60"></a>    player_column <span class="op">=</span> new_column</span></code></pre></div>
<p>That’s working great, but we can still walk through the walls. Let’s change those last few lines of the program to verify that the new position is an empty room before we move the player in there. (Note the line numbers!)</p>
<div class="sourceCode" id="cb180" data-startFrom="58"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python" style="counter-reset: source-line 57;"><span id="cb180-58"><a href="#cb180-58"></a>    <span class="cf">if</span> map_data[new_row][new_column] <span class="op">!=</span> <span class="st">&quot;.&quot;</span>:</span>
<span id="cb180-59"><a href="#cb180-59"></a>        <span class="bu">print</span>(<span class="st">&quot;You can&#39;t move that way!&quot;</span>)</span>
<span id="cb180-60"><a href="#cb180-60"></a>    <span class="cf">else</span>:</span>
<span id="cb180-61"><a href="#cb180-61"></a>        <span class="co"># Set the current position to the new position</span></span>
<span id="cb180-62"><a href="#cb180-62"></a>        player_row <span class="op">=</span> new_row</span>
<span id="cb180-63"><a href="#cb180-63"></a>        player_column <span class="op">=</span> new_column</span></code></pre></div>
<p>Woo! You’ve written your very own <a href="https://en.wikipedia.org/wiki/Roguelike">Roguelike</a><a href="#fn72" class="footnote-ref" id="fnref72" role="doc-noteref"><sup>72</sup></a> game!</p>
<p>Problem solving step: <strong>Looking Back</strong>.</p>
<p>For next steps, consider adding some of the following:</p>
<ul>
<li>Treasures</li>
<li>Monsters</li>
<li>Stats</li>
<li>Weapons</li>
<li>Whatever you desire! It’s your game!</li>
</ul>
<p>Just back to “Understand the Problem” and implement some of those things.</p>
<p>Also, the game looks neater if you clear the screen before printing the map, but unfortunately there’s no easy way to do this in a cross-platform manner<a href="#fn73" class="footnote-ref" id="fnref73" role="doc-noteref"><sup>73</sup></a>. But there is a hacky thing we can do.</p>
<p>If your terminal obeys <a href="https://en.wikipedia.org/wiki/ANSI_escape_code">ANSI escape codes</a><a href="#fn74" class="footnote-ref" id="fnref74" role="doc-noteref"><sup>74</sup></a>, which is likely, we can send special sequences of characters to it to clear the screen then home the cursor (move it to the top left).</p>
<p>The magical incantation looks like this:</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb181-1"><a href="#cb181-1" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&quot;</span><span class="ch">\x1b</span><span class="st">[2J</span><span class="ch">\x1b</span><span class="st">[H&quot;</span>, end<span class="op">=</span><span class="st">&quot;&quot;</span>)  <span class="co"># Clear the screen</span></span></code></pre></div>
<p>Go ahead and tuck that up above where you start printing the map and you’ll see the effect. If your terminal doesn’t support ANSI sequences, you’ll just see some weird characters. <a href="https://www.youtube.com/watch?v=q3fx6TugN7g">Bogus</a><a href="#fn75" class="footnote-ref" id="fnref75" role="doc-noteref"><sup>75</sup></a>.</p>
<p>If you really want to get into character graphics, there’s a library you should try: <a href="https://docs.python.org/3/howto/curses.html">curses</a><a href="#fn76" class="footnote-ref" id="fnref76" role="doc-noteref"><sup>76</sup></a>. It allows you to clear the screen, position the cursor, get input without echoing it to the screen or waiting for <code>RETURN</code>, output in color, and more.</p>
<p>Although we have enough knowledge to add monsters and treasure and so on, it will be easier to do so once we learn about dictionaries and objects in future chapters. We have more tools at our disposal!</p>
<p>(<a href="https://beej.us/guide/bgpython/examples/adv1.py">Solution</a><a href="#fn77" class="footnote-ref" id="fnref77" role="doc-noteref"><sup>77</sup></a>.)</p>
<h2 id="exercises-4">Exercises</h2>
<p><strong>Remember: to get your value out of this book, you have to do these exercises.</strong> After 20 minutes of being stuck on a problem, you’re allowed to look at the solution.</p>
<p>Use any knowledge you have to solve these, not only what you learned in this chapter.</p>
<p><strong>Always</strong> use the <a href="#problem-solving">four problem-solving steps</a> to solve these problems: understand the problem, devise a plan, carry it out, look back to see what you could have done better.</p>
<ol type="1">
<li><p>The following code prints out <code>99</code>:</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python"><span id="cb182-1"><a href="#cb182-1"></a>a <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb182-2"><a href="#cb182-2"></a>b <span class="op">=</span> a</span>
<span id="cb182-3"><a href="#cb182-3"></a></span>
<span id="cb182-4"><a href="#cb182-4"></a>b[<span class="dv">0</span>] <span class="op">=</span> <span class="dv">99</span></span>
<span id="cb182-5"><a href="#cb182-5"></a></span>
<span id="cb182-6"><a href="#cb182-6"></a><span class="bu">print</span> a[<span class="dv">0</span>]</span></code></pre></div>
<p>How can we change only line 2 so that <code>b</code> is a copy of <code>a</code>, causing the program to print out <code>1</code> instead?</p>
<p>(<a href="https://beej.us/guide/bgpython/examples/ex_refval.py">Solution</a><a href="#fn78" class="footnote-ref" id="fnref78" role="doc-noteref"><sup>78</sup></a>.)</p></li>
<li><p>Write a loop that prints out the total sum of the following list:</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb183-1"><a href="#cb183-1" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">14</span>, <span class="dv">31</span>, <span class="dv">44</span>, <span class="dv">46</span>, <span class="dv">54</span>, <span class="dv">59</span>, <span class="dv">45</span>, <span class="dv">55</span>, <span class="dv">21</span>, <span class="dv">11</span>, <span class="dv">8</span>, <span class="dv">34</span>, <span class="dv">66</span>, <span class="dv">41</span>]</span></code></pre></div>
<p>The sum is 529.</p>
<p>(<a href="https://beej.us/guide/bgpython/examples/ex_listsum.py">Solution</a><a href="#fn79" class="footnote-ref" id="fnref79" role="doc-noteref"><sup>79</sup></a>.)</p></li>
<li><p>Take the following list:</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb184-1"><a href="#cb184-1" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">11</span>, <span class="dv">22</span>, <span class="dv">33</span>]</span></code></pre></div>
<p>and write one line of Python that changes the list to:</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb185-1"><a href="#cb185-1" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">11</span>, <span class="dv">22</span>, <span class="dv">33</span>, <span class="dv">99</span>]</span></code></pre></div>
<p>Then write another line that changes <em>that</em> list to:</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb186-1"><a href="#cb186-1" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">11</span>, <span class="dv">33</span>, <span class="dv">99</span>]</span></code></pre></div>
<p>Then, finally, write another line that changes the list to:</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb187-1"><a href="#cb187-1" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">11</span>, <span class="dv">33</span>, <span class="dv">88</span>, <span class="dv">99</span>]</span></code></pre></div>
<p>This exercise should manipulate the same list, not create new lists.</p>
<p>(<a href="https://beej.us/guide/bgpython/examples/ex_listchange.py">Solution</a><a href="#fn80" class="footnote-ref" id="fnref80" role="doc-noteref"><sup>80</sup></a>.)</p></li>
<li><p>Create the following list in under 20 characters of Python code:</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb188-1"><a href="#cb188-1" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span></code></pre></div>
<p>(<a href="https://beej.us/guide/bgpython/examples/ex_replist.py">Solution</a><a href="#fn81" class="footnote-ref" id="fnref81" role="doc-noteref"><sup>81</sup></a>.)</p></li>
<li><p>Using a list comprehension, make a new list from the following that only includes numbers that are multiples of 5:</p>
<div class="sourceCode" id="cb189"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb189-1"><a href="#cb189-1" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">14</span>, <span class="dv">31</span>, <span class="dv">44</span>, <span class="dv">46</span>, <span class="dv">54</span>, <span class="dv">59</span>, <span class="dv">45</span>, <span class="dv">55</span>, <span class="dv">21</span>, <span class="dv">11</span>, <span class="dv">8</span>, <span class="dv">34</span>, <span class="dv">66</span>, <span class="dv">41</span>]</span></code></pre></div>
<p>(<a href="https://beej.us/guide/bgpython/examples/ex_listcompx5.py">Solution</a><a href="#fn82" class="footnote-ref" id="fnref82" role="doc-noteref"><sup>82</sup></a>.)</p></li>
<li><p>Using a list comprehension, make a new list from the following that only includes all-uppercase versions of all words that begin with a consonant.</p>
<div class="sourceCode" id="cb190"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb190-1"><a href="#cb190-1" aria-hidden="true" tabindex="-1"></a>    [<span class="st">&quot;alice&quot;</span>, <span class="st">&quot;beej&quot;</span>, <span class="st">&quot;chris&quot;</span>, <span class="st">&quot;dave&quot;</span>, <span class="st">&quot;eve&quot;</span>, <span class="st">&quot;frank&quot;</span>]</span></code></pre></div>
<p>Sample output:</p>
<pre><code>    [&#39;BEEJ&#39;, &#39;CHRIS&#39;, &#39;DAVE&#39;, &#39;FRANK&#39;] </code></pre>
<p>(<a href="https://beej.us/guide/bgpython/examples/ex_listcompcap.py">Solution</a><a href="#fn83" class="footnote-ref" id="fnref83" role="doc-noteref"><sup>83</sup></a>.)</p></li>
<li><p>Write a program that generates a list of lists (2D list) containing a multiplication table up to <span class="math inline">\(12\times12\)</span>.</p>
<p>You should be able to print the result of, say, <span class="math inline">\(7\times5\)</span> like so:</p>
<div class="sourceCode" id="cb192"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb192-1"><a href="#cb192-1" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(multtable[<span class="dv">7</span>][<span class="dv">5</span>])  <span class="co"># prints 35</span></span></code></pre></div>
<p>(<a href="https://beej.us/guide/bgpython/examples/ex_listmult.py">Solution</a><a href="#fn84" class="footnote-ref" id="fnref84" role="doc-noteref"><sup>84</sup></a>.)</p></li>
</ol>
<h2 id="summary-6">Summary</h2>
<p>Look at all the stuff we’ve covered this chapter!</p>
<ul>
<li>A brand new data structure to hold lists of information</li>
<li>Understanding assignments with mutable types</li>
<li>How to access and change items in a list</li>
<li>How to modify and copy the list</li>
<li>How to create new lists of repeating values</li>
<li>List comprehensions! Wow!</li>
<li>Lists of lists!</li>
</ul>
<p>Lists are a powerful tool to add to our arsenal. We’re going to make heavy use of them as our programs get more complex.</p>
<!--
vim: ts=4:sw=4:nosi:et:tw=72:spell:nojs
-->
<h1 id="dictionaries">Dictionaries</h1>
<h2 id="objective-4">Objective</h2>
<ul>
<li>Understand whats dictionaries are</li>
<li>Initialize a dictionary</li>
<li>Access individual elements in a dictionary</li>
<li>Check to see if a key is in a dictionary</li>
<li>Iterate over dictionaries with <code>for</code></li>
<li>Use common dictionaries built-in functions</li>
<li>Construct new dictionaries with dictionary comprehensions</li>
<li>Build Dictionaries of Dictionaries</li>
<li>Understand that Dictionaries are Mutable</li>
</ul>
<h2 id="dicts-proj-spec">Chapter Project Specification</h2>
<p>Let’s store some genealogical<a href="#fn85" class="footnote-ref" id="fnref85" role="doc-noteref"><sup>85</sup></a> data!</p>
<p>We’ll have a number of data records associated with each person:</p>
<pre><code>    Beej Jorgensen:
        Born: 1990 [yes, I&#39;m 29, is my story I&#39;m sticking to]
        Mother: Mom Jorgensen
        Father: Dad Jorgensen
        Siblings: [Brother Jorgensen, Sister Jorgensen, Little Sister Jorgensen]
    
    Mom Jorgensen:
        Born: 1970
        Mother: Grandma Jorgensen
        Father: Grandpa Jorgensen
        Siblings: [Auntie Jorgensen]
    
    Dad Jorgensen:
        Born: 1965
        Mother: Granny Jorgensen
        Father: Grandad Jorgensen
        Siblings: [Uncle Jorgensen]</code></pre>
<p>(Ok, I hear you saying, “Wait, your mom and dad were both Jorgensens? That’s suspicious. I mean, I’m not saying, but I’m just saying.” Hold your tongue! I can assure you they’re not related<a href="#fn86" class="footnote-ref" id="fnref86" role="doc-noteref"><sup>86</sup></a>.)</p>
<p>We want to write an app that will allow you to print out the birthdays of the parents of any given person.</p>
<p>Example:</p>
<pre><code>    Enter a name (or q to quit): Beej Jorgensen
    Parents:
        Mom Jorgensen (1970)
        Dad Jorgensen (1965)</code></pre>
<p>So we’ll need some way to store that, and some way to look through the data to get information about other people who are referenced.</p>
<p>Yes, we could use lists of people and just search through, but there’s a less clunky way we might go about doing this.</p>
<p>This chapter is all about how we might store such data.</p>
<h2 id="what-are-dictionaries">What are Dictionaries?</h2>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>Remember how with lists, we could key an index number into the list and get a value out, and how we could use that same index number to store something in that “slot”?</p>
<p>Was really convenient for storing collections of information that you could index by number, right?</p>
<p>Well, what if you wanted to refer to a slot with something that <em>wasn’t</em> a number? What if you wanted to use, say, a string, like so?</p>
<div class="sourceCode" id="cb195"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb195-1"><a href="#cb195-1" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb195-2"><a href="#cb195-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb195-3"><a href="#cb195-3" aria-hidden="true" tabindex="-1"></a>    x[<span class="st">&quot;beej&quot;</span>] <span class="op">=</span> <span class="dv">3490</span>  <span class="co"># Not going to work with a list</span></span></code></pre></div>
<p>That makes Python unhappy because <code>"beej"</code> isn’t an integer. And with lists, it wants integers.</p>
<p>But we can get around that limitation with <em>dictionaries</em>, or <em>dicts</em> for short.</p>
<p>Declaring a dictionary is a little bit different, but here’s a simple example to start:</p>
<div class="sourceCode" id="cb196"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb196-1"><a href="#cb196-1" aria-hidden="true" tabindex="-1"></a>    d <span class="op">=</span> {}  <span class="co"># Squirrely braces, not square brackets!</span></span>
<span id="cb196-2"><a href="#cb196-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb196-3"><a href="#cb196-3" aria-hidden="true" tabindex="-1"></a>    d[<span class="st">&quot;beej&quot;</span>] <span class="op">=</span> <span class="dv">3490</span></span>
<span id="cb196-4"><a href="#cb196-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb196-5"><a href="#cb196-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(d[<span class="st">&quot;beej&quot;</span>])  <span class="co"># 3490</span></span></code></pre></div>
<p>So very similar in usage, though the initial declaration of the variable is different than a list.</p>
<p>With dicts, the value in the square brackets is called the <em>key</em>, and the value stored there is the <em>value</em>.</p>
<div class="sourceCode" id="cb197"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb197-1"><a href="#cb197-1" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   key        value</span></span>
<span id="cb197-2"><a href="#cb197-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">#    |           |</span></span>
<span id="cb197-3"><a href="#cb197-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">#  --+--      ---+---</span></span>
<span id="cb197-4"><a href="#cb197-4" aria-hidden="true" tabindex="-1"></a>    d[<span class="st">&quot;goats&quot;</span>] <span class="op">=</span> <span class="st">&quot;awesome&quot;</span></span></code></pre></div>
<p>You use the key to lookup a value in the dictionary, or to set a value in the dictionary.</p>
<p>The key can be any immutable type (e.g. integers, floats, strings). The value can be any type.</p>
<h2 id="initializing-a-dictionary">Initializing a Dictionary</h2>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>As we saw above, you can initialize an empty dictionary like so:</p>
<div class="sourceCode" id="cb198"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb198-1"><a href="#cb198-1" aria-hidden="true" tabindex="-1"></a>    d <span class="op">=</span> {}</span></code></pre></div>
<p>But you can also pre-initialize the dictionary with a number of keys and values:</p>
<div class="sourceCode" id="cb199"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb199-1"><a href="#cb199-1" aria-hidden="true" tabindex="-1"></a>    d <span class="op">=</span> {</span>
<span id="cb199-2"><a href="#cb199-2" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;name&quot;</span>: <span class="st">&quot;Beej&quot;</span>,</span>
<span id="cb199-3"><a href="#cb199-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;age&quot;</span>: <span class="dv">29</span>,  <span class="co"># ish</span></span>
<span id="cb199-4"><a href="#cb199-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;favorite OS&quot;</span>: <span class="st">&quot;windows&quot;</span>,</span>
<span id="cb199-5"><a href="#cb199-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;no really, favorite OS&quot;</span>: <span class="st">&quot;linux&quot;</span></span>
<span id="cb199-6"><a href="#cb199-6" aria-hidden="true" tabindex="-1"></a>    }</span></code></pre></div>
<p>That’s the equivalent of setting them by hand, albeit less verbose:</p>
<div class="sourceCode" id="cb200"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb200-1"><a href="#cb200-1" aria-hidden="true" tabindex="-1"></a>    d <span class="op">=</span> {}</span>
<span id="cb200-2"><a href="#cb200-2" aria-hidden="true" tabindex="-1"></a>    d[<span class="st">&quot;name&quot;</span>] <span class="op">=</span> <span class="st">&quot;Beej&quot;</span></span>
<span id="cb200-3"><a href="#cb200-3" aria-hidden="true" tabindex="-1"></a>    d[<span class="st">&quot;age&quot;</span>] <span class="op">=</span> <span class="dv">29</span>  <span class="co"># ish</span></span>
<span id="cb200-4"><a href="#cb200-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># etc.</span></span></code></pre></div>
<p>If you come from a web background, you might have come across <a href="https://en.wikipedia.org/wiki/JSON">JSON</a><a href="#fn87" class="footnote-ref" id="fnref87" role="doc-noteref"><sup>87</sup></a>-format data. The Python dictionary is very similar in format, though not exactly the same.</p>
<h2 id="speed-demon">Speed Demon</h2>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>Like lists, dicts are really fast at looking up information. In fact, on average, it takes the same amount of time to get a value out of a dictionary, <em>regardless of how many items are in the dictionary</em><a href="#fn88" class="footnote-ref" id="fnref88" role="doc-noteref"><sup>88</sup></a>.</p>
<p>Keep this fact in mind going forward. We’ll get into more complex problems that can make use of this feature to keep your programs running quickly. <em>Vroom!</em></p>
<h2 id="does-this-dict-have-this-key">Does this <code>dict</code> have this key?</h2>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>If you have a dictionary, it’s nice to be able to check to see if a key even exists.</p>
<p>The secret to doing this is the <code>in</code> statement that will return a Boolean indicating if a key is in a dict.</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb201-1"><a href="#cb201-1" aria-hidden="true" tabindex="-1"></a>    d <span class="op">=</span> {</span>
<span id="cb201-2"><a href="#cb201-2" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;a&quot;</span>: <span class="dv">10</span>,</span>
<span id="cb201-3"><a href="#cb201-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;b&quot;</span>: <span class="dv">20</span></span>
<span id="cb201-4"><a href="#cb201-4" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb201-5"><a href="#cb201-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb201-6"><a href="#cb201-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="st">&quot;a&quot;</span> <span class="kw">in</span> d:</span>
<span id="cb201-7"><a href="#cb201-7" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&#39;key a</span><span class="ch">\&#39;</span><span class="ss">s value is: </span><span class="sc">{d</span>[<span class="st">&quot;a&quot;</span>]<span class="sc">}</span><span class="ss">&#39;</span>)</span>
<span id="cb201-8"><a href="#cb201-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb201-9"><a href="#cb201-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="st">&quot;x&quot;</span> <span class="kw">not</span> <span class="kw">in</span> d:</span>
<span id="cb201-10"><a href="#cb201-10" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&#39;There is no key &quot;x&quot; in &quot;d&quot;&#39;</span>)</span></code></pre></div>
<p>There is also a way to get an item out of a dictionary using the <code>.get()</code> method. This method returns a default value of <code>None</code><a href="#fn89" class="footnote-ref" id="fnref89" role="doc-noteref"><sup>89</sup></a> if the key doesn’t exist.</p>
<div class="sourceCode" id="cb202"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb202-1"><a href="#cb202-1" aria-hidden="true" tabindex="-1"></a>    val <span class="op">=</span> d.get(<span class="st">&quot;x&quot;</span>)</span>
<span id="cb202-2"><a href="#cb202-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb202-3"><a href="#cb202-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> val <span class="kw">is</span> <span class="va">None</span>:  <span class="co"># Note: use &quot;is&quot;, not &quot;==&quot; with &quot;None&quot;!</span></span>
<span id="cb202-4"><a href="#cb202-4" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;Key x does not exist&quot;</span>)</span>
<span id="cb202-5"><a href="#cb202-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb202-6"><a href="#cb202-6" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;Value of key x is </span><span class="sc">{d</span>[x]<span class="sc">}</span><span class="ss">&quot;</span>)</span></code></pre></div>
<p>You can also detect a non-existent key with <code>try</code>/<code>catch</code>. But that’s a story for another time.</p>
<h2 id="iterating-over-dictionaries">Iterating over Dictionaries</h2>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>Remember how you could iterate over all the elements in a list with <code>for</code>? Well, we can do the same thing with dictionaries. Except in this case, we’ll be looping over the <em>keys</em> in the dictionary, not the values.</p>
<p>Let’s try it!</p>
<div class="sourceCode" id="cb203"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb203-1"><a href="#cb203-1" aria-hidden="true" tabindex="-1"></a>    d <span class="op">=</span> {</span>
<span id="cb203-2"><a href="#cb203-2" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;c&quot;</span>: <span class="dv">10</span>,</span>
<span id="cb203-3"><a href="#cb203-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;b&quot;</span>: <span class="dv">20</span>,</span>
<span id="cb203-4"><a href="#cb203-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;a&quot;</span>: <span class="dv">30</span></span>
<span id="cb203-5"><a href="#cb203-5" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb203-6"><a href="#cb203-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb203-7"><a href="#cb203-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> k <span class="kw">in</span> d:</span>
<span id="cb203-8"><a href="#cb203-8" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;key </span><span class="sc">{k}</span><span class="ss"> has value </span><span class="sc">{d</span>[k]<span class="sc">}</span><span class="ss">&quot;</span>)</span></code></pre></div>
<p>This gives us the output:</p>
<pre><code>    key c has value 10
    key b has value 20
    key a has value 30</code></pre>
<p>Note that in the latest version of Python, the keys come out in the same order they’ve been added to the dictionary.</p>
<p>If you want them in another order, there are options:</p>
<div class="sourceCode" id="cb205"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb205-1"><a href="#cb205-1" aria-hidden="true" tabindex="-1"></a>    d <span class="op">=</span> {</span>
<span id="cb205-2"><a href="#cb205-2" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;c&quot;</span>: <span class="dv">10</span>,</span>
<span id="cb205-3"><a href="#cb205-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;b&quot;</span>: <span class="dv">20</span>,</span>
<span id="cb205-4"><a href="#cb205-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;a&quot;</span>: <span class="dv">30</span></span>
<span id="cb205-5"><a href="#cb205-5" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb205-6"><a href="#cb205-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb205-7"><a href="#cb205-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> k <span class="kw">in</span> <span class="bu">sorted</span>(d):  <span class="co"># &lt;--- Add the call to sorted()</span></span>
<span id="cb205-8"><a href="#cb205-8" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;key </span><span class="sc">{k}</span><span class="ss"> has value </span><span class="sc">{d</span>[k]<span class="sc">}</span><span class="ss">&quot;</span>)</span></code></pre></div>
<p>And now we have this, where the keys have been sorted alphabetically<a href="#fn90" class="footnote-ref" id="fnref90" role="doc-noteref"><sup>90</sup></a>.</p>
<pre><code>    key a has value 30
    key b has value 20
    key c has value 10</code></pre>
<p>Also, similar to how lists work, you can use the <code>.items()</code> method to get all keys and values out at the same time in a <code>for</code> loop, like this:</p>
<div class="sourceCode" id="cb207"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb207-1"><a href="#cb207-1" aria-hidden="true" tabindex="-1"></a>    d <span class="op">=</span> {</span>
<span id="cb207-2"><a href="#cb207-2" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;c&quot;</span>: <span class="dv">10</span>,</span>
<span id="cb207-3"><a href="#cb207-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;b&quot;</span>: <span class="dv">20</span>,</span>
<span id="cb207-4"><a href="#cb207-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;a&quot;</span>: <span class="dv">30</span></span>
<span id="cb207-5"><a href="#cb207-5" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb207-6"><a href="#cb207-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb207-7"><a href="#cb207-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> k, v <span class="kw">in</span> d.items():</span>
<span id="cb207-8"><a href="#cb207-8" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;key </span><span class="sc">{k}</span><span class="ss"> has value </span><span class="sc">{v}</span><span class="ss">&quot;</span>)</span></code></pre></div>
<h2 id="common-built-in-dictionary-functionality">Common Built-in Dictionary Functionality</h2>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>You have a number of tools in your toolkit for working with dicts in Python:</p>
<table>
<colgroup>
<col style="width: 22%" />
<col style="width: 77%" />
</colgroup>
<thead>
<tr class="header">
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>.clear()</code></td>
<td>Empty a dictionary, removing all keys/values</td>
</tr>
<tr class="even">
<td><code>.copy()</code></td>
<td>Return a copy of a dictionary</td>
</tr>
<tr class="odd">
<td><code>.get(key)</code></td>
<td>Get a value from a dictionary, with a default if it doesn’t exist</td>
</tr>
<tr class="even">
<td><code>.items()</code></td>
<td>Return a list-ish of the <code>(key,value)</code> pairs in the dictionary</td>
</tr>
<tr class="odd">
<td><code>.keys()</code></td>
<td>Return a list-ish of the keys in the dictionary</td>
</tr>
<tr class="even">
<td><code>.values()</code></td>
<td>Return a list-ish of the values in the dictionary</td>
</tr>
<tr class="odd">
<td><code>.pop(key)</code></td>
<td>Return the value for the given key, and remove it from the dictionary</td>
</tr>
<tr class="even">
<td><code>.popitem()</code></td>
<td>Pop and return the most-recently-added <code>(key,value)</code> pair</td>
</tr>
</tbody>
</table>
<p>We already saw a use of <code>.get()</code>, earlier, but it can also be modified to return a default value if the key doesn’t exist in the dictionary.</p>
<div class="sourceCode" id="cb208"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb208-1"><a href="#cb208-1" aria-hidden="true" tabindex="-1"></a>    d <span class="op">=</span> {</span>
<span id="cb208-2"><a href="#cb208-2" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;c&quot;</span>: <span class="dv">10</span>,</span>
<span id="cb208-3"><a href="#cb208-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;b&quot;</span>: <span class="dv">20</span>,</span>
<span id="cb208-4"><a href="#cb208-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;a&quot;</span>: <span class="dv">30</span></span>
<span id="cb208-5"><a href="#cb208-5" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb208-6"><a href="#cb208-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb208-7"><a href="#cb208-7" aria-hidden="true" tabindex="-1"></a>    v <span class="op">=</span> d.get(<span class="st">&quot;x&quot;</span>, <span class="op">-</span><span class="dv">99</span>)  <span class="co"># Return -99 if key doesn&#39;t exist</span></span>
<span id="cb208-8"><a href="#cb208-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb208-9"><a href="#cb208-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(v)  <span class="co"># Prints -99, since key `x` doesn&#39;t exist</span></span></code></pre></div>
<p>We’ve already seen a use of <code>.items()</code>, above. If you want to see just all the keys or values, you can get an iterable back with the <code>.keys()</code> and <code>.values()</code>:</p>
<div class="sourceCode" id="cb209"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb209-1"><a href="#cb209-1" aria-hidden="true" tabindex="-1"></a>    d <span class="op">=</span> {</span>
<span id="cb209-2"><a href="#cb209-2" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;c&quot;</span>: <span class="dv">10</span>,</span>
<span id="cb209-3"><a href="#cb209-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;b&quot;</span>: <span class="dv">20</span>,</span>
<span id="cb209-4"><a href="#cb209-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;a&quot;</span>: <span class="dv">30</span></span>
<span id="cb209-5"><a href="#cb209-5" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb209-6"><a href="#cb209-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb209-7"><a href="#cb209-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> k <span class="kw">in</span> d.keys():</span>
<span id="cb209-8"><a href="#cb209-8" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(k)   <span class="co"># Prints &quot;c&quot;, &quot;b&quot;, &quot;a&quot;</span></span>
<span id="cb209-9"><a href="#cb209-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb209-10"><a href="#cb209-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> v <span class="kw">in</span> d.values():</span>
<span id="cb209-11"><a href="#cb209-11" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(v)   <span class="co"># Prints 10, 20, 30</span></span></code></pre></div>
<h2 id="dictionary-comprehensions">Dictionary Comprehensions</h2>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>Remember <a href="#list-comprehensions">list comprehensions</a>? If you don’t, pop over there for a quick refresher, because this is the same thing except for dictionaries.</p>
<p>You can create a dictionary from any iterable that you can go over in a <code>for</code> loop. This is a pretty powerful way of creating a dictionary if you have the data in another, iterable, form, like a list or an input stream of something.</p>
<p>Let’s go through a list and store the list value as the key, and the list value times 10 as the value in the dictionary. And let’s ignore the number 20 in the list, just for fun.</p>
<div class="sourceCode" id="cb210"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb210-1"><a href="#cb210-1" aria-hidden="true" tabindex="-1"></a>    a <span class="op">=</span> [<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>]</span>
<span id="cb210-2"><a href="#cb210-2" aria-hidden="true" tabindex="-1"></a>    d <span class="op">=</span> { x: x<span class="op">*</span><span class="dv">10</span> <span class="cf">for</span> x <span class="kw">in</span> l <span class="cf">if</span> x <span class="op">!=</span> <span class="dv">20</span> }</span>
<span id="cb210-3"><a href="#cb210-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb210-4"><a href="#cb210-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(d)  <span class="co"># {10: 100, 30: 300}</span></span></code></pre></div>
<p>If you have a list of key/value pairs, you can read those into a dictionary pretty easily, too.</p>
<div class="sourceCode" id="cb211"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb211-1"><a href="#cb211-1" aria-hidden="true" tabindex="-1"></a>    a <span class="op">=</span> [[<span class="st">&quot;alice&quot;</span>, <span class="dv">20</span>], [<span class="st">&quot;beej&quot;</span>, <span class="dv">30</span>], [<span class="st">&quot;chris&quot;</span>, <span class="dv">40</span>]]</span>
<span id="cb211-2"><a href="#cb211-2" aria-hidden="true" tabindex="-1"></a>    d <span class="op">=</span> { k: v <span class="cf">for</span> k, v <span class="kw">in</span> a }</span>
<span id="cb211-3"><a href="#cb211-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb211-4"><a href="#cb211-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(d) <span class="co"># {&#39;alice&#39;: 20, &#39;beej&#39;: 30, &#39;chris&#39;: 40}</span></span></code></pre></div>
<h2 id="dictionaries-of-dictionaries">Dictionaries of Dictionaries</h2>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>Here’s the deal: the value that you store for a given key can be <em>anything</em>!</p>
<p>Well, not like a whale, or Mars, but any data type. So you can store strings, ints, floats, lists, or even other dictionaries as the value for the dictionary key!</p>
<p>Check out this <em>nested declaration</em>, and check out how we drill down through the dictionary layers to get to the data:</p>
<div class="sourceCode" id="cb212"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb212-1"><a href="#cb212-1" aria-hidden="true" tabindex="-1"></a>    d <span class="op">=</span> {</span>
<span id="cb212-2"><a href="#cb212-2" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;a&quot;</span>: {</span>
<span id="cb212-3"><a href="#cb212-3" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;b&quot;</span>: <span class="st">&quot;Mars! Ha!&quot;</span></span>
<span id="cb212-4"><a href="#cb212-4" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb212-5"><a href="#cb212-5" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb212-6"><a href="#cb212-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb212-7"><a href="#cb212-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(d)           <span class="co"># {&#39;a&#39;: {&#39;b&#39;: &#39;Mars! Ha!&#39;}}</span></span>
<span id="cb212-8"><a href="#cb212-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(d[<span class="st">&quot;a&quot;</span>])      <span class="co"># {&#39;b&#39;: &#39;Mars! Ha!&#39;}</span></span>
<span id="cb212-9"><a href="#cb212-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(d[<span class="st">&quot;a&quot;</span>][<span class="st">&quot;b&quot;</span>]) <span class="co"># Mars! Ha!</span></span></code></pre></div>
<p>Nesting dictionaries like this can be a really powerful method of storing data.</p>
<h2 id="dictionaries-are-mutable">Dictionaries are Mutable</h2>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>When you make an assignment copy of a dictionary, it’s copying the <em>reference</em> to the same dictionary, not making a new one. Just like with <code>lists</code> and anything else.</p>
<p>And this is important, because dictionaries are mutable, just like lists.</p>
<div class="sourceCode" id="cb213"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb213-1"><a href="#cb213-1" aria-hidden="true" tabindex="-1"></a>    d <span class="op">=</span> { <span class="st">&quot;beej&quot;</span>: <span class="dv">3490</span> }</span>
<span id="cb213-2"><a href="#cb213-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb213-3"><a href="#cb213-3" aria-hidden="true" tabindex="-1"></a>    e <span class="op">=</span> d  <span class="co"># both e and d refer to the same dict!</span></span>
<span id="cb213-4"><a href="#cb213-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb213-5"><a href="#cb213-5" aria-hidden="true" tabindex="-1"></a>    e[<span class="st">&quot;beej&quot;</span>] <span class="op">=</span> <span class="dv">3491</span>  <span class="co"># modify it</span></span>
<span id="cb213-6"><a href="#cb213-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb213-7"><a href="#cb213-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(d[<span class="st">&quot;beej&quot;</span>])  <span class="co"># 3491</span></span></code></pre></div>
<p>If you want to make a copy of a dictionary use one of the following:</p>
<div class="sourceCode" id="cb214"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb214-1"><a href="#cb214-1" aria-hidden="true" tabindex="-1"></a>    d <span class="op">=</span> { <span class="st">&quot;beej&quot;</span>: <span class="dv">3490</span> }</span>
<span id="cb214-2"><a href="#cb214-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb214-3"><a href="#cb214-3" aria-hidden="true" tabindex="-1"></a>    e <span class="op">=</span> d.copy() <span class="co"># make a copy, the preferred way</span></span>
<span id="cb214-4"><a href="#cb214-4" aria-hidden="true" tabindex="-1"></a>    e <span class="op">=</span> <span class="bu">dict</span>(d)  <span class="co"># make a copy</span></span></code></pre></div>
<p>That first way is preferred because it’s easier to read, and easy to read code is <em>Happy Code</em>™.</p>
<h2 id="the-chapter-project">The Chapter Project</h2>
<p>Pop back up top and <a href="#dicts-proj-spec">refresh on the spec</a> if you need to. Let’s break it down!</p>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>The goal of the project is to, for a given person, print out their parents’ names as well as their year of birth.</p>
<p>Pretty straightforward, but the devil’s in the details!</p>
<p>Problem solving step: <strong>Devising a Plan</strong>.</p>
<p>If we look at a sample record, we can see that a dict lends itself quite well to the data, with keys <code>born</code>, <code>mother</code>, <code>siblings</code>, etc.</p>
<pre><code>    Beej Jorgensen:
        Born: 1990 [yes, I&#39;m 29, is my story I&#39;m sticking to]
        Mother: Mom Jorgensen
        Father: Dad Jorgensen
        Siblings: [Brother Jorgensen, Sister Jorgensen, Little Sister Jorgensen]</code></pre>
<p>Not only that, but we can store all of <em>those</em> dicts in another container dict which uses the person’s name as the key!</p>
<div class="sourceCode" id="cb216"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb216-1"><a href="#cb216-1" aria-hidden="true" tabindex="-1"></a>    tree <span class="op">=</span> { <span class="co"># Outer dict holds records for all the people</span></span>
<span id="cb216-2"><a href="#cb216-2" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;Beej Jorgensen: {  # Inner dict holds details for each person</span></span>
<span id="cb216-3"><a href="#cb216-3" aria-hidden="true" tabindex="-1"></a><span class="st">            &quot;</span>born<span class="st">&quot;: 1990,</span></span>
<span id="cb216-4"><a href="#cb216-4" aria-hidden="true" tabindex="-1"></a><span class="st">            &quot;</span>mother<span class="st">&quot;: &quot;</span>Mom Jorgensen<span class="st">&quot;,</span></span>
<span id="cb216-5"><a href="#cb216-5" aria-hidden="true" tabindex="-1"></a><span class="st">            &quot;</span>father<span class="st">&quot;: &quot;</span>Dad Jorgensen<span class="st">&quot;,</span></span>
<span id="cb216-6"><a href="#cb216-6" aria-hidden="true" tabindex="-1"></a><span class="st">            &quot;</span>siblings<span class="st">&quot;: [</span></span>
<span id="cb216-7"><a href="#cb216-7" aria-hidden="true" tabindex="-1"></a><span class="st">                &quot;</span>Brother Jorgensen<span class="st">&quot;,</span></span>
<span id="cb216-8"><a href="#cb216-8" aria-hidden="true" tabindex="-1"></a><span class="st">                &quot;</span>Sister Jorgensen<span class="st">&quot;,</span></span>
<span id="cb216-9"><a href="#cb216-9" aria-hidden="true" tabindex="-1"></a><span class="st">                &quot;</span>Little Sister Jorgensen<span class="st">&quot;</span></span>
<span id="cb216-10"><a href="#cb216-10" aria-hidden="true" tabindex="-1"></a><span class="st">            ]</span></span>
<span id="cb216-11"><a href="#cb216-11" aria-hidden="true" tabindex="-1"></a><span class="st">        }</span></span>
<span id="cb216-12"><a href="#cb216-12" aria-hidden="true" tabindex="-1"></a><span class="st">    }</span></span></code></pre></div>
<p>So that looks like a reasonable approach to storing data. We can just add the other people to the dictionary at that outermost layer.</p>
<p>Not only that, but we now have part of the problem solved. If the user enters “Beej Jorgensen”, all we have to do is look that directly up in the outer dict, and then we can print out my parents’ names!</p>
<p>Of course, we’re still missing out on printing their birth years, but let’s tackle the smaller problem first, and <em>then</em> figure out how to extract that missing data.</p>
<p>We’ll come back to the “Understanding the Problem” step in a while to revisit that.</p>
<p>Problem solving step: <strong>Carrying out the Plan</strong></p>
<p>We’ll start with a simple tree of just a single person. Let’s keep it as simple as possible, and then go from there.</p>
<div class="sourceCode" id="cb217"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python"><span id="cb217-1"><a href="#cb217-1"></a>tree <span class="op">=</span> {</span>
<span id="cb217-2"><a href="#cb217-2"></a>    <span class="st">&quot;Beej Jorgensen&quot;</span>: {</span>
<span id="cb217-3"><a href="#cb217-3"></a>        <span class="st">&quot;born&quot;</span>: <span class="dv">1990</span>,</span>
<span id="cb217-4"><a href="#cb217-4"></a>        <span class="st">&quot;mother&quot;</span>: <span class="st">&quot;Mom Jorgensen&quot;</span>,</span>
<span id="cb217-5"><a href="#cb217-5"></a>        <span class="st">&quot;father&quot;</span>: <span class="st">&quot;Dad Jorgensen&quot;</span>,</span>
<span id="cb217-6"><a href="#cb217-6"></a>        <span class="st">&quot;siblings&quot;</span>: [</span>
<span id="cb217-7"><a href="#cb217-7"></a>            <span class="st">&quot;Brother Jorgensen&quot;</span>, </span>
<span id="cb217-8"><a href="#cb217-8"></a>            <span class="st">&quot;Sister Jorgensen&quot;</span>,</span>
<span id="cb217-9"><a href="#cb217-9"></a>            <span class="st">&quot;Little Sister Jorgensen&quot;</span></span>
<span id="cb217-10"><a href="#cb217-10"></a>        ]</span>
<span id="cb217-11"><a href="#cb217-11"></a>    }</span>
<span id="cb217-12"><a href="#cb217-12"></a>}</span>
<span id="cb217-13"><a href="#cb217-13"></a> </span></code></pre></div>
<p>And now let’s add some code to get the person’s name, or quit if they enter “<code>q</code>”:</p>
<div class="sourceCode" id="cb218" data-startFrom="14"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python" style="counter-reset: source-line 13;"><span id="cb218-14"><a href="#cb218-14"></a>done <span class="op">=</span> <span class="va">False</span></span>
<span id="cb218-15"><a href="#cb218-15"></a></span>
<span id="cb218-16"><a href="#cb218-16"></a><span class="cf">while</span> <span class="kw">not</span> done:</span>
<span id="cb218-17"><a href="#cb218-17"></a>    name <span class="op">=</span> <span class="bu">input</span>(<span class="st">&quot;Enter a name (or q to quit): &quot;</span>)</span>
<span id="cb218-18"><a href="#cb218-18"></a></span>
<span id="cb218-19"><a href="#cb218-19"></a>    <span class="cf">if</span> name <span class="op">==</span> <span class="st">&quot;q&quot;</span>:</span>
<span id="cb218-20"><a href="#cb218-20"></a>        done <span class="op">=</span> <span class="va">True</span></span>
<span id="cb218-21"><a href="#cb218-21"></a>        <span class="cf">continue</span>  <span class="co"># Jump back to the top of the loop</span></span>
<span id="cb218-22"><a href="#cb218-22"></a> </span></code></pre></div>
<p>And, finally, let’s print out the person’s name and their parents’ names:</p>
<div class="sourceCode" id="cb219" data-startFrom="23"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python" style="counter-reset: source-line 22;"><span id="cb219-23"><a href="#cb219-23"></a>    record <span class="op">=</span> tree[name]  <span class="co"># Look up the record in the outer dict</span></span>
<span id="cb219-24"><a href="#cb219-24"></a></span>
<span id="cb219-25"><a href="#cb219-25"></a>    mother_name <span class="op">=</span> record[<span class="st">&quot;mother&quot;</span>]  <span class="co"># Extract parent names from inner dict</span></span>
<span id="cb219-26"><a href="#cb219-26"></a>    father_name <span class="op">=</span> record[<span class="st">&quot;father&quot;</span>]</span>
<span id="cb219-27"><a href="#cb219-27"></a></span>
<span id="cb219-28"><a href="#cb219-28"></a>    <span class="bu">print</span>(<span class="st">&quot;Parents:&quot;</span>)</span>
<span id="cb219-29"><a href="#cb219-29"></a>    <span class="bu">print</span>(<span class="ss">f&#39;    </span><span class="sc">{</span>mother_name<span class="sc">}</span><span class="ss">&#39;</span>)</span>
<span id="cb219-30"><a href="#cb219-30"></a>    <span class="bu">print</span>(<span class="ss">f&#39;    </span><span class="sc">{</span>father_name<span class="sc">}</span><span class="ss">&#39;</span>)</span></code></pre></div>
<p>Giving this a run, we get some good output!</p>
<pre><code>    $ python3 familytree.py
    Enter a name (or q to quit): Beej Jorgensen
    Parents:
        Mom Jorgensen
        Dad Jorgensen
    Enter a name (or q to quit): q</code></pre>
<p>We’re still missing the parents’ birth years, but, like I said, we’ll tackle that later.</p>
<p>What happens if we run it with an unknown name? Remember that when you’re testing your code, you should think like a villian and enter the most unexpected things you can.</p>
<p>Let’s try it with someone it doesn’t know.</p>
<pre><code>    $ python3 familytree.py
    Enter a name (or q to quit): Arch Stanton
    Traceback (most recent call last):
      File &quot;familytree.py&quot;, line 23, in &lt;module&gt;
        record = tree[name]  # Look up the record in the outer dict
    KeyError: &#39;Arch Stanton&#39;</code></pre>
<p>Well, that’s ugly. It would be much nicer to print out some kind of error message.</p>
<p>What does the spec say we should do?</p>
<p>…nothing! It says nothing about this case! That’s not useful! The spec is missing information!</p>
<p>True, it is.</p>
<p>Turns out, this is a really common thing when programming. Your boss asks you to implement a thing, but doesn’t fully define what that thing is. It’s not that your boss is bad at this; it’s just that writing down the exact spec and not leaving anything out is <em>hard</em>.</p>
<p>I promise you that if I asked you to write out the rules to Tic-Tac-Toe<a href="#fn91" class="footnote-ref" id="fnref91" role="doc-noteref"><sup>91</sup></a>, I’d find something you left out. (“You never said my ‘X’ could only take up one grid square!”)</p>
<p>The right thing to do at this point is go back to the creator of the specification and ask exactly what should happen in this case.</p>
<p>Problem solving step: <strong>Understanding the Problem</strong> (again)</p>
<p>“Hey, specification writer! What do we do if the person doesn’t exist in the data?”</p>
<p>Answer: print out an error message like this:</p>
<pre><code>    No record for &quot;Arch Stanton&quot;</code></pre>
<p>All right!</p>
<p>Problem solving step: <strong>Devising a Plan</strong> (again)</p>
<p>We’re using this code to get a person’s record:</p>
<div class="sourceCode" id="cb223"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb223-1"><a href="#cb223-1" aria-hidden="true" tabindex="-1"></a>    record <span class="op">=</span> tree[name]  <span class="co"># Look up the record in the outer dict</span></span></code></pre></div>
<p>but as we see, that throws an exception if <code>name</code> isn’t a valid key in the dict.</p>
<p>How can we handle that? There are a couple ways. One of them involves <em>catching</em> the exception, but we’ll talk more about that in a later chapter.</p>
<p>Something we can do that we discussed earlier in this chapter is to use the <code>.get()</code> method on the dict. This will return the record, or <code>None</code> if the key doesn’t exist in the dict. Then we can test for that and print out some error messages.</p>
<p>Problem solving step: <strong>Carrying out the Plan</strong> (again)</p>
<div class="sourceCode" id="cb224" data-startFrom="23"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python" style="counter-reset: source-line 22;"><span id="cb224-23"><a href="#cb224-23"></a>    record <span class="op">=</span> tree.get(name)  <span class="co"># Look up the record in the outer dict</span></span>
<span id="cb224-24"><a href="#cb224-24"></a></span>
<span id="cb224-25"><a href="#cb224-25"></a>    <span class="cf">if</span> record <span class="kw">is</span> <span class="va">None</span>:  <span class="co"># Use &quot;is&quot; when comparing against &quot;None&quot;</span></span>
<span id="cb224-26"><a href="#cb224-26"></a>        <span class="bu">print</span>(<span class="ss">f&#39;No record for &quot;</span><span class="sc">{</span>name<span class="sc">}</span><span class="ss">&quot;&#39;</span>)</span>
<span id="cb224-27"><a href="#cb224-27"></a>        <span class="cf">continue</span></span>
<span id="cb224-28"><a href="#cb224-28"></a></span>
<span id="cb224-29"><a href="#cb224-29"></a>    mother_name <span class="op">=</span> record[<span class="st">&quot;mother&quot;</span>]  <span class="co"># Extract parent names from inner dict</span></span>
<span id="cb224-30"><a href="#cb224-30"></a>    father_name <span class="op">=</span> record[<span class="st">&quot;father&quot;</span>]</span>
<span id="cb224-31"><a href="#cb224-31"></a></span>
<span id="cb224-32"><a href="#cb224-32"></a>    <span class="bu">print</span>(<span class="st">&quot;Parents:&quot;</span>)</span>
<span id="cb224-33"><a href="#cb224-33"></a>    <span class="bu">print</span>(<span class="ss">f&#39;    </span><span class="sc">{</span>mother_name<span class="sc">}</span><span class="ss">&#39;</span>)</span>
<span id="cb224-34"><a href="#cb224-34"></a>    <span class="bu">print</span>(<span class="ss">f&#39;    </span><span class="sc">{</span>father_name<span class="sc">}</span><span class="ss">&#39;</span>)</span></code></pre></div>
<p>Now we’re getting pretty close. But we still are missing one big piece: the birth years of the parents.</p>
<p>Getting their names was cake: it was right there in the record for the person we’re looking up. But their birth years aren’t in there.</p>
<p>How do we get them?</p>
<p>Problem solving step: <strong>Devising a Plan</strong> (again)</p>
<p>We have the names for the parents. That’s it.</p>
<p>How do we go from a name to a birth year?</p>
<p>Looks like “Beej Jorgensen” has a birth year listed in his record…</p>
<p>We should add records for “Mom Jorgensen” and “Dad Jorgensen” and then they can have their own birth years.</p>
<p>But the question still remains: how can we go from the user-entered “Beej Jorgensen” to the birth years for his parents?</p>
<p>What we’re doing here is trying to tie one piece of data (“Beej Jorgensen”) to other pieces of data (1965 and 1970, his parents’ birth years.)</p>
<p>This is <em>super</em> common in programming. “How do I get from x to y?” We need to find the path.</p>
<p>So let’s see… we have Beej Jorgensen there, with his parents’ names listed.</p>
<p>That’s a start. But given his parents’ names, how do you get his parents’ birthdays?</p>
<p>Yes! You just take their names and look them up in the dictionary!</p>
<p>Except we haven’t added them yet. Let’s do that now. (Note that program line numbers, below, are reset at this point.)</p>
<div class="sourceCode" id="cb225"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python"><span id="cb225-1"><a href="#cb225-1"></a>tree <span class="op">=</span> {</span>
<span id="cb225-2"><a href="#cb225-2"></a>    <span class="st">&quot;Beej Jorgensen&quot;</span>: {</span>
<span id="cb225-3"><a href="#cb225-3"></a>        <span class="st">&quot;born&quot;</span>: <span class="dv">1990</span>,</span>
<span id="cb225-4"><a href="#cb225-4"></a>        <span class="st">&quot;mother&quot;</span>: <span class="st">&quot;Mom Jorgensen&quot;</span>,</span>
<span id="cb225-5"><a href="#cb225-5"></a>        <span class="st">&quot;father&quot;</span>: <span class="st">&quot;Dad Jorgensen&quot;</span>,</span>
<span id="cb225-6"><a href="#cb225-6"></a>        <span class="st">&quot;siblings&quot;</span>: [</span>
<span id="cb225-7"><a href="#cb225-7"></a>            <span class="st">&quot;Brother Jorgensen&quot;</span>, </span>
<span id="cb225-8"><a href="#cb225-8"></a>            <span class="st">&quot;Sister Jorgensen&quot;</span>,</span>
<span id="cb225-9"><a href="#cb225-9"></a>            <span class="st">&quot;Little Sister Jorgensen&quot;</span></span>
<span id="cb225-10"><a href="#cb225-10"></a>        ]</span>
<span id="cb225-11"><a href="#cb225-11"></a>    },</span>
<span id="cb225-12"><a href="#cb225-12"></a>    <span class="st">&quot;Mom Jorgensen&quot;</span>: {</span>
<span id="cb225-13"><a href="#cb225-13"></a>        <span class="st">&quot;born&quot;</span>: <span class="dv">1970</span>,</span>
<span id="cb225-14"><a href="#cb225-14"></a>        <span class="st">&quot;mother&quot;</span>: <span class="st">&quot;Grandma Jorgensen&quot;</span>,</span>
<span id="cb225-15"><a href="#cb225-15"></a>        <span class="st">&quot;father&quot;</span>: <span class="st">&quot;Grandpa Jorgensen&quot;</span>,</span>
<span id="cb225-16"><a href="#cb225-16"></a>        <span class="st">&quot;siblings&quot;</span>: [<span class="st">&quot;Auntie Jorgensen&quot;</span>]</span>
<span id="cb225-17"><a href="#cb225-17"></a>    },</span>
<span id="cb225-18"><a href="#cb225-18"></a>    <span class="st">&quot;Dad Jorgensen&quot;</span>: {</span>
<span id="cb225-19"><a href="#cb225-19"></a>        <span class="st">&quot;born&quot;</span>: <span class="dv">1965</span>,</span>
<span id="cb225-20"><a href="#cb225-20"></a>        <span class="st">&quot;mother&quot;</span>: <span class="st">&quot;Granny Jorgensen&quot;</span>,</span>
<span id="cb225-21"><a href="#cb225-21"></a>        <span class="st">&quot;father&quot;</span>: <span class="st">&quot;Grandad Jorgensen&quot;</span>,</span>
<span id="cb225-22"><a href="#cb225-22"></a>        <span class="st">&quot;siblings&quot;</span>: [<span class="st">&quot;Uncle Jorgensen&quot;</span>]</span>
<span id="cb225-23"><a href="#cb225-23"></a>    }</span>
<span id="cb225-24"><a href="#cb225-24"></a>}</span>
<span id="cb225-25"><a href="#cb225-25"></a> </span></code></pre></div>
<p>And then the main loop logic (unchanged from before):</p>
<div class="sourceCode" id="cb226" data-startFrom="26"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python" style="counter-reset: source-line 25;"><span id="cb226-26"><a href="#cb226-26"></a>done <span class="op">=</span> <span class="va">False</span></span>
<span id="cb226-27"><a href="#cb226-27"></a></span>
<span id="cb226-28"><a href="#cb226-28"></a><span class="cf">while</span> <span class="kw">not</span> done:</span>
<span id="cb226-29"><a href="#cb226-29"></a>    name <span class="op">=</span> <span class="bu">input</span>(<span class="st">&quot;Enter a name (or q to quit): &quot;</span>)</span>
<span id="cb226-30"><a href="#cb226-30"></a></span>
<span id="cb226-31"><a href="#cb226-31"></a>    <span class="cf">if</span> name <span class="op">==</span> <span class="st">&quot;q&quot;</span>:</span>
<span id="cb226-32"><a href="#cb226-32"></a>        done <span class="op">=</span> <span class="va">True</span></span>
<span id="cb226-33"><a href="#cb226-33"></a>        <span class="cf">continue</span>  <span class="co"># Jump back to the top of the loop</span></span>
<span id="cb226-34"><a href="#cb226-34"></a> </span>
<span id="cb226-35"><a href="#cb226-35"></a>    record <span class="op">=</span> tree.get(name)  <span class="co"># Look up the record in the outer dict</span></span>
<span id="cb226-36"><a href="#cb226-36"></a></span>
<span id="cb226-37"><a href="#cb226-37"></a>    <span class="cf">if</span> record <span class="kw">is</span> <span class="va">None</span>:  <span class="co"># Use &quot;is&quot; when comparing against &quot;None&quot;</span></span>
<span id="cb226-38"><a href="#cb226-38"></a>        <span class="bu">print</span>(<span class="ss">f&#39;No record for &quot;</span><span class="sc">{</span>name<span class="sc">}</span><span class="ss">&quot;&#39;</span>)</span>
<span id="cb226-39"><a href="#cb226-39"></a>        <span class="cf">continue</span></span>
<span id="cb226-40"><a href="#cb226-40"></a></span>
<span id="cb226-41"><a href="#cb226-41"></a>    mother_name <span class="op">=</span> record[<span class="st">&quot;mother&quot;</span>]  <span class="co"># Extract parent names from inner dict</span></span>
<span id="cb226-42"><a href="#cb226-42"></a>    father_name <span class="op">=</span> record[<span class="st">&quot;father&quot;</span>]</span>
<span id="cb226-43"><a href="#cb226-43"></a> </span></code></pre></div>
<p>Except now, when we print out the parents, we have to look up the mother’s and father’s record.</p>
<div class="sourceCode" id="cb227" data-startFrom="44"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python" style="counter-reset: source-line 43;"><span id="cb227-44"><a href="#cb227-44"></a>    <span class="co"># Get the parent records</span></span>
<span id="cb227-45"><a href="#cb227-45"></a>    mother_record <span class="op">=</span> tree.get(mother_name)</span>
<span id="cb227-46"><a href="#cb227-46"></a>    father_record <span class="op">=</span> tree.get(father_name)</span>
<span id="cb227-47"><a href="#cb227-47"></a></span>
<span id="cb227-48"><a href="#cb227-48"></a>    <span class="co"># Get the birth year of the mother; note if missing</span></span>
<span id="cb227-49"><a href="#cb227-49"></a>    <span class="cf">if</span> mother_record <span class="kw">is</span> <span class="kw">not</span> <span class="va">None</span>:</span>
<span id="cb227-50"><a href="#cb227-50"></a>        mother_born_date <span class="op">=</span> mother_record[<span class="st">&quot;born&quot;</span>]</span>
<span id="cb227-51"><a href="#cb227-51"></a>    <span class="cf">else</span>:</span>
<span id="cb227-52"><a href="#cb227-52"></a>        mother_born_date <span class="op">=</span> <span class="st">&quot;missing record&quot;</span></span>
<span id="cb227-53"><a href="#cb227-53"></a></span>
<span id="cb227-54"><a href="#cb227-54"></a>    <span class="co"># Get the birth year of the father; note if missing</span></span>
<span id="cb227-55"><a href="#cb227-55"></a>    <span class="cf">if</span> father_record <span class="kw">is</span> <span class="kw">not</span> <span class="va">None</span>:</span>
<span id="cb227-56"><a href="#cb227-56"></a>        father_born_date <span class="op">=</span> father_record[<span class="st">&quot;born&quot;</span>]</span>
<span id="cb227-57"><a href="#cb227-57"></a>    <span class="cf">else</span>:</span>
<span id="cb227-58"><a href="#cb227-58"></a>        father_born_date <span class="op">=</span> <span class="st">&quot;missing record&quot;</span></span>
<span id="cb227-59"><a href="#cb227-59"></a></span>
<span id="cb227-60"><a href="#cb227-60"></a>    <span class="bu">print</span>(<span class="st">&quot;Parents:&quot;</span>)</span>
<span id="cb227-61"><a href="#cb227-61"></a>    <span class="bu">print</span>(<span class="ss">f&#39;    </span><span class="sc">{</span>mother_name<span class="sc">}</span><span class="ss"> (</span><span class="sc">{</span>mother_born_date<span class="sc">}</span><span class="ss">)&#39;</span>)</span>
<span id="cb227-62"><a href="#cb227-62"></a>    <span class="bu">print</span>(<span class="ss">f&#39;    </span><span class="sc">{</span>father_name<span class="sc">}</span><span class="ss"> (</span><span class="sc">{</span>father_born_date<span class="sc">}</span><span class="ss">)&#39;</span>)</span></code></pre></div>
<p>That’s it!</p>
<p>Problem-solving step: <strong>Looking Back</strong></p>
<p>What could we do better? What are the shortcomings of this app?</p>
<p>Look at the dictionary structure we used to store the data. How could that be better? Think of all the cases that exist in family trees. Sure, we covered the common case, but what about kids who were adopted? How do we model that? Divorces? Second marriages? It turns out that modelling a family tree is far more complex that you might originally anticipate.</p>
<p>What if two people have the same name? In a real family tree, it’s entirely likely there could be multiple Tom Jones<a href="#fn92" class="footnote-ref" id="fnref92" role="doc-noteref"><sup>92</sup></a> in the family tree. But since we’re using the name as the key in the dict, and keys have to be unique, we’re in trouble. Ergo, the name can’t be the key—something unique must be.</p>
<p>One option there is to use a <a href="https://en.wikipedia.org/wiki/Universally_unique_identifier">UUID</a><a href="#fn93" class="footnote-ref" id="fnref93" role="doc-noteref"><sup>93</sup></a> as the key, and map that UUID to names somehow. Maybe you have <em>another</em> dict that, for a given name, stores a list of UUIDs that represent people who have that name. Then we could ask the user, “Did you mean the Beej Jorgensen who was born in 1971, 1982, 1997, or 2003?” if there were multiple Beej Jorgensens. (You can create a random UUID by importing the <code>uuid</code> package and running <code>uuid.uuid4()</code>.)</p>
<p>Lots of options for improvement, here!</p>
<p>(<a href="https://beej.us/guide/bgpython/examples/familytree.py">Solution</a><a href="#fn94" class="footnote-ref" id="fnref94" role="doc-noteref"><sup>94</sup></a>.)</p>
<h2 id="exercises-5">Exercises</h2>
<p><strong>Remember: to get your value out of this book, you have to do these exercises.</strong> After 20 minutes of being stuck on a problem, you’re allowed to look at the solution.</p>
<p>Use any knowledge you have to solve these, not only what you learned in this chapter.</p>
<p><strong>Always</strong> use the <a href="#problem-solving">four problem-solving steps</a> to solve these problems: understand the problem, devise a plan, carry it out, look back to see what you could have done better.</p>
<ol type="1">
<li><p>For the following dictionary, print out all the keys of the dictionary:</p>
<div class="sourceCode" id="cb228"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb228-1"><a href="#cb228-1" aria-hidden="true" tabindex="-1"></a>    d <span class="op">=</span> {</span>
<span id="cb228-2"><a href="#cb228-2" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;key1&quot;</span>: <span class="st">&quot;value1&quot;</span>,</span>
<span id="cb228-3"><a href="#cb228-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;key2&quot;</span>: <span class="st">&quot;value1&quot;</span>,</span>
<span id="cb228-4"><a href="#cb228-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;key3&quot;</span>: <span class="st">&quot;value1&quot;</span>,</span>
<span id="cb228-5"><a href="#cb228-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;key4&quot;</span>: <span class="st">&quot;value1&quot;</span>,</span>
<span id="cb228-6"><a href="#cb228-6" aria-hidden="true" tabindex="-1"></a>    }</span></code></pre></div>
<p>(<a href="https://beej.us/guide/bgpython/examples/ex_printkeys.py">Solution</a><a href="#fn95" class="footnote-ref" id="fnref95" role="doc-noteref"><sup>95</sup></a>.)</p></li>
<li><p>For the dictionary in problem 1, print out all the keys and values.</p>
<p>(<a href="https://beej.us/guide/bgpython/examples/ex_printkeysvals.py">Solution</a><a href="#fn96" class="footnote-ref" id="fnref96" role="doc-noteref"><sup>96</sup></a>.)</p></li>
<li><p>Given a list of names, write code that converts that list of names into a dictionary that groups names by their first letter. In the dict, the key should be the first letter of the names, and the value should be a list of names that start with that letter.</p>
<p>For example, the list:</p>
<div class="sourceCode" id="cb229"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb229-1"><a href="#cb229-1" aria-hidden="true" tabindex="-1"></a>    [<span class="st">&quot;Chris&quot;</span>, <span class="st">&quot;Annie&quot;</span>, <span class="st">&quot;Beej&quot;</span>, <span class="st">&quot;Aaron&quot;</span>, <span class="st">&quot;Charlie&quot;</span>]</span></code></pre></div>
<p>should build into the dictionary (key order doesn’t matter):</p>
<div class="sourceCode" id="cb230"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb230-1"><a href="#cb230-1" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb230-2"><a href="#cb230-2" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;C&quot;</span>: [<span class="st">&quot;Chris&quot;</span>, <span class="st">&quot;Charlie&quot;</span>],</span>
<span id="cb230-3"><a href="#cb230-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;A&quot;</span>: [<span class="st">&quot;Annie&quot;</span>, <span class="st">&quot;Aaron&quot;</span>],</span>
<span id="cb230-4"><a href="#cb230-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;B&quot;</span>: [<span class="st">&quot;Beej&quot;</span>]</span>
<span id="cb230-5"><a href="#cb230-5" aria-hidden="true" tabindex="-1"></a>    }</span></code></pre></div>
<p>I don’t want you to manually convert the list to a dictionary; I want you to write code that does it for <em>any</em> list of names.</p>
<p>After you construct the dictionary, print out the keys and values in any order.</p>
<p>(<a href="https://beej.us/guide/bgpython/examples/ex_list2dict.py">Solution</a><a href="#fn97" class="footnote-ref" id="fnref97" role="doc-noteref"><sup>97</sup></a>.)</p></li>
<li><p>Change step 5 to print out the keys in sorted order. And the lists in sorted order after that.</p>
<p>(<a href="https://beej.us/guide/bgpython/examples/ex_list2dictsort.py">Solution</a><a href="#fn98" class="footnote-ref" id="fnref98" role="doc-noteref"><sup>98</sup></a>.)</p></li>
</ol>
<h2 id="summary-7">Summary</h2>
<p>That was a heckuva chapter, wasn’t it?</p>
<p>When we learned about lists, we learned that you could index data by number. But now with dicts, we can index data by any constant data type at all, including numbers and strings.</p>
<p>This gives us more flexibility in how we store data and how we look it up.</p>
<p>We learned about accessing and setting elements in a dictionary, how to determine if a key is in a dictionary, and how to iterate over dictionaries with <code>for</code>.</p>
<p>Not only that, but dicts have a bunch of built-in functionality you can reference to manipulate and access the data stored within in them.</p>
<p>Finally, we saw that since dictionary values can be any type of data, you can have dictionaries of dictionaries, even! The only limit is your imagination.</p>
<p>What other kinds of data can you store in dictionaries?</p>
<!--
vim: ts=4:sw=4:nosi:et:tw=72:spell:nojs
-->
<h1 id="functions">Functions</h1>
<h2 id="objective-5">Objective</h2>
<ul>
<li>Understand what functions are and how they’re useful</li>
<li>Be able to use built-in functions</li>
<li>Understand what function arguments are</li>
<li>Be able to write your own functions</li>
<li>Be able to write good functions</li>
<li>Understand the difference between positional arguments and keyword arguments</li>
</ul>
<h2 id="func-proj-spec">Chapter Project Specification</h2>
<p>Allow the user to enter the locations of several starships in 3D space.</p>
<p>These should be entered as <em>x</em>,<em>y</em>,<em>z</em> triplets when prompted. When the user enters “done”, stop entering ship locations.</p>
<pre><code>    Enter ship location x,y,z (or &quot;done&quot;): 10,20,30
    Enter ship location x,y,z (or &quot;done&quot;): -17,16,50
    Enter ship location x,y,z (or &quot;done&quot;): 0,13,30
    Enter ship location x,y,z (or &quot;done&quot;): 5,20,-40
    Enter ship location x,y,z (or &quot;done&quot;): done</code></pre>
<p>Then print out a grid of the distances between them. The grid’s top row and left column should indicate the ship number (starting with 0).</p>
<p>Crossing a column with a row should give you the distance between the ships.</p>
<p>Distances should be printed to 2 decimal places in fields of width 8.</p>
<p>We’ll use a variant of the <a href="https://en.wikipedia.org/wiki/Pythagorean_theorem#Euclidean_distance">Pythagorean Theorem</a><a href="#fn99" class="footnote-ref" id="fnref99" role="doc-noteref"><sup>99</sup></a> to find the distance between two 3D points.</p>
<p><span class="math inline">\(d=\sqrt{(x_0-x_1)^2+(y_0-y_1)^2+(z_0-z_1)^2}\)</span></p>
<p>For each pair of 3D points, we take the difference in the X coordinates squared, plus the difference in the Y coordinates squared plus the difference in the Z coordinates squared, and then we take the square root of that whole thing. And that’s the distance between the two points.</p>
<p>Example output (corresponding to the example input, above):</p>
<pre><code>                   0       1       2       3
           0    0.00   33.84   12.21   70.18
           1   33.84    0.00   26.42   92.74
           2   12.21   26.42    0.00   70.53
           3   70.18   92.74   70.53    0.00</code></pre>
<p>So we can see ship #2 (along the top) is distance 26.42 from ship #1 (along the left). And notice the diagonal is all <code>0.00</code>, which makes sense because every ship is zero distance from itself.</p>
<p>Keep this project in mind as we go through the chapter.</p>
<h2 id="what-are-functions">What Are Functions?</h2>
<p>You’re about to seriously level up in programming by learning how to do this, and it’s not even that difficult. Functions are the key to getting away from the toy programs we’ve been doing so far and doing <em>real</em> programs.</p>
<p>So what are they?</p>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>Functions are self-contained pieces of code that you can <em>call</em> that do a specific thing.</p>
<p>Does this sound at all familiar? Because we’ve been doing this the whole time with the built-in <code>print()</code> function.</p>
<blockquote>
<p>Not to be confused with <em>statements</em> like <code>for</code> and <code>if</code>. Know a function because it has parenthesis right after the name that you can use to pass <em>arguments</em> to the function<a href="#fn100" class="footnote-ref" id="fnref100" role="doc-noteref"><sup>100</sup></a>.</p>
</blockquote>
<p>The <code>print()</code> function has built-in functionality to print things on the screen. Thankfully (really, really) we don’t have to write that code ourselves. We can just say:</p>
<div class="sourceCode" id="cb233"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb233-1"><a href="#cb233-1" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="dv">23</span> <span class="op">+</span> <span class="dv">34</span>)</span></code></pre></div>
<p>and have <code>print()</code> do all the dirty work of getting us the answer printed to the screen.</p>
<p>We’ve also used the <code>input()</code> function to get a string entered from the keyboard.</p>
<div class="sourceCode" id="cb234"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb234-1"><a href="#cb234-1" aria-hidden="true" tabindex="-1"></a>    name <span class="op">=</span> <span class="bu">input</span>(<span class="st">&quot;Enter your name: &quot;</span>)</span></code></pre></div>
<p>This turns out to be a great way to simplify and organize code. Can you imagine if you had to put all the code in to print out something on the screen every time you wanted to print something? Much easier to <em>define</em> the <code>print()</code> function once, and then use it over and over again by calling it.</p>
<p>We have an important principle in computer programming called the <a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself">DRY principle</a><a href="#fn101" class="footnote-ref" id="fnref101" role="doc-noteref"><sup>101</sup></a> (<em>Don’t Repeat Yourself</em>). If you can remove as much repetitive code as you can and move it to a function, that makes your code easier to read and maintain. DRY code is happy code.</p>
<p>Not only can we use functions to make DRY code, we can also use them to organize our code into logical sections, even if a function is called only one time.</p>
<p>It is clearer to have your functionality in discrete sections that you call in sequence rather than just having a single huge block of code that does everything</p>
<h2 id="using-built-in-functions">Using Built-In Functions</h2>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>Python has a <em>lot</em> of built-in functions that you can use. It’s not necessary to memorize the usage in detail (you can always look up the details), but it’s a good idea to skim their descriptions just so you can recall that they exist.</p>
<p>We’ve already used <code>print()</code> and <code>input()</code> quite a bit, but there are plenty more. <a href="https://docs.python.org/3/library/functions.html">Look them up online</a><a href="#fn102" class="footnote-ref" id="fnref102" role="doc-noteref"><sup>102</sup></a>.</p>
<p>Here are some common ones, though this is not an exhaustive list:</p>
<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th>Built-in Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>abs()</code></td>
<td>Return the absolute value of a number.</td>
</tr>
<tr class="even">
<td><code>bin()</code></td>
<td>Return a string representing the number in binary.</td>
</tr>
<tr class="odd">
<td><code>chr()</code></td>
<td>Return a character for the Unicode (and ASCII) value passed in.</td>
</tr>
<tr class="even">
<td><code>dir()</code></td>
<td>Return a list of methods on this object.</td>
</tr>
<tr class="odd">
<td><code>enumerate()</code></td>
<td>Return an iterator over a list of (index, value) pairs.</td>
</tr>
<tr class="even">
<td><code>filter()</code></td>
<td>Repeatedly run a function on items of a list filtering some out.</td>
</tr>
<tr class="odd">
<td><code>float()</code></td>
<td>Convert a number or string to a floating point value.</td>
</tr>
<tr class="even">
<td><code>help()</code></td>
<td>Get help on a data type.</td>
</tr>
<tr class="odd">
<td><code>hex()</code></td>
<td>Return the hexadecimal representation of a number.</td>
</tr>
<tr class="even">
<td><code>input()</code></td>
<td>Get input from the keyboard and return that string.</td>
</tr>
<tr class="odd">
<td><code>int()</code></td>
<td>Convert a floating point or string to an integer value.</td>
</tr>
<tr class="even">
<td><code>isinstance()</code></td>
<td>Return true if an object is an instance of a class.</td>
</tr>
<tr class="odd">
<td><code>len()</code></td>
<td>Return the length of an iterable, like a list or string.</td>
</tr>
<tr class="even">
<td><code>map()</code></td>
<td>Run a function on every value in an iterable, returning the results.</td>
</tr>
<tr class="odd">
<td><code>max()</code></td>
<td>Return the maximum of the arguments or of an iterable.</td>
</tr>
<tr class="even">
<td><code>min()</code></td>
<td>Return the minimum of the arguments or of an iterable.</td>
</tr>
<tr class="odd">
<td><code>ord()</code></td>
<td>Return the Unicode value (code point) for a given character.</td>
</tr>
<tr class="even">
<td><code>pow()</code></td>
<td>Return a base value raised to an exponent.</td>
</tr>
<tr class="odd">
<td><code>print()</code></td>
<td>Print to the console.</td>
</tr>
<tr class="even">
<td><code>range()</code></td>
<td>Return an iterator that runs over a range of values.</td>
</tr>
<tr class="odd">
<td><code>reversed()</code></td>
<td>Return an iterator over a reversed version of the argument.</td>
</tr>
<tr class="even">
<td><code>round()</code></td>
<td>Round a number to the nearest whole number.</td>
</tr>
<tr class="odd">
<td><code>sorted()</code></td>
<td>Return a sorted version of an iterable.</td>
</tr>
<tr class="even">
<td><code>str()</code></td>
<td>Convert a value to a string.</td>
</tr>
<tr class="odd">
<td><code>sum()</code></td>
<td>Return the sum of all arguments and/or of an iterable.</td>
</tr>
<tr class="even">
<td><code>super()</code></td>
<td>Get access to an object’s superclass.</td>
</tr>
<tr class="odd">
<td><code>zip()</code></td>
<td>Merge parallel lists into a dictionary.</td>
</tr>
</tbody>
</table>
<p>These are all available for use at any time in your program.</p>
<h2 id="arguments">Arguments</h2>
<blockquote>
<p>“Oh look, this isn’t an argument.”</p>
<p>“Yes it is.”</p>
<p>“No it isn’t. It’s just contradiction.”</p>
<p>“No it isn’t.”</p>
<p>—<em>Excerpt from Monty Python’s Argument Clinic sketch</em></p>
</blockquote>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>When you call a function, the things you put in the parentheses are called the <em>arguments</em> to the function. Arguments are separated by commas.</p>
<div class="sourceCode" id="cb235"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb235-1"><a href="#cb235-1" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="dv">2</span>)        <span class="co"># 1 argument</span></span>
<span id="cb235-2"><a href="#cb235-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="dv">2</span>, <span class="dv">3</span>)     <span class="co"># 2 arguments</span></span>
<span id="cb235-3"><a href="#cb235-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)  <span class="co"># 3 arguments</span></span>
<span id="cb235-4"><a href="#cb235-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>()         <span class="co"># 0 arguments</span></span></code></pre></div>
<p>The arguments are the way you can pass data <em>into</em> a function to have it operate on that data to produce a result.</p>
<p>We refer to them by number, as well. “Pass the number of goats in as the second argument to the function.”</p>
<p>Functions often take a specific number of arguments. But, like we see above with <code>print()</code>, they can take variable numbers of arguments, too.</p>
<h2 id="writing-your-own-functions">Writing Your Own Functions</h2>
<blockquote>
<p>“What do you like most about hacking?”</p>
<p>“The power.”</p>
<p>—<em>A good friend of mine trolling a reporter at <a href="https://www.defcon.org/html/defcon-2/defcon-2.html">DEFCON 2</a><a href="#fn103" class="footnote-ref" id="fnref103" role="doc-noteref"><sup>103</sup></a></em></p>
</blockquote>
<p>The power. This is where we fly. Writing your own functions. This is where we get to DRY our code, organize it better, and make it more readable overall.</p>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>All programmers use their own functions heavily, and to great effect.</p>
<p>Let’s say we want to write a program that adds 13 to a number, and then divides the resultant sum by 7.</p>
<p>No problem. We got this. Let’s do it with 30.</p>
<div class="sourceCode" id="cb236"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb236-1"><a href="#cb236-1" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>((<span class="dv">30</span> <span class="op">+</span> <span class="dv">13</span>) <span class="op">/</span> <span class="dv">7</span>)</span></code></pre></div>
<p>Great! Oh, and we also need it for 8, 19, 21, 37, 402, 516, 1024, and 3490.</p>
<p>OK. Still no problem.</p>
<div class="sourceCode" id="cb237"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb237-1"><a href="#cb237-1" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>((<span class="dv">30</span> <span class="op">+</span> <span class="dv">13</span>) <span class="op">/</span> <span class="dv">7</span>)</span>
<span id="cb237-2"><a href="#cb237-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>((<span class="dv">8</span> <span class="op">+</span> <span class="dv">13</span>) <span class="op">/</span> <span class="dv">7</span>)</span>
<span id="cb237-3"><a href="#cb237-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>((<span class="dv">19</span> <span class="op">+</span> <span class="dv">13</span>) <span class="op">/</span> <span class="dv">7</span>)</span>
<span id="cb237-4"><a href="#cb237-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>((<span class="dv">21</span> <span class="op">+</span> <span class="dv">13</span>) <span class="op">/</span> <span class="dv">7</span>)</span>
<span id="cb237-5"><a href="#cb237-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>((<span class="dv">37</span> <span class="op">+</span> <span class="dv">13</span>) <span class="op">/</span> <span class="dv">7</span>)</span>
<span id="cb237-6"><a href="#cb237-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>((<span class="dv">402</span> <span class="op">+</span> <span class="dv">13</span>) <span class="op">/</span> <span class="dv">7</span>)</span>
<span id="cb237-7"><a href="#cb237-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>((<span class="dv">516</span> <span class="op">+</span> <span class="dv">13</span>) <span class="op">/</span> <span class="dv">7</span>)</span>
<span id="cb237-8"><a href="#cb237-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>((<span class="dv">1024</span> <span class="op">+</span> <span class="dv">13</span>) <span class="op">/</span> <span class="dv">7</span>)</span>
<span id="cb237-9"><a href="#cb237-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>((<span class="dv">3490</span> <span class="op">+</span> <span class="dv">13</span>) <span class="op">/</span> <span class="dv">7</span>)</span></code></pre></div>
<p>Great! Oh, did I say “divide by 7”? I’m sorry, that should be “multiply by 7”.</p>
<p>And here we get a taste of why DRY code is good code. Since the spec changed<a href="#fn104" class="footnote-ref" id="fnref104" role="doc-noteref"><sup>104</sup></a>, we have to go back and modify all those lines of code to make them right.</p>
<p>If only we hadn’t repeated ourself, we might have been able to only change it in one place. This would also be better because we wouldn’t be taking the risk of missing a place we should have changed the code.</p>
<p>But how to do it?</p>
<p>With… <em>FUNCTIONS</em>! Let’s write a function to do that math and return the result. Then we can just call it over and over, like this:</p>
<div class="sourceCode" id="cb238"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb238-1"><a href="#cb238-1" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(do_the_math(<span class="dv">30</span>))</span>
<span id="cb238-2"><a href="#cb238-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(do_the_math(<span class="dv">8</span>))</span>
<span id="cb238-3"><a href="#cb238-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(do_the_math(<span class="dv">19</span>))</span>
<span id="cb238-4"><a href="#cb238-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(do_the_math(<span class="dv">21</span>))</span>
<span id="cb238-5"><a href="#cb238-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(do_the_math(<span class="dv">37</span>))</span>
<span id="cb238-6"><a href="#cb238-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(do_the_math(<span class="dv">402</span>))</span>
<span id="cb238-7"><a href="#cb238-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(do_the_math(<span class="dv">516</span>))</span>
<span id="cb238-8"><a href="#cb238-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(do_the_math(<span class="dv">1024</span>))</span>
<span id="cb238-9"><a href="#cb238-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(do_the_math(<span class="dv">3490</span>))</span></code></pre></div>
<p>Sure, we’re repeating the function name <code>do_the_math()</code>, but we’re not repeating the actual mathematical expression, itself, which is what matters.</p>
<p>But how do we define the function <code>do_the_math()</code>?</p>
<p>We use the <code>def</code> statement, like this:</p>
<div class="sourceCode" id="cb239"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python"><span id="cb239-1"><a href="#cb239-1"></a><span class="kw">def</span> do_the_math(x):</span>
<span id="cb239-2"><a href="#cb239-2"></a>    result <span class="op">=</span> (x <span class="op">+</span> <span class="dv">13</span>) <span class="op">*</span> <span class="dv">7</span></span>
<span id="cb239-3"><a href="#cb239-3"></a></span>
<span id="cb239-4"><a href="#cb239-4"></a>    <span class="cf">return</span> result</span>
<span id="cb239-5"><a href="#cb239-5"></a></span>
<span id="cb239-6"><a href="#cb239-6"></a>answer <span class="op">=</span> do_the_math(<span class="dv">30</span>)</span>
<span id="cb239-7"><a href="#cb239-7"></a><span class="bu">print</span>(answer)</span></code></pre></div>
<p>The indented stuff after the <code>def</code> is called the <em>function body</em>. That’s where all the work gets done.</p>
<p>There’s a lot of stuff to unpack here, so let’s take it nice and slow.</p>
<h3 class="unlisted unnumbered" id="line-1-defining-the-function">Line 1: defining the function</h3>
<p>When we say <code>def do_the_math</code>, we’re telling Python, "Hey, I’m making a brand new function from scratch called <code>do_the_math</code>.</p>
<p>The part in the parentheses is a list of what we call <em>parameters</em>. This describes what can be passed to the function. The actual values we pass to the function are called <em>arguments</em>.</p>
<p>In this case, we can pass a single argument to our function. It will be represented inside the function by the variable <code>x</code>.</p>
<p>When we call the function on line 6, <code>x</code> will be initialized with the argument, just as if it had been assigned to. So in this example, <code>x</code> will be assigned <code>30</code>, because that’s the argument we passed to the function for that call.</p>
<blockquote>
<p>In particular, whatever you pass as an argument will also be referred to by the corresponding variable in the parameter list.</p>
</blockquote>
<p>Remember: <em>you pass in arguments that get assigned into parameters</em>.</p>
<p>A parameter is a special type of <em>local variable</em>, one that comes preinitialized with whatever value we passed in as an argument. We’ll get into their story on line 2.</p>
<h3 class="unlisted unnumbered" id="line-2-compute-the-result">Line 2: Compute the result</h3>
<p>You can see on line 2 that we take the parameter <code>x</code> and feed it into the equation our boss tasked us with. (They told us to change it to multiply by 7, remember?)</p>
<p>And then Python does that math and stores that into the variable <code>result</code>.</p>
<p>Now that variable <code>result</code> is special. It’s what we call a <em>local variable</em>. Because it’s used inside the function, it’s only visible inside the function. Once the function returns (more on that below), the valued in the local variables vanish forever.</p>
<p>You can name the local variables anything you want, even if you’ve used that same name in another function! Each local variable is isolated from the rest of the world, and only exists within its own function.</p>
<p>And as I mentioned above, the parameters are also local variables. They just have the added property that they are assigned the values of the arguments automatically.</p>
<h3 class="unlisted unnumbered" id="line-4-return-the-result">Line 4: Return the result</h3>
<p>A function can optionally return a value. You know how arguments are a way to pass data <em>into</em> a function? The return value is a way to pass data back <em>out</em> of the function to the caller.</p>
<p>Back where the function is called, you can think of the function call as <em>having</em> the return value. Then you can do things like assign it into a variable.</p>
<h3 class="unlisted unnumbered" id="line-6-capture-the-returned-result-in-a-variable">Line 6: Capture the returned result in a variable</h3>
<p>We call our function, and we take the <em>return value</em> from that function and assign it into the variable <code>answer</code>. Then we can do things with it, like print it out on line 7.</p>
<p>Problem solving step: <strong>Looking Back</strong>.</p>
<p>In the function as written, above, we use a lot of variables to help demonstrate a number of concepts and ideas surrounding functions.</p>
<p>But in reality, a dev would probably simplify the above code to:</p>
<div class="sourceCode" id="cb240"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python"><span id="cb240-1"><a href="#cb240-1"></a><span class="kw">def</span> do_the_math(x):</span>
<span id="cb240-2"><a href="#cb240-2"></a>    <span class="cf">return</span> (x <span class="op">+</span> <span class="dv">13</span>) <span class="op">*</span> <span class="dv">7</span></span>
<span id="cb240-3"><a href="#cb240-3"></a></span>
<span id="cb240-4"><a href="#cb240-4"></a><span class="bu">print</span>(do_the_math(<span class="dv">30</span>))</span></code></pre></div>
<p>Compare the two until you are convinced they are equivalent.</p>
<h2 id="multiple-return-values">Multiple Return Values</h2>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>You can always return a list or a dict or anything from a function, but you can also return two values and assign them to different variables.</p>
<div class="sourceCode" id="cb241"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb241-1"><a href="#cb241-1" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Function that returns the argument times 10, and divided by 10</span></span>
<span id="cb241-2"><a href="#cb241-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb241-3"><a href="#cb241-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> timesdiv10(x):</span>
<span id="cb241-4"><a href="#cb241-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> x <span class="op">*</span> <span class="dv">10</span>, x <span class="op">/</span> <span class="dv">10</span></span>
<span id="cb241-5"><a href="#cb241-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb241-6"><a href="#cb241-6" aria-hidden="true" tabindex="-1"></a>    a, b <span class="op">=</span> timesdiv10(<span class="dv">100</span>)</span>
<span id="cb241-7"><a href="#cb241-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb241-8"><a href="#cb241-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(a, b)   <span class="co"># 1000 10</span></span></code></pre></div>
<p>Or you can assign the result to a single variable. The result will be a <em>tuple</em>, which is a read-only list that you can access with square bracket notation:</p>
<div class="sourceCode" id="cb242"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb242-1"><a href="#cb242-1" aria-hidden="true" tabindex="-1"></a>    a <span class="op">=</span> timesdiv10(<span class="dv">100</span>)</span>
<span id="cb242-2"><a href="#cb242-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb242-3"><a href="#cb242-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(a[<span class="dv">0</span>], a[<span class="dv">1</span>])   <span class="co"># 1000 10</span></span></code></pre></div>
<p>Magic!</p>
<h2 id="what-makes-a-good-function">What Makes a Good Function</h2>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>The biggest rule is “do one thing and do it well”.</p>
<p>It’s more of a guideline than a rule, because you’re the boss when it comes to programming.</p>
<p>But it’s a great guideline that should be followed when you can.</p>
<p>The biggest things you’ll use functions for are:</p>
<ul>
<li>Mathematical equations</li>
<li>Anything that happens repeatedly</li>
<li>Breaking up code into smaller, self-contained sections</li>
</ul>
<p>Let’s talk about that last item more, since it’s less obvious.</p>
<p>Very frequently—almost always—you’ll start with a series of steps you need to perform to solve the problem, like this:</p>
<div class="sourceCode" id="cb243"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb243-1"><a href="#cb243-1" aria-hidden="true" tabindex="-1"></a>    <span class="co"># While we still have data to process</span></span>
<span id="cb243-2"><a href="#cb243-2" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Process the data</span></span>
<span id="cb243-3"><a href="#cb243-3" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Output the data</span></span></code></pre></div>
<p>And then you go in and fill in all the code for processing the data and outputting the data.</p>
<p>But that could make for a bulky, hard-to-read <code>while</code> loop. It might be better to code it up like this:</p>
<div class="sourceCode" id="cb244"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb244-1"><a href="#cb244-1" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> d <span class="kw">in</span> data:</span>
<span id="cb244-2"><a href="#cb244-2" aria-hidden="true" tabindex="-1"></a>        d <span class="op">=</span> process(d)</span>
<span id="cb244-3"><a href="#cb244-3" aria-hidden="true" tabindex="-1"></a>        output(d)</span></code></pre></div>
<p>and the write the functions <code>process()</code> and <code>output()</code> to operate on the data that is passed into them.</p>
<p>This makes the logic of the loop <em>really</em> easy to read. And being easy-to-read is <em>king</em> (or <em>queen</em>, if you prefer).</p>
<p>If you find you have some large amounts of code that are getting deeply-nested, it might be time to break them out into functions, even if you only call those functions from that single place.</p>
<p>Knowing <em>when</em> to break up code into functions is more of an art than a science. If you start feeling like your code is remotely unwieldy, consider what it might look like split into different functions. If you like it more, do it!</p>
<h2 id="positional-arguments-versus-keyword-arguments">Positional Arguments versus Keyword Arguments</h2>
<p>Problem solving step: <strong>Understanding the Problem</strong>.</p>
<p>We’ll talk more about this in detail later, but function arguments can be split into these two broad classes in Python: <em>positional</em> and <em>keyword</em>.</p>
<p>Positional arguments are the arguments that have to occur at certain positions in a function call.</p>
<p>For instance, if we want to compute <span class="math inline">\(14^{12}\)</span>, we need to pass those two arguments in a specific order to the <code>math.pow()</code> function, which expects the base to be first and the exponent to be second:</p>
<div class="sourceCode" id="cb245"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb245-1"><a href="#cb245-1" aria-hidden="true" tabindex="-1"></a>    math.<span class="bu">pow</span>(<span class="dv">14</span>, <span class="dv">12</span>)   <span class="co"># 56693912375296.0</span></span></code></pre></div>
<p>If you put the 12 first, you get a different answer. These are positional arguments.</p>
<p>But for some functions, after the positional arguments, you can specify additional keyword arguments. These are arguments that are identified by a certain name.</p>
<p>For example, normally <code>print()</code> puts a newline at the end of the string. But you can override this behavior with the <code>end</code> keyword argument by telling <code>print()</code> to put nothing (an empty string) at the end of the line:</p>
<div class="sourceCode" id="cb246"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb246-1"><a href="#cb246-1" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Together, prints &quot;Beej&quot; on a single line</span></span>
<span id="cb246-2"><a href="#cb246-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb246-3"><a href="#cb246-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&quot;Be&quot;</span>, end<span class="op">=</span><span class="st">&quot;&quot;</span>)</span>
<span id="cb246-4"><a href="#cb246-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&quot;ej&quot;</span>)</span></code></pre></div>
<p>Notice how we had to identify the keyword argument by name.</p>
<p>If you’re looking through documentation, you might find something that looks like this (the documentation for <code>print()</code>):</p>
<div class="sourceCode" id="cb247"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb247-1"><a href="#cb247-1" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="op">*</span>objects, sep<span class="op">=</span><span class="st">&#39; &#39;</span>, end<span class="op">=</span><span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span>, <span class="bu">file</span><span class="op">=</span>sys.stdout, flush<span class="op">=</span><span class="va">False</span>)</span></code></pre></div>
<p>Ignoring the <code>*objects</code> for now, look at all those keyword arguments… in the docs, they have <code>=</code> followed by some value. This indicates the <em>default</em> value if you don’t specify one otherwise. In other words, they’re optional keyword arguments.</p>
<p>You can see that <code>print()</code> ends each line with a newline <code>\n</code> unless we tell it to end the line with some other string.</p>
<p>For now, it’s enough to know that these exist and how to call them. Later on, we’ll talk about how to write our own.</p>
<h2 id="interlude-evaluation-strategies">Interlude: Evaluation Strategies</h2>
<p>If you don’t want to read this section, it’s OK to skip. But it’s more fun if you read it.</p>
<p>Different languages have different behaviors when it comes to passing arguments to functions.</p>
<p>Some of them make copies of the values. Some of them just make it so the parameter name is an alias for the argument name. Some of them give you the option through some keyword.</p>
<p>How the programming language does this is called its <a href="https://en.wikipedia.org/wiki/Evaluation_strategy"><em>evaluation strategy</em></a><a href="#fn105" class="footnote-ref" id="fnref105" role="doc-noteref"><sup>105</sup></a>.</p>
<p>Three very common ones are:</p>
<ul>
<li><p><strong>Call by Sharing</strong>: This is what Python does. When you call a function, the parameters becomes references to the same objects as their corresponding arguments. This means that if, inside the function, you change the thing the parameter refers to, you’ll see that change reflected out in the caller. However, if you assign a new value into a parameter, you will <em>not</em> see the change.</p>
<div class="sourceCode" id="cb248"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb248-1"><a href="#cb248-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> foo(x):</span>
<span id="cb248-2"><a href="#cb248-2" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Modify the passed-in object. Caller will see this change.</span></span>
<span id="cb248-3"><a href="#cb248-3" aria-hidden="true" tabindex="-1"></a>        x[<span class="dv">1</span>] <span class="op">=</span> <span class="dv">99</span></span>
<span id="cb248-4"><a href="#cb248-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb248-5"><a href="#cb248-5" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Assign a new list into x. Caller will _not_ see this change.</span></span>
<span id="cb248-6"><a href="#cb248-6" aria-hidden="true" tabindex="-1"></a>        x <span class="op">=</span> [<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>]</span>
<span id="cb248-7"><a href="#cb248-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb248-8"><a href="#cb248-8" aria-hidden="true" tabindex="-1"></a>    a <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb248-9"><a href="#cb248-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb248-10"><a href="#cb248-10" aria-hidden="true" tabindex="-1"></a>    foo(a)</span>
<span id="cb248-11"><a href="#cb248-11" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(a)   <span class="co"># [1, 99, 3]</span></span></code></pre></div></li>
<li><p><strong>Call by Value</strong>: a <em>copy</em> of the argument is made and stored in the parameter. The <a href="https://en.wikipedia.org/wiki/C_(programming_language)">C programming language</a><a href="#fn106" class="footnote-ref" id="fnref106" role="doc-noteref"><sup>106</sup></a>, among others, uses this one. (Sometimes people say Python uses Call by Value, but this is technically not accurate since parameters are not copied when they are passed in; only the reference to the argument is copied. You can make Python simulate Call by Value by making a copy of the parameter when calling the function.)</p>
<div class="sourceCode" id="cb249"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb249-1"><a href="#cb249-1" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Simulating call-by-value in Python</span></span>
<span id="cb249-2"><a href="#cb249-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb249-3"><a href="#cb249-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> foo(x):</span>
<span id="cb249-4"><a href="#cb249-4" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Modify the passed-in object. Caller would normally see this</span></span>
<span id="cb249-5"><a href="#cb249-5" aria-hidden="true" tabindex="-1"></a>        <span class="co"># change, but if they called it with a copy, only the copy will</span></span>
<span id="cb249-6"><a href="#cb249-6" aria-hidden="true" tabindex="-1"></a>        <span class="co"># be affected.</span></span>
<span id="cb249-7"><a href="#cb249-7" aria-hidden="true" tabindex="-1"></a>        x[<span class="dv">1</span>] <span class="op">=</span> <span class="dv">99</span></span>
<span id="cb249-8"><a href="#cb249-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb249-9"><a href="#cb249-9" aria-hidden="true" tabindex="-1"></a>    a <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb249-10"><a href="#cb249-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb249-11"><a href="#cb249-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Simulate call-by-value by making a copy</span></span>
<span id="cb249-12"><a href="#cb249-12" aria-hidden="true" tabindex="-1"></a>    foo(a.copy())</span>
<span id="cb249-13"><a href="#cb249-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb249-14"><a href="#cb249-14" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(a)   <span class="co"># [1, 2, 3]</span></span></code></pre></div>
<ul>
<li><strong>Call by Reference</strong>: the parameter effectively becomes an alias for the variable name passed in as the argument. Anything you do to the parameter you effectively do to the argument, including assigning it some other value. Example languages <a href="https://en.wikipedia.org/wiki/Fortran">Fortran</a><a href="#fn107" class="footnote-ref" id="fnref107" role="doc-noteref"><sup>107</sup></a>, <a href="https://en.wikipedia.org/wiki/C%2B%2B">C++</a><a href="#fn108" class="footnote-ref" id="fnref108" role="doc-noteref"><sup>108</sup></a> (usually by value, but can be made by reference). (Sometimes people say Python uses Call by Reference, but this is technically not accurate since you can’t assign new values to parameters and see that reflected in the argument.)</li>
</ul></li>
</ul>
<p>Here’s a quick summary between them.</p>
<p>Note: In the following table, “Can modify item in caller” means that if you have a variable in the caller that refers to a thing, changes to the thing in the function will be reflected in the caller’s variable.</p>
<p>“Parameter reassignment affects caller” means that if you assign into a parameter variable (i.e. change the parameter to refer to a completely different thing) the argument variable will also change.</p>
<table>
<thead>
<tr class="header">
<th style="text-align: right;"></th>
<th style="text-align: center;">Can modify item in caller</th>
<th style="text-align: center;">Parameter reassignment affects caller</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;"><strong>Call by Sharing</strong></td>
<td style="text-align: center;">Yes</td>
<td style="text-align: center;">No</td>
</tr>
<tr class="even">
<td style="text-align: right;"><strong>Call by Value</strong></td>
<td style="text-align: center;">No</td>
<td style="text-align: center;">No</td>
</tr>
<tr class="odd">
<td style="text-align: right;"><strong>Call by Reference</strong></td>
<td style="text-align: center;">Yes</td>
<td style="text-align: center;">Yes</td>
</tr>
</tbody>
</table>
<p>Now, I’ve seen people be fast and loose with these descriptions when it comes to Python, so don’t hold them to it. In my opinion, from the above three items, Call by Sharing is the most accurate. Call by Reference is the second-most.</p>
<h2 id="the-chapter-project-1">The Chapter Project</h2>
<p>Problem solving step: <strong>Understanding the Problem</strong></p>
<p>It’s that time! If you need a refresher, <a href="#func-proj-spec">pop back up to the top and check out the spec</a>.</p>
<p>So we want to do a couple things:</p>
<ol type="1">
<li>Read in a list of starship positions.</li>
<li>Print out a grid of distances between each ship.</li>
</ol>
<p>The positions are entered as X,Y,Z coordinates (until the user enters “done”).</p>
<p>The distances are computed with the distance formula variation of the Pythagorean Theorem.</p>
<p>A grid of distances is printed. There should be ship numbers along the axes.</p>
<p>Problem solving step: <strong>Devising a Plan</strong></p>
<p>We already have a bit of a plan, don’t we? We listed it right up there.</p>
<ol type="1">
<li>Read in a list of starship positions.</li>
<li>Print out a grid of distances between each ship.</li>
</ol>
<p>Don’t look now, but these would make a great couple of functions. Sure, we <em>could</em> stick them all in one big main routine, but it’s way more logical and easier to read if we make them their own functions.</p>
<p>We could have one function read the list of positions and return it.</p>
<p>And we could take that returned list and pass it into another function to print the grid.</p>
<div class="sourceCode" id="cb250"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb250-1"><a href="#cb250-1" aria-hidden="true" tabindex="-1"></a>    locations <span class="op">=</span> get_ship_locations()</span>
<span id="cb250-2"><a href="#cb250-2" aria-hidden="true" tabindex="-1"></a>    print_grid(locations)</span></code></pre></div>
<p>We’re taking a <em>top down</em> approach, here. Starting with the big pieces of logic and then implementing them as we go down.</p>
<p>In fact, let’s simplify the problem, and just start like this:</p>
<div class="sourceCode" id="cb251"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb251-1"><a href="#cb251-1" aria-hidden="true" tabindex="-1"></a>    locations <span class="op">=</span> get_ship_locations()</span>
<span id="cb251-2"><a href="#cb251-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(locations)</span>
<span id="cb251-3"><a href="#cb251-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">#print_grid(locations)</span></span></code></pre></div>
<p>That way we can just do one bit and make sure it’s working.</p>
<blockquote>
<p><strong>Fun Motto Fact</strong>: Get something working as quickly as possible, no matter how much a piece of the project it is.</p>
</blockquote>
<p>Problem solving step: <strong>Understanding the Problem</strong></p>
<p>For getting the ship locations, looks like we want to have the user enter an X,Y,Z coordinate. Then we want to split that into a list of numbers. And we need to make sure they are int type—remember that <code>input()</code> returns a string, so we’ll have to convert them to int.</p>
<p>And we repeat that until the user enters “done”.</p>
<p>Problem solving step: <strong>Devising a Plan</strong></p>
<p>Looping until the user enters “done” is a solved problem. We’ve done that a few times now. Just make a variable for the <code>while()</code> condition, and then set it when the user enters “done”.</p>
<p>Otherwise we have to split the string up into a list of 3 numbers, splitting on the comma. Remember how to do that?</p>
<p>Yes, that’s right (or no, not right, if you don’t remember), it’s the <code>split()</code> string method. Example:</p>
<div class="sourceCode" id="cb252"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb252-1"><a href="#cb252-1" aria-hidden="true" tabindex="-1"></a>    <span class="co">&quot;1,2,3&quot;</span>.split(<span class="st">&#39;,&#39;</span>)  <span class="co"># produces list [&quot;1&quot;,&quot;2&quot;,&quot;3&quot;]</span></span></code></pre></div>
<p>But that’s not enough. Like we noted, we need to convert that list from a list of strings to a list of numbers. Remember how to convert a string to a number? Yes, with the built-in <code>int()</code> function!</p>
<div class="sourceCode" id="cb253"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb253-1"><a href="#cb253-1" aria-hidden="true" tabindex="-1"></a>    <span class="bu">int</span>(<span class="st">&quot;2&quot;</span>) <span class="op">==</span> <span class="dv">2</span>  <span class="co"># True!</span></span></code></pre></div>
<p>So we can loop through our list of strings and convert them to ints.</p>
<p>And then we’ll have a list of 3 ints, representing the X,Y,Z coordinates of a single ship. Of course, the user is going to enter any number of ships, and we’ll have to keep all those lists of coordinates somewhere… where?</p>
<p>It’s almost like we’ll need a list for all those lists. A list of lists! Why not? We made some of those in the lists chapter, right?</p>
<p>So we add the new X,Y,Z list to the end of a master list that holds all the coordinates.</p>
<p>Then we can return that master list to be used later when we print the grid.</p>
<p>Let’s code!</p>
<p>Wait—you’re right—we haven’t finished the <em>entire</em> plan for the whole project. True. But that’s okay. We completed enough devising of a plan to do the first part of the project.</p>
<p>And this is one of the beautiful things about functions. We’ve split the problem up so nicely that we can implement different parts of it <em>completely independently</em>! In fact, if you have a programming pal, you could get them to write the <code>print_grid()</code> function at the same time you were writing the <code>get_ship_locations()</code> function!</p>
<p>Problem solving step: <strong>Carrying Out the Plan</strong></p>
<p>Let’s get coding!</p>
<div class="sourceCode" id="cb254"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb254-1"><a href="#cb254-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> get_ship_locations():</span>
<span id="cb254-2"><a href="#cb254-2" aria-hidden="true" tabindex="-1"></a>        <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb254-3"><a href="#cb254-3" aria-hidden="true" tabindex="-1"></a><span class="co">        Ask the user to enter a number of X,Y,Z ships coordinates.</span></span>
<span id="cb254-4"><a href="#cb254-4" aria-hidden="true" tabindex="-1"></a><span class="co">        Returns a list of all the coordinates.</span></span>
<span id="cb254-5"><a href="#cb254-5" aria-hidden="true" tabindex="-1"></a><span class="co">        &quot;&quot;&quot;</span></span>
<span id="cb254-6"><a href="#cb254-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb254-7"><a href="#cb254-7" aria-hidden="true" tabindex="-1"></a>        done <span class="op">=</span> <span class="va">False</span>     <span class="co"># True when the user asks to be done</span></span>
<span id="cb254-8"><a href="#cb254-8" aria-hidden="true" tabindex="-1"></a>        locations <span class="op">=</span> []   <span class="co"># Master list of all ship positions</span></span>
<span id="cb254-9"><a href="#cb254-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb254-10"><a href="#cb254-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">while</span> <span class="kw">not</span> done:</span>
<span id="cb254-11"><a href="#cb254-11" aria-hidden="true" tabindex="-1"></a>            xyz <span class="op">=</span> <span class="bu">input</span>(<span class="st">&#39;Enter ship location x,y,z (or &quot;done&quot;): &#39;</span>)</span>
<span id="cb254-12"><a href="#cb254-12" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb254-13"><a href="#cb254-13" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> xyz <span class="op">==</span> <span class="st">&quot;done&quot;</span>:</span>
<span id="cb254-14"><a href="#cb254-14" aria-hidden="true" tabindex="-1"></a>                done <span class="op">=</span> <span class="va">True</span></span>
<span id="cb254-15"><a href="#cb254-15" aria-hidden="true" tabindex="-1"></a>            <span class="cf">else</span>:</span>
<span id="cb254-16"><a href="#cb254-16" aria-hidden="true" tabindex="-1"></a>                <span class="co"># Get a list of the x,y,z coordinates</span></span>
<span id="cb254-17"><a href="#cb254-17" aria-hidden="true" tabindex="-1"></a>                xyz_list <span class="op">=</span> xyz.split(<span class="st">&#39;,&#39;</span>)</span>
<span id="cb254-18"><a href="#cb254-18" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb254-19"><a href="#cb254-19" aria-hidden="true" tabindex="-1"></a>                <span class="co"># Convert to integers</span></span>
<span id="cb254-20"><a href="#cb254-20" aria-hidden="true" tabindex="-1"></a>                <span class="cf">for</span> i, v <span class="kw">in</span> <span class="bu">enumerate</span>(xyz_list):</span>
<span id="cb254-21"><a href="#cb254-21" aria-hidden="true" tabindex="-1"></a>                    xyz_list[i] <span class="op">=</span> <span class="bu">int</span>(v)</span>
<span id="cb254-22"><a href="#cb254-22" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb254-23"><a href="#cb254-23" aria-hidden="true" tabindex="-1"></a>                <span class="co"># Build the master list</span></span>
<span id="cb254-24"><a href="#cb254-24" aria-hidden="true" tabindex="-1"></a>                locations.append(xyz_list)</span>
<span id="cb254-25"><a href="#cb254-25" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb254-26"><a href="#cb254-26" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> locations</span>
<span id="cb254-27"><a href="#cb254-27" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb254-28"><a href="#cb254-28" aria-hidden="true" tabindex="-1"></a>    locations <span class="op">=</span> get_ship_locations()</span>
<span id="cb254-29"><a href="#cb254-29" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(locations)</span>
<span id="cb254-30"><a href="#cb254-30" aria-hidden="true" tabindex="-1"></a>    <span class="co">#print_grid(locations)</span></span></code></pre></div>
<p>If we give that a run, we see something like this:</p>
<pre><code>    Enter ship location x,y,z (or &quot;done&quot;): 1,2,3
    Enter ship location x,y,z (or &quot;done&quot;): 4,5,6
    Enter ship location x,y,z (or &quot;done&quot;): done
    [[1, 2, 3], [4, 5, 6]]</code></pre>
<p>There’s our list of lists holding the ships’ coordinates! It’s ready to feed into the <code>print_grid()</code> function. But first we’d better think about that for a bit.</p>
<p>One more thing: if you were looking closely, you saw the big multiline string at the beginning of the function describing what the function does. This is called a <em>doc string</em> and it’s a comment that gives overall information about the function. Automatic documentation generators can extract these and build documentation for you, just like you can get with the <code>help()</code> function in the <a href="#repl">REPL</a>.</p>
<p>Problem solving step: <strong>Understanding the Problem</strong></p>
<p>All righty. What do we need to do for this second part of printing out the grid of distances between the ships?</p>
<p>There are sort of three big pieces here.</p>
<ul>
<li>We need to print out a grid.</li>
<li>We need the first row and first column to list out ship numbers so we can cross-reference.</li>
<li>We need to actually compute the distance and print that.</li>
</ul>
<p>Problem solving step: <strong>Devising a Plan</strong></p>
<p>Let’s simplify a bit first. Instead of worrying about computing the distance, let’s just concentrate on the grid. We’ll just put the bogus number of <code>99.99</code> in for all the inter-ship distances.</p>
<blockquote>
<p><strong>Protip</strong>: When putting in bogus data, make sure it’s <em>obviously</em> bogus so that obviously people obviously know they must obviously replace this with real data before the product ships.</p>
</blockquote>
<p>And to simplify even further, let’s forget about the ship numbers in the first row and first column. We can add those in later. Remember: it’s good to identify the minimum independent piece you can implement next and test that it’s working.</p>
<p>We know how many ships we have—it’s the length of the master list of ship coordinates.</p>
<p>If we have <em>n</em> ships, we’ll need and <em>n</em> by <em>n</em> grid to be displayed to show all the distances between all of them. But how? Think back to the loops chapter…</p>
<p>You can do it with a <em>nested loop</em>. The outer one goes for <em>n</em> rows, and the inner one goes for <em>n</em> columns.</p>
<p>For printing the number with 2 decimal places in a field of width 8, you can use a f-string with some special formatting specifiers, for example:</p>
<div class="sourceCode" id="cb256"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb256-1"><a href="#cb256-1" aria-hidden="true" tabindex="-1"></a>    distance <span class="op">=</span> <span class="fl">99.99</span></span>
<span id="cb256-2"><a href="#cb256-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&#39;</span><span class="sc">{</span>distance<span class="sc">:8.2f}</span><span class="ss">)   # prints &quot;   99.99&quot;</span></span></code></pre></div>
<p>All righty! Let’s print some stuff!</p>
<p>Problem solving step: <strong>Carrying Out the Plan</strong></p>
<div class="sourceCode" id="cb257"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb257-1"><a href="#cb257-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> print_grid(locations):</span>
<span id="cb257-2"><a href="#cb257-2" aria-hidden="true" tabindex="-1"></a>        <span class="co">&quot;&quot;&quot;Print a grid of ship-to-ship distances.&quot;&quot;&quot;</span></span>
<span id="cb257-3"><a href="#cb257-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb257-4"><a href="#cb257-4" aria-hidden="true" tabindex="-1"></a>        num_ships <span class="op">=</span> <span class="bu">len</span>(locations)</span>
<span id="cb257-5"><a href="#cb257-5" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb257-6"><a href="#cb257-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(num_ships):</span>
<span id="cb257-7"><a href="#cb257-7" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(num_ships):</span>
<span id="cb257-8"><a href="#cb257-8" aria-hidden="true" tabindex="-1"></a>                dist <span class="op">=</span> <span class="fl">99.99</span></span>
<span id="cb257-9"><a href="#cb257-9" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(<span class="ss">f&#39;</span><span class="sc">{</span>dist<span class="sc">:8.2f}</span><span class="ss">&#39;</span>, end<span class="op">=</span><span class="st">&quot;&quot;</span>)</span>
<span id="cb257-10"><a href="#cb257-10" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>()</span>
<span id="cb257-11"><a href="#cb257-11" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb257-12"><a href="#cb257-12" aria-hidden="true" tabindex="-1"></a>    locations <span class="op">=</span> get_ship_locations()</span>
<span id="cb257-13"><a href="#cb257-13" aria-hidden="true" tabindex="-1"></a>    print_grid(locations)</span></code></pre></div>
<p>Running that gives:</p>
<pre><code>    Enter ship location x,y,z (or &quot;done&quot;): 1,2,3
    Enter ship location x,y,z (or &quot;done&quot;): 4,5,6
    Enter ship location x,y,z (or &quot;done&quot;): 7,8,9
    Enter ship location x,y,z (or &quot;done&quot;): done
       99.99   99.99   99.99
       99.99   99.99   99.99
       99.99   99.99   99.99</code></pre>
<p>Hey, a nice 3x3 grid for our 3 ships!</p>
<p>Next, let’s put the ship row number just to the left of each row. Just editing the <code>for</code>-loop here:</p>
<div class="sourceCode" id="cb259"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb259-1"><a href="#cb259-1" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(num_ships):</span>
<span id="cb259-2"><a href="#cb259-2" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f&#39;</span><span class="sc">{i:8}</span><span class="ss">&#39;</span>, end<span class="op">=</span><span class="st">&quot;&quot;</span>)   <span class="co"># &lt;-- add this</span></span>
<span id="cb259-3"><a href="#cb259-3" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(num_ships):</span>
<span id="cb259-4"><a href="#cb259-4" aria-hidden="true" tabindex="-1"></a>                dist <span class="op">=</span> <span class="fl">99.99</span></span>
<span id="cb259-5"><a href="#cb259-5" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(<span class="ss">f&#39;</span><span class="sc">{</span>dist<span class="sc">:8.2f}</span><span class="ss">&#39;</span>, end<span class="op">=</span><span class="st">&quot;&quot;</span>)</span>
<span id="cb259-6"><a href="#cb259-6" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>()</span></code></pre></div>
<p>We printed it in field width 8 just for consistency with the distance numbers. Output is now:</p>
<pre><code>           0   99.99   99.99   99.99
           1   99.99   99.99   99.99
           2   99.99   99.99   99.99</code></pre>
<p>Which is good! Now we just need a row on the top. How about another loop before everything else to print out that row?</p>
<div class="sourceCode" id="cb261"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb261-1"><a href="#cb261-1" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Add this loop:</span></span>
<span id="cb261-2"><a href="#cb261-2" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(num_ships):</span>
<span id="cb261-3"><a href="#cb261-3" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f&#39;</span><span class="sc">{i:8}</span><span class="ss">&#39;</span>, end<span class="op">=</span><span class="st">&quot;&quot;</span>)</span>
<span id="cb261-4"><a href="#cb261-4" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>()</span>
<span id="cb261-5"><a href="#cb261-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb261-6"><a href="#cb261-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(num_ships):</span>
<span id="cb261-7"><a href="#cb261-7" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f&#39;</span><span class="sc">{i:8}</span><span class="ss">&#39;</span>, end<span class="op">=</span><span class="st">&quot;&quot;</span>)</span>
<span id="cb261-8"><a href="#cb261-8" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(num_ships):</span>
<span id="cb261-9"><a href="#cb261-9" aria-hidden="true" tabindex="-1"></a>                dist <span class="op">=</span> <span class="fl">99.99</span></span>
<span id="cb261-10"><a href="#cb261-10" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(<span class="ss">f&#39;</span><span class="sc">{</span>dist<span class="sc">:8.2f}</span><span class="ss">&#39;</span>, end<span class="op">=</span><span class="st">&quot;&quot;</span>)</span>
<span id="cb261-11"><a href="#cb261-11" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>()</span></code></pre></div>
<p>And we get this:</p>
<pre><code>           0       1       2
           0   99.99   99.99   99.99
           1   99.99   99.99   99.99
           2   99.99   99.99   99.99</code></pre>
<p>Er, well, that’s <em>almost</em> right. The top row is shifted one column left. We need to stick 8 blank spaces in before it to scooch it over. So let’s just do it, using string multiplication to make us 8 spaces:</p>
<div class="sourceCode" id="cb263"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb263-1"><a href="#cb263-1" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot; &quot;</span> <span class="op">*</span> <span class="dv">8</span>, end<span class="op">=</span><span class="st">&quot;&quot;</span>)   <span class="co"># &lt;-- Add this</span></span>
<span id="cb263-2"><a href="#cb263-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb263-3"><a href="#cb263-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(num_ships):</span>
<span id="cb263-4"><a href="#cb263-4" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f&#39;</span><span class="sc">{i:8}</span><span class="ss">&#39;</span>, end<span class="op">=</span><span class="st">&quot;&quot;</span>)</span>
<span id="cb263-5"><a href="#cb263-5" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>()</span></code></pre></div>
<p>And now we have this:</p>
<pre><code>                   0       1       2
           0   99.99   99.99   99.99
           1   99.99   99.99   99.99
           2   99.99   99.99   99.99</code></pre>
<p>which is looking <em>right on</em>. Except that all the distances are listed as <code>99.99</code>. Let’s get that out of there and replace it with the real distance between the ships.</p>
<p>Problem solving step: <strong>Devising a Plan</strong></p>
<p>Distance! We see the distance formula up there at the top, repeated here:</p>
<p><span class="math inline">\(d=\sqrt{(x_0-x_1)^2+(y_0-y_1)^2+(z_0-z_1)^2}\)</span></p>
<p>How do we turn that into code?</p>
<p>We could use <code>math.sqrt()</code> to get the square root, and <code>math.pow()</code> to square the numbers.</p>
<p>Another option is to compute, say, the difference in the X coordinates and then multiply that result by itself to square it (since <span class="math inline">\(x\times{x}=\)</span>x^2$).</p>
<p>Let’s code them both and then use the one you like best.</p>
<p>Problem solving step: <strong>Carrying Out the Plan</strong></p>
<p>Here’s computing the distance between points <code>p0</code> and <code>p1</code> (both of which are lists of X,Y,Z triples) using <code>math.pow()</code>:</p>
<div class="sourceCode" id="cb265"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb265-1"><a href="#cb265-1" aria-hidden="true" tabindex="-1"></a>    d <span class="op">=</span> math.sqrt(</span>
<span id="cb265-2"><a href="#cb265-2" aria-hidden="true" tabindex="-1"></a>        math.<span class="bu">pow</span>(p0[<span class="dv">0</span>] <span class="op">-</span> p1[<span class="dv">0</span>], <span class="dv">2</span>) <span class="op">+</span>  <span class="co"># difference in Xs</span></span>
<span id="cb265-3"><a href="#cb265-3" aria-hidden="true" tabindex="-1"></a>        math.<span class="bu">pow</span>(p0[<span class="dv">1</span>] <span class="op">-</span> p1[<span class="dv">1</span>], <span class="dv">2</span>) <span class="op">+</span>  <span class="co"># difference in Ys</span></span>
<span id="cb265-4"><a href="#cb265-4" aria-hidden="true" tabindex="-1"></a>        math.<span class="bu">pow</span>(p0[<span class="dv">2</span>] <span class="op">-</span> p1[<span class="dv">2</span>], <span class="dv">2</span>)    <span class="co"># difference in Zs</span></span>
<span id="cb265-5"><a href="#cb265-5" aria-hidden="true" tabindex="-1"></a>    )</span></code></pre></div>
<p>And here’s option two:</p>
<div class="sourceCode" id="cb266"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb266-1"><a href="#cb266-1" aria-hidden="true" tabindex="-1"></a>    dx <span class="op">=</span> p0[<span class="dv">0</span>] <span class="op">-</span> p1[<span class="dv">0</span>]   <span class="co"># difference in the Xs</span></span>
<span id="cb266-2"><a href="#cb266-2" aria-hidden="true" tabindex="-1"></a>    dy <span class="op">=</span> p0[<span class="dv">1</span>] <span class="op">-</span> p1[<span class="dv">1</span>]   <span class="co"># difference in the Ys</span></span>
<span id="cb266-3"><a href="#cb266-3" aria-hidden="true" tabindex="-1"></a>    dz <span class="op">=</span> p0[<span class="dv">2</span>] <span class="op">-</span> p1[<span class="dv">2</span>]   <span class="co"># difference in the Zs</span></span>
<span id="cb266-4"><a href="#cb266-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb266-5"><a href="#cb266-5" aria-hidden="true" tabindex="-1"></a>    d <span class="op">=</span> math.sqrt(dx<span class="op">*</span>dx <span class="op">+</span> dy<span class="op">*</span>dy <span class="op">+</span> dz<span class="op">*</span>dz)</span></code></pre></div>
<p>Which do you prefer? Both should give equivalent answers.</p>
<p>Now, sure, we could just throw that equation in the middle of our code, but this is actually ripe to be made into its own function! If we do that, we can reuse it easily later, should we ever want to. Let’s wrap it up and add it to our file:</p>
<pre class=".{py}"><code>    def dist3d(p0, p1):
        &quot;&quot;&quot;Return the Euclidean distance between 2 3D points.&quot;&quot;&quot;
    
        # Compute the difference in the Xs, Ys, and Zs
        dx = p0[0] - p1[0]
        dy = p0[1] - p1[1]
        dz = p0[2] - p1[2]
    
        # Compute the distance. (Remember that multiplying a number by
        # itself is the same as squaring the number.)
        return math.sqrt(dx*dx + dy*dy + dz*dz)</code></pre>
<p>And then we can mod our code where we hardcoded that <code>99.99</code> and have it call the distance formula instead! We just need to pass in the two ships’ locations—one is represented by the column number, and the other by the row number:</p>
<div class="sourceCode" id="cb268"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb268-1"><a href="#cb268-1" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(num_ships):</span>
<span id="cb268-2"><a href="#cb268-2" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f&#39;</span><span class="sc">{i:8}</span><span class="ss">&#39;</span>, end<span class="op">=</span><span class="st">&quot;&quot;</span>)</span>
<span id="cb268-3"><a href="#cb268-3" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(num_ships):</span>
<span id="cb268-4"><a href="#cb268-4" aria-hidden="true" tabindex="-1"></a>                dist <span class="op">=</span> dist3d(locations[i], locations[j]])  <span class="co"># &lt;-- Mod here</span></span>
<span id="cb268-5"><a href="#cb268-5" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(<span class="ss">f&#39;</span><span class="sc">{</span>dist<span class="sc">:8.2f}</span><span class="ss">&#39;</span>, end<span class="op">=</span><span class="st">&quot;&quot;</span>)</span>
<span id="cb268-6"><a href="#cb268-6" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>()</span></code></pre></div>
<p>And there we have it!</p>
<p>(<a href="https://beej.us/guide/bgpython/examples/shipdist.py">Solution</a><a href="#fn109" class="footnote-ref" id="fnref109" role="doc-noteref"><sup>109</sup></a>.)</p>
<h2 id="exercises-6">Exercises</h2>
<p><strong>Remember: to get your value out of this book, you have to do these exercises.</strong> After 20 minutes of being stuck on a problem, you’re allowed to look at the solution.</p>
<p>Use any knowledge you have to solve these, not only what you learned in this chapter.</p>
<p><strong>Always</strong> use the <a href="#problem-solving">four problem-solving steps</a> to solve these problems: understand the problem, devise a plan, carry it out, look back to see what you could have done better.</p>
<ol type="1">
<li><p>Write a program to input numbers repeatedly until the user types “done”. Keep track of all the numbers in a list.</p>
<p>Print out the maximum value the user entered using built-in functions.</p>
<p>(<a href="https://beej.us/guide/bgpython/examples/ex_max.py">Solution</a><a href="#fn110" class="footnote-ref" id="fnref110" role="doc-noteref"><sup>110</sup></a>.)</p></li>
<li><p>Write a function that takes an integer between 0 and 9 as an argument. It should return a string that corresponds to the English word for that number. For example, if the argument is <code>3</code>, the function should return <code>"three"</code>.</p>
<p>(<a href="https://beej.us/guide/bgpython/examples/ex_ennum.py">Solution</a><a href="#fn111" class="footnote-ref" id="fnref111" role="doc-noteref"><sup>111</sup></a>.)</p></li>
<li><p>Write a function that accepts the mass of two planets and the distance between them (for a total of 3 arguments) and returns the force between them.</p>
<p>Use Newton’s Universal Law of Gravitation to calculate the force <span class="math inline">\(F\)</span>:</p>
<p><span class="math inline">\(F=G\cfrac{m_1 m_2}{r^2}\)</span></p>
<p>In mathematical notation, to variables next to each other like <span class="math inline">\(m_1 m_2\)</span>, above, indicate multiplication.</p>
<p>And for <span class="math inline">\(r^2\)</span>, a simple equivalent is <span class="math inline">\(r\times{r}\)</span>.</p>
<p>So we can convert that whole equation to:</p>
<div class="sourceCode" id="cb269"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb269-1"><a href="#cb269-1" aria-hidden="true" tabindex="-1"></a>    F <span class="op">=</span> G <span class="op">*</span> (m1 <span class="op">*</span> m2) <span class="op">/</span> (r <span class="op">*</span> r)</span></code></pre></div>
<p>where <code>m1</code> is the mass of one planet, <code>m2</code> is the mass of the other planet, and <code>r</code> is the distance between them.</p>
<p>So far so good.</p>
<p>But what’s <code>G</code>? It’s the <em>gravitational constant</em>:</p>
<p><span class="math inline">\(G=6.67430\times10^{-11}\)</span></p>
<p>That’s written in scientific notation, but we can do the same thing in Python:</p>
<div class="sourceCode" id="cb270"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb270-1"><a href="#cb270-1" aria-hidden="true" tabindex="-1"></a>    G <span class="op">=</span> <span class="fl">6.67430e-11</span></span></code></pre></div>
<p>That should be enough to go on. Write the function and call it with a variety of different values. Here are some sample values so you can see if your code is working:</p>
<table>
<thead>
<tr class="header">
<th style="text-align: right;">m1</th>
<th style="text-align: right;">m2</th>
<th style="text-align: right;">r</th>
<th style="text-align: right;">result</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;"><code>10</code></td>
<td style="text-align: right;"><code>20</code></td>
<td style="text-align: right;"><code>30</code></td>
<td style="text-align: right;"><code>1.48317e-11</code></td>
</tr>
<tr class="even">
<td style="text-align: right;"><code>10</code></td>
<td style="text-align: right;"><code>40</code></td>
<td style="text-align: right;"><code>30</code></td>
<td style="text-align: right;"><code>2.96635e-11</code></td>
</tr>
<tr class="odd">
<td style="text-align: right;"><code>100</code></td>
<td style="text-align: right;"><code>5</code></td>
<td style="text-align: right;"><code>10</code></td>
<td style="text-align: right;"><code>3.33714e-10</code></td>
</tr>
</tbody>
</table>
<p>(<a href="https://beej.us/guide/bgpython/examples/ex_grav.py">Solution</a><a href="#fn112" class="footnote-ref" id="fnref112" role="doc-noteref"><sup>112</sup></a>.)</p></li>
</ol>
<h2 id="summary-8">Summary</h2>
<p>Functions are a super-important part of programming and a highly valuable tool to have at your disposal.</p>
<p>You can use them to break up code into smaller, more manageable pieces. You can also use them to create standalone, reusable pieces of code.</p>
<p>Python comes with a pile of built-in functions, and it pays to know what they are (so you don’t reinvent them yourself!)</p>
<p>Finally, you also learned that function arguments come in two flavors: positional and keyword. We’ll revisit more of that topic later.</p>
<p>But now: well-deserved break time!</p>
<!--
vim: ts=4:sw=4:nosi:et:tw=72:spell:nojs
-->
<!--
Problem-solving step: **Understanding the Problem**.
Problem-solving step: **Devising a Plan**
Problem-solving step: **Carrying Out the Plan**
Problem-solving step: **Looking Back**.
-->
<h1 id="classes-and-objects">Classes and Objects</h1>
<h2 id="objective-6">Objective</h2>
<ul>
<li>Learn what classes and objects are useful for</li>
<li>Understand the relationship between classes and objects</li>
<li>Be able to declare a class</li>
<li>Be able to use that class to instantiate objects</li>
<li>Understand that objects are mutable</li>
<li>Understand the relationship between objects and <code>None</code></li>
<li>How to test to see if an object has an attribute or not</li>
</ul>
<h2 id="class-proj-spec">Chapter Project Specification</h2>
<p>As you go through the chapter, remember this specification and think about how we might use the new ideas in this chapter to implement it. This can absolutely be implemented without using the material in this chapter, but the goal is to implement it using the info</p>
<p>We want to store data for a number of theaters and the movies that are being shown at those theaters.</p>
<p>Each movie has:</p>
<ul>
<li>A title (string)</li>
<li>A duration (integer, minutes)</li>
<li>A genre (string)</li>
</ul>
<p>Each theater has:</p>
<ul>
<li>A name (string)</li>
<li>A list of movies that are showing at the theater (list)</li>
</ul>
<p>The output should look similar to this, depending on your theater names and movies:</p>
<pre><code>    McMenamin&#39;s Old St. Francis Theater is showing:
        Star Wars (scifi, 125 minutes)
        Shaun of the Dead (romzomcom, 100 minutes)
    Tin Pan Theater is showing:
        Shaun of the Dead (romzomcom, 100 minutes)
        Citizen Kane (drama, 119 minutes)
    Tower Theater is showing:
        Star Wars (scifi, 125 minutes)
        Shaun of the Dead (romzomcom, 100 minutes)
        Citizen Kane (drama, 119 minutes)</code></pre>
<p>Note that multiple theaters might be showing the same movie title. Avoid duplicating the movie data as much as possible. (Remember: Don’t Repeat Yourself!)</p>
<p>Stretch goal: also store the per-theater show times for each movie at that theater.</p>
<h2 id="what-problem-are-we-even-trying-to-solve">What Problem Are We Even Trying To Solve?</h2>
<p>Problem-solving step: <strong>Understanding the Problem</strong>.</p>
<p>Let’s first learn about the problem we’re trying to solve, and then let’s take a look at how classes and objects can help us solve it.</p>
<p>Okay, I said “problem”, but it’s actually multiple problems. Let’s start with the easier one.</p>
<p>Okay, I said “easier”, but really they’re the same.</p>
<p><em>Get on with it!</em></p>
<p>Let’s pretend you have a game where you have a starship that has multiple attributes. For example, it might have two attributes: XYZ coordinates in 3-space (e.g. <code>[10, 20, 30]</code>), and a ship name (e.g. <code>"USS Enterprise"</code>).</p>
<p>These two pieces of information are clearly related. They apply to one single instance of a starship.</p>
<p>If we have multiple starships in the universe, they’ll each have their own names and coordinates.</p>
<p>So far so good?</p>
<p>Now… how do we store that data with what we know so far?</p>
<p>Well, we have lists, so let’s try with those. We’ll have three starships with different names and different locations:</p>
<div class="sourceCode" id="cb272"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb272-1"><a href="#cb272-1" aria-hidden="true" tabindex="-1"></a>    ship_location <span class="op">=</span> [</span>
<span id="cb272-2"><a href="#cb272-2" aria-hidden="true" tabindex="-1"></a>        [<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>],</span>
<span id="cb272-3"><a href="#cb272-3" aria-hidden="true" tabindex="-1"></a>        [<span class="op">-</span><span class="dv">10</span>, <span class="dv">20</span>, <span class="op">-</span><span class="dv">30</span>],</span>
<span id="cb272-4"><a href="#cb272-4" aria-hidden="true" tabindex="-1"></a>        [<span class="dv">10</span>, <span class="op">-</span><span class="dv">20</span>, <span class="dv">30</span>]</span>
<span id="cb272-5"><a href="#cb272-5" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb272-6"><a href="#cb272-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb272-7"><a href="#cb272-7" aria-hidden="true" tabindex="-1"></a>    ship_name <span class="op">=</span> [</span>
<span id="cb272-8"><a href="#cb272-8" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;MCRN Tachi&quot;</span>,</span>
<span id="cb272-9"><a href="#cb272-9" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;Red Dwarf&quot;</span>,</span>
<span id="cb272-10"><a href="#cb272-10" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;USCSS Nostromo&quot;</span></span>
<span id="cb272-11"><a href="#cb272-11" aria-hidden="true" tabindex="-1"></a>    ]</span></code></pre></div>
<p>And then we can access ship #1 like this:</p>
<div class="sourceCode" id="cb273"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb273-1"><a href="#cb273-1" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(ship_name[<span class="dv">1</span>])</span>
<span id="cb273-2"><a href="#cb273-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(ship_location[<span class="dv">1</span>])</span></code></pre></div>
<p>So we have two lists, one for name and one for location<a href="#fn113" class="footnote-ref" id="fnref113" role="doc-noteref"><sup>113</sup></a>.</p>
<p>It works, but it’s a bummer to have to maintain two (or more) lists this way. If we ever added a ship, we have to be sure we add all the information to all the lists and make sure things don’t get out of order. It’s easy to make a mistake and get the lists out of sync.</p>
<p>What would be nice is if we could bundle all the information about one single ship into one single <em>object</em> that held the information about just that one ship. Other ships would be represented by other objects. And then we’d have a list of those objects—just one list to maintain!</p>
<h2 id="what-are-classes-and-objects">What are Classes and Objects?</h2>
<p>Problem-solving step: <strong>Understanding the Problem</strong>.</p>
<p>What we’re starting to delve into here is the world of <em>Object-Oriented Programming</em>. To discuss <em>everything</em> about it would definitely be information overload, so we’re just going to start with the basics here, and revisit some of the concepts later.</p>
<p>A bit of terminology here, following up on the starship example from above.</p>
<p>First of all, we’re going to <em>construct</em> new starship <em>objects</em> that hold all the information about a single ship.</p>
<p>When the object is constructed, it is done based on a blueprint. We call this blueprint a <em>class</em>.</p>
<p>So we’re going to define a blueprint for a starship in a class, and then we’re going to build multiple, different starships based on that class.</p>
<p>Let’s do this as simply as possible to start. It’s not going to be a common way of doing things, but it’s a place to get your feet wet. We’ll fix it soon.</p>
<p>First of all, we’ll define a new class. Remember, this is just the blueprint for starships—it’s not a starship itself.</p>
<p>Class names use <a href="https://en.wikipedia.org/wiki/Camel_case">camel case</a><a href="#fn114" class="footnote-ref" id="fnref114" role="doc-noteref"><sup>114</sup></a> by convention. Let’s define that starship class!</p>
<div class="sourceCode" id="cb274"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb274-1"><a href="#cb274-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">class</span> StarShip:</span>
<span id="cb274-2"><a href="#cb274-2" aria-hidden="true" tabindex="-1"></a>        <span class="cf">pass</span></span></code></pre></div>
<p>…that’s it? What’s that <code>pass</code> in there?</p>
<p>Okay, you got me. I did say we were going to start simple (and not quite <em>Right</em>), in my defense. What we have there is a class <code>StarShip</code>, except it’s like a blank blueprint. There’s nothing in it.</p>
<p>The keyword <code>pass</code> means “do nothing” in Python. It’s just there to indicate to Python that there’s no body inside this class.</p>
<blockquote>
<p><strong>Random Terminology Facts</strong>: We also say a starship object is an <em>instance</em> of the <code>StarShip</code> class.</p>
<p>Constructing a new starship object is also referred to as <em>instantiating</em> the object from the class.</p>
</blockquote>
<p>Let’s go on to make a couple objects from the blueprint.</p>
<div class="sourceCode" id="cb275"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb275-1"><a href="#cb275-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">class</span> StarShip:</span>
<span id="cb275-2"><a href="#cb275-2" aria-hidden="true" tabindex="-1"></a>        <span class="cf">pass</span></span>
<span id="cb275-3"><a href="#cb275-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb275-4"><a href="#cb275-4" aria-hidden="true" tabindex="-1"></a>    s0 <span class="op">=</span> StarShip()</span>
<span id="cb275-5"><a href="#cb275-5" aria-hidden="true" tabindex="-1"></a>    s1 <span class="op">=</span> StarShip()</span>
<span id="cb275-6"><a href="#cb275-6" aria-hidden="true" tabindex="-1"></a>    s2 <span class="op">=</span> StarShip()</span></code></pre></div>
<p>By putting parens after the class name, we’re telling Python that we are creating a new starship object from the <code>StarShip</code> class. In fact, we made three of them, and saved a reference to each in <code>s0</code>, <code>s1</code>, and <code>s2</code>. Of course, none of them have names or locations, but we’ll remedy that shortly.</p>
<p>If we print one, we get something like this:</p>
<div class="sourceCode" id="cb276"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb276-1"><a href="#cb276-1" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(s1)  <span class="co"># &lt;__main__.StarShip object at 0x7fa11828c8e0&gt;</span></span></code></pre></div>
<p>Not so pretty. But we’ll make that better soon, as well.</p>
<h2 id="making-different-starships">Making Different StarShips</h2>
<p>Problem-solving step: <strong>Understanding the Problem</strong>.</p>
<p>In the previous example, all our starship objects were identical and contained no information.</p>
<p>What we need is a way to pass that information in when the starships are constructed.</p>
<p>We do this by defining a special function <em>inside</em> the class.</p>
<blockquote>
<p><strong>Another Fun Terminology Fact</strong>: functions declared inside classes are called <em>methods</em>.</p>
</blockquote>
<p>This special function is always named <code>__init__()</code> (with the dunders) and is called <em>the constructor</em>.</p>
<p>Let’s add a constructor to our <code>StarShip</code> class that allows us to pass in a ship name when the ship is constructed:</p>
<div class="sourceCode" id="cb277"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb277-1"><a href="#cb277-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">class</span> StarShip:</span>
<span id="cb277-2"><a href="#cb277-2" aria-hidden="true" tabindex="-1"></a>        <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, shipname):  <span class="co"># The constructor</span></span>
<span id="cb277-3"><a href="#cb277-3" aria-hidden="true" tabindex="-1"></a>            <span class="va">self</span>.name <span class="op">=</span> shipname</span>
<span id="cb277-4"><a href="#cb277-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb277-5"><a href="#cb277-5" aria-hidden="true" tabindex="-1"></a>    s0 <span class="op">=</span> StarShip(<span class="st">&quot;MCRN Tachi&quot;</span>)</span>
<span id="cb277-6"><a href="#cb277-6" aria-hidden="true" tabindex="-1"></a>    s1 <span class="op">=</span> StarShip(<span class="st">&quot;Red Dwarf&quot;</span>)</span>
<span id="cb277-7"><a href="#cb277-7" aria-hidden="true" tabindex="-1"></a>    s2 <span class="op">=</span> StarShip(<span class="st">&quot;USCSS Nostromo&quot;</span>)</span></code></pre></div>
<p>Whoa, now… that’s a lot of hard-to-read punctuation<a href="#fn115" class="footnote-ref" id="fnref115" role="doc-noteref"><sup>115</sup></a> to sift through.</p>
<p>And there’s that crazy <code>self</code> parameter to the function, whatever that means!</p>
<p>Let’s start with <code>self</code><a href="#fn116" class="footnote-ref" id="fnref116" role="doc-noteref"><sup>116</sup></a>. This is one of the hardest concepts to grok about this chapter, so we’ll spend some time on it.</p>
<p>Remember how the class is the blueprint, and the objects are made from that blueprint?</p>
<p>And how after they’re constructed, you get a reference back to that newly-minted object? (These are the references we were storing in <code>s0</code>, <code>s1</code>, and <code>s2</code>.)</p>
<p>Well, what about the object that’s being constructed <em>right now</em> inside the <code>__init__()</code> method? It already exists, but isn’t fully initialized yet. But inside the constructor, we have a reference to that object that is being built right now. And that reference is in <code>self</code>.</p>
<p><code>self</code> means “the object that this method is operating on”.</p>
<p>What’s weird is that when we instantiated the starships, we only passed one argument to <code>__init()__</code>.</p>
<div class="sourceCode" id="cb278"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb278-1"><a href="#cb278-1" aria-hidden="true" tabindex="-1"></a>    s0 <span class="op">=</span> StarShip(<span class="st">&quot;MCRN Tachi&quot;</span>)</span></code></pre></div>
<p>When clearly <code>__init__()</code> has two parameters: <code>self</code> and <code>name</code>. What gives?</p>
<div class="sourceCode" id="cb279"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb279-1"><a href="#cb279-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, shipname):  <span class="co"># The constructor</span></span></code></pre></div>
<p>Doesn’t the number of arguments need to match the number of parameters?</p>
<p>It does! But Python’s doing something sneaky behind your back, here. When a method has been called for a particular object, Python automagically fills in the first parameter with the object that is being operated on. We don’t have to worry about it.</p>
<p>Python then takes the arguments we <em>did</em> pass, and tacks them on after that.</p>
<p>Let’s take a look at that constructor again:</p>
<div class="sourceCode" id="cb280"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb280-1"><a href="#cb280-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">class</span> StarShip:</span>
<span id="cb280-2"><a href="#cb280-2" aria-hidden="true" tabindex="-1"></a>        <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, shipname):  <span class="co"># The constructor</span></span>
<span id="cb280-3"><a href="#cb280-3" aria-hidden="true" tabindex="-1"></a>            <span class="va">self</span>.name <span class="op">=</span> shipname</span>
<span id="cb280-4"><a href="#cb280-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb280-5"><a href="#cb280-5" aria-hidden="true" tabindex="-1"></a>    s0 <span class="op">=</span> StarShip(<span class="st">&quot;MCRN Tachi&quot;</span>)</span></code></pre></div>
<p>This is a really common pattern, so let’s make sure we understand what’s going on here. In particular, there’s a weird dot after <code>self</code>. What does that mean? But before we get there, let’s look at <code>shipname</code>.</p>
<p>When we create our new starship <code>s0</code>, we pass in the name <code>"MCRN Tachi"</code>. This calls the constructor <code>__init__()</code>.</p>
<p>Python automatically puts a reference to the object that’s now being constructed into <code>self</code>. And then it copies the string <code>"MCRN Tachi"</code> to the <code>shipname</code> parameter of the function. So <code>shipname</code> is <code>"MCRN Tachi"</code>.</p>
<p>And now we’re to the guts of the thing. <code>self.name</code>? The saga continues!</p>
<h2 id="attributes">Attributes</h2>
<p>Problem-solving step: <strong>Understanding the Problem</strong>.</p>
<p>Objects have variables attached to them, and we call these <em>attributes</em><a href="#fn117" class="footnote-ref" id="fnref117" role="doc-noteref"><sup>117</sup></a>.</p>
<p>Attributes are qualities that an object possesses—what things it <em>has</em>. For example, a starship would possess a name. In other words, a starship would have a name attribute.</p>
<p>And we refer to these attribute by using the dot operator (<code>.</code>).</p>
<p>When we have a line like this:</p>
<div class="sourceCode" id="cb281"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb281-1"><a href="#cb281-1" aria-hidden="true" tabindex="-1"></a>    <span class="va">self</span>.name <span class="op">=</span> shipname</span></code></pre></div>
<p>We’re saying “change the <code>name</code> attribute on this starship object to be the same as the <code>shipname</code> parameter that was passed into this method”.</p>
<p>This is how we take the ship name that was passed in as an argument and attach it to the newly-constructed object! We save a reference to the name in an attribute on the object!</p>
<p>Note that I named <code>shipname</code> different than <code>ship</code> deliberately. (I did this to show that they <em>could</em> be different, but also to avoid confusion when looking at the example.) But it’s far more common to just name them the same thing. This is OK since <code>self.name</code>, the attribute on <code>self</code>, is different than <code>name</code>, the parameter.</p>
<p>Like so:</p>
<div class="sourceCode" id="cb282"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb282-1"><a href="#cb282-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">class</span> StarShip:</span>
<span id="cb282-2"><a href="#cb282-2" aria-hidden="true" tabindex="-1"></a>        <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, name):  <span class="co"># The constructor</span></span>
<span id="cb282-3"><a href="#cb282-3" aria-hidden="true" tabindex="-1"></a>            <span class="va">self</span>.name <span class="op">=</span> name</span></code></pre></div>
<h2 id="using-attributes">Using Attributes</h2>
<p>Problem-solving step: <strong>Understanding the Problem</strong>.</p>
<p>Now let’s add one more thing to our starships: their location.</p>
<p>Instead of passing the location into the constructor, let’s just initialize it to location <code>[0,0,0]</code> right off the bat. Then we can manually set it later.</p>
<div class="sourceCode" id="cb283"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb283-1"><a href="#cb283-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">class</span> StarShip:</span>
<span id="cb283-2"><a href="#cb283-2" aria-hidden="true" tabindex="-1"></a>        <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, name):  <span class="co"># The constructor</span></span>
<span id="cb283-3"><a href="#cb283-3" aria-hidden="true" tabindex="-1"></a>            <span class="va">self</span>.name <span class="op">=</span> name</span>
<span id="cb283-4"><a href="#cb283-4" aria-hidden="true" tabindex="-1"></a>            <span class="va">self</span>.location <span class="op">=</span> [<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>]   <span class="co"># &lt;-- Add this</span></span></code></pre></div>
<p>All ships will now start off at <code>[0,0,0]</code> because that’s what the blueprint says they’ll do.</p>
<p>And we can print it! We’ll access the values in those attributes by using the dot operator on <code>s0</code>!</p>
<div class="sourceCode" id="cb284"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb284-1"><a href="#cb284-1" aria-hidden="true" tabindex="-1"></a>    s0 <span class="op">=</span> StarShip(<span class="st">&quot;MCRN Tachi&quot;</span>)</span>
<span id="cb284-2"><a href="#cb284-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb284-3"><a href="#cb284-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(s0.name)       <span class="co"># MCRN Tachi</span></span>
<span id="cb284-4"><a href="#cb284-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(s0.location)   <span class="co"># [0, 0, 0]</span></span></code></pre></div>
<p>But wait! There’s more! That’s not all!</p>
<p>You can also <em>set</em> values!</p>
<div class="sourceCode" id="cb285"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb285-1"><a href="#cb285-1" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(s0.name)   <span class="co"># MCRN Tachi</span></span>
<span id="cb285-2"><a href="#cb285-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb285-3"><a href="#cb285-3" aria-hidden="true" tabindex="-1"></a>    s0.name <span class="op">=</span> <span class="st">&quot;Rocinante&quot;</span></span>
<span id="cb285-4"><a href="#cb285-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb285-5"><a href="#cb285-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(s0.name)   <span class="co"># Rocinante</span></span></code></pre></div>
<p>And we could modify the location of the ship this way, as well:</p>
<pre><code>    s0.location[1] = 99
    
    print(s0.location)  # [0, 99, 0]</code></pre>
<p><em>This is important!</em> Even though we’re changing the values for the attributes of <code>s0</code>, the attributes of the other objects (like <code>s1</code> and <code>s2</code>) remain unchanged! (Until we explicitly change them.)</p>
<p>We’ve successfully bundled all the information about a single ship into this single object. Nice and consolidated.</p>
<h2 id="more-on-methods">More on Methods</h2>
<p>Problem-solving step: <strong>Understanding the Problem</strong>.</p>
<p>Remember that methods are functions that are connected to the object. Just like you could think of attributes as things the object <em>has</em>, you can think of methods like things the object <em>does</em>.</p>
<p>Let’s add another method to set the ship location.</p>
<div class="sourceCode" id="cb287"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python"><span id="cb287-1"><a href="#cb287-1"></a><span class="kw">class</span> StarShip:</span>
<span id="cb287-2"><a href="#cb287-2"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, name):  <span class="co"># The constructor</span></span>
<span id="cb287-3"><a href="#cb287-3"></a>        <span class="va">self</span>.name <span class="op">=</span> name</span>
<span id="cb287-4"><a href="#cb287-4"></a>        <span class="va">self</span>.location <span class="op">=</span> [<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>]   <span class="co"># &lt;-- Add this</span></span>
<span id="cb287-5"><a href="#cb287-5"></a></span>
<span id="cb287-6"><a href="#cb287-6"></a>    <span class="kw">def</span> set_location(<span class="va">self</span>, x, y, z):</span>
<span id="cb287-7"><a href="#cb287-7"></a>        <span class="co">&quot;&quot;&quot;Set a ship&#39;s location to x,y,z&quot;&quot;&quot;</span></span>
<span id="cb287-8"><a href="#cb287-8"></a></span>
<span id="cb287-9"><a href="#cb287-9"></a>        <span class="va">self</span>.location[<span class="dv">0</span>] <span class="op">=</span> x</span>
<span id="cb287-10"><a href="#cb287-10"></a>        <span class="va">self</span>.location[<span class="dv">1</span>] <span class="op">=</span> y</span>
<span id="cb287-11"><a href="#cb287-11"></a>        <span class="va">self</span>.location[<span class="dv">2</span>] <span class="op">=</span> z</span>
<span id="cb287-12"><a href="#cb287-12"></a></span>
<span id="cb287-13"><a href="#cb287-13"></a>s0 <span class="op">=</span> StarShip(<span class="st">&quot;MCRN Tachi&quot;</span>)</span>
<span id="cb287-14"><a href="#cb287-14"></a></span>
<span id="cb287-15"><a href="#cb287-15"></a><span class="bu">print</span>(s0.location)  <span class="co"># [0, 0, 0]</span></span>
<span id="cb287-16"><a href="#cb287-16"></a></span>
<span id="cb287-17"><a href="#cb287-17"></a>s0.set_location(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>)</span>
<span id="cb287-18"><a href="#cb287-18"></a></span>
<span id="cb287-19"><a href="#cb287-19"></a><span class="bu">print</span>(s0.location)  <span class="co"># [10, 20, 30]</span></span></code></pre></div>
<p>On line 6, we define our new method, <code>set_location()</code>. Importantly, notice the first parameter is <code>self</code>, which will be initialized to represent the object we’re setting the location of. (That is, when we call <code>s0.set_location()</code>, <code>self</code> will be set to refer to <code>s0</code> inside <code>set_location()</code>.)</p>
<blockquote>
<p><strong>Fun Debugging Fact</strong>: If you get an error about incorrect number of arguments to your method, make sure you have <code>self</code> as the first parameter!</p>
</blockquote>
<p>Then on line 17, when we call <code>set_location()</code> on <code>s0</code>, <code>self</code> gets set to <code>s0</code>, and <code>x</code>, <code>y</code>, and <code>z</code> get set to <code>10</code>, <code>20</code>, and <code>30</code>, respectively.</p>
<p>Then we use <code>x</code>, <code>y</code>, <code>z</code>, and <code>self</code> inside the method to change the values in this ship’s location.</p>
<p>This way, when we print it out on line 19, we see the new values there.</p>
<p>Attributes!</p>
<h2 id="pretty-printing">Pretty Printing</h2>
<p>Right now when we print one of our starship objects, Python prints something like this on the screen:</p>
<pre><code>    &lt;__main__.StarShip object at 0x7fa11828c8e0&gt;</code></pre>
<p>Not particularly useful. Let’s <em>override</em> that functionality and have it print something nicer.</p>
<p>Go ahead and add this method to the <code>StarShip</code> class:</p>
<div class="sourceCode" id="cb289"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb289-1"><a href="#cb289-1" aria-hidden="true" tabindex="-1"></a>        <span class="kw">def</span> <span class="fu">__str__</span>(<span class="va">self</span>):</span>
<span id="cb289-2"><a href="#cb289-2" aria-hidden="true" tabindex="-1"></a>            <span class="co">&quot;&quot;&quot;Return string representation of this object.&quot;&quot;&quot;</span></span>
<span id="cb289-3"><a href="#cb289-3" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="ss">f&#39;</span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>name<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>location<span class="sc">}</span><span class="ss">&#39;</span></span></code></pre></div>
<p>The <code>__str__()</code> method returns a string to use any time an object is printed.</p>
<p>Now if we build three new ships and print them all:</p>
<div class="sourceCode" id="cb290"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb290-1"><a href="#cb290-1" aria-hidden="true" tabindex="-1"></a>    s0 <span class="op">=</span> StarShip(<span class="st">&quot;Rocinante&quot;</span>)</span>
<span id="cb290-2"><a href="#cb290-2" aria-hidden="true" tabindex="-1"></a>    s1 <span class="op">=</span> StarShip(<span class="st">&quot;Red Dwarf&quot;</span>)</span>
<span id="cb290-3"><a href="#cb290-3" aria-hidden="true" tabindex="-1"></a>    s2 <span class="op">=</span> StarShip(<span class="st">&quot;USCSS Nostromo&quot;</span>)</span>
<span id="cb290-4"><a href="#cb290-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb290-5"><a href="#cb290-5" aria-hidden="true" tabindex="-1"></a>    s0.set_location(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>)</span>
<span id="cb290-6"><a href="#cb290-6" aria-hidden="true" tabindex="-1"></a>    s1.set_location(<span class="dv">40</span>, <span class="dv">50</span>, <span class="dv">60</span>)</span>
<span id="cb290-7"><a href="#cb290-7" aria-hidden="true" tabindex="-1"></a>    s2.set_location(<span class="dv">70</span>, <span class="dv">80</span>, <span class="dv">90</span>)</span>
<span id="cb290-8"><a href="#cb290-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb290-9"><a href="#cb290-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(s0)</span>
<span id="cb290-10"><a href="#cb290-10" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(s1)</span>
<span id="cb290-11"><a href="#cb290-11" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(s2)</span></code></pre></div>
<p>We get some nice output, like this:</p>
<pre><code>    Rocinante: [10, 20, 30]
    Red Dwarf: [40, 50, 60]
    USCSS Nostromo: [70, 80, 90]</code></pre>
<p>Perfect!</p>
<h2 id="objects-are-mutable">Objects are Mutable</h2>
<p>When you assign one object to another, you don’t get a second object. You get another reference to the first object. Just like happens with lists and dictionaries.</p>
<p>Or, another way, doing an assignment with an object does <em>not</em> result in a new object. Both variables are names for the same object. (<a href="#assignment-behavior">Check out Appendix C for details</a>.)</p>
<div class="sourceCode" id="cb292"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb292-1"><a href="#cb292-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">class</span> Forest:</span>
<span id="cb292-2"><a href="#cb292-2" aria-hidden="true" tabindex="-1"></a>        <span class="cf">pass</span></span>
<span id="cb292-3"><a href="#cb292-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb292-4"><a href="#cb292-4" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> Forest()  <span class="co"># Construct a new object</span></span>
<span id="cb292-5"><a href="#cb292-5" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> x</span>
<span id="cb292-6"><a href="#cb292-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb292-7"><a href="#cb292-7" aria-hidden="true" tabindex="-1"></a>    x.antelopes <span class="op">=</span> <span class="dv">4</span></span>
<span id="cb292-8"><a href="#cb292-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb292-9"><a href="#cb292-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(y.antelopes)  <span class="co"># 4, since y and x refer to the same object</span></span></code></pre></div>
<p>This means you can pass objects to functions as arguments, and the function can change the values in the object’s attributes.</p>
<div class="sourceCode" id="cb293"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb293-1"><a href="#cb293-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> set_antelopes_to_10(o):</span>
<span id="cb293-2"><a href="#cb293-2" aria-hidden="true" tabindex="-1"></a>        o.antelopes <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb293-3"><a href="#cb293-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb293-4"><a href="#cb293-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">class</span> Forest:</span>
<span id="cb293-5"><a href="#cb293-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">pass</span></span>
<span id="cb293-6"><a href="#cb293-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb293-7"><a href="#cb293-7" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> Forest()</span>
<span id="cb293-8"><a href="#cb293-8" aria-hidden="true" tabindex="-1"></a>    x.antelopes <span class="op">=</span> <span class="dv">4</span></span>
<span id="cb293-9"><a href="#cb293-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb293-10"><a href="#cb293-10" aria-hidden="true" tabindex="-1"></a>    set_antelopes_to_10(x)</span>
<span id="cb293-11"><a href="#cb293-11" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb293-12"><a href="#cb293-12" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(x.antelopes)  <span class="co"># 10!</span></span></code></pre></div>
<p>Remember that when you call a function, it is assigning the argument into the parameter name, so both of them refer to the same object. That is, in the code above, <code>o</code> refers to the same object <code>x</code> does, just as if we’d done an assignment with <code>o = x</code>.</p>
<h2 id="objects-and-none">Objects and <code>None</code></h2>
<p>We’ve already seen that variables can point to the value <code>None</code> to indicate nothing.</p>
<p>This gets commonly used with objects to indicate some “not found” or error condition.</p>
<p>For example, let’s have a list of objects and a function to search them by name. The function should return the object that has a <code>name</code> attribute that matches the <code>name</code> parameter to the function.</p>
<p>But a question should naturally arise! What if there is no object by that name in the list? What should the function return? <code>None</code> is a prime candidate here.</p>
<div class="sourceCode" id="cb294"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python"><span id="cb294-1"><a href="#cb294-1"></a><span class="kw">class</span> Person:</span>
<span id="cb294-2"><a href="#cb294-2"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, name):</span>
<span id="cb294-3"><a href="#cb294-3"></a>        <span class="va">self</span>.name <span class="op">=</span> name</span>
<span id="cb294-4"><a href="#cb294-4"></a>    </span>
<span id="cb294-5"><a href="#cb294-5"></a>    <span class="kw">def</span> <span class="fu">__str__</span>(<span class="va">self</span>):</span>
<span id="cb294-6"><a href="#cb294-6"></a>        <span class="cf">return</span> <span class="va">self</span>.name</span>
<span id="cb294-7"><a href="#cb294-7"></a></span>
<span id="cb294-8"><a href="#cb294-8"></a><span class="kw">def</span> get_person_by_name(person_list, name):</span>
<span id="cb294-9"><a href="#cb294-9"></a>    <span class="co">&quot;&quot;&quot;Return a person object with this name, or None if not found&quot;&quot;&quot;</span></span>
<span id="cb294-10"><a href="#cb294-10"></a>    <span class="cf">for</span> p <span class="kw">in</span> person_list:</span>
<span id="cb294-11"><a href="#cb294-11"></a>        <span class="cf">if</span> p.name <span class="op">==</span> name: </span>
<span id="cb294-12"><a href="#cb294-12"></a>            <span class="co"># If we found them, return the object</span></span>
<span id="cb294-13"><a href="#cb294-13"></a>            <span class="cf">return</span> p</span>
<span id="cb294-14"><a href="#cb294-14"></a></span>
<span id="cb294-15"><a href="#cb294-15"></a>    <span class="co"># If we got here, we didn&#39;t find anyone by that name</span></span>
<span id="cb294-16"><a href="#cb294-16"></a>    <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb294-17"><a href="#cb294-17"></a></span>
<span id="cb294-18"><a href="#cb294-18"></a>person_list <span class="op">=</span> [</span>
<span id="cb294-19"><a href="#cb294-19"></a>    Person(<span class="st">&quot;Annie&quot;</span>),</span>
<span id="cb294-20"><a href="#cb294-20"></a>    Person(<span class="st">&quot;Beej&quot;</span>),</span>
<span id="cb294-21"><a href="#cb294-21"></a>    Person(<span class="st">&quot;Chris&quot;</span>)</span>
<span id="cb294-22"><a href="#cb294-22"></a>]</span>
<span id="cb294-23"><a href="#cb294-23"></a></span>
<span id="cb294-24"><a href="#cb294-24"></a>p <span class="op">=</span> get_person_by_name(person_list, <span class="st">&quot;Chris&quot;</span>)</span>
<span id="cb294-25"><a href="#cb294-25"></a></span>
<span id="cb294-26"><a href="#cb294-26"></a><span class="bu">print</span>(p)  <span class="co"># &quot;Chris&quot;</span></span>
<span id="cb294-27"><a href="#cb294-27"></a></span>
<span id="cb294-28"><a href="#cb294-28"></a>p <span class="op">=</span> get_person_by_name(person_list, <span class="st">&quot;Dave&quot;</span>)</span>
<span id="cb294-29"><a href="#cb294-29"></a></span>
<span id="cb294-30"><a href="#cb294-30"></a><span class="cf">if</span> p <span class="kw">is</span> <span class="va">None</span>:</span>
<span id="cb294-31"><a href="#cb294-31"></a>    <span class="bu">print</span>(<span class="st">&quot;Dave&#39;s not here.&quot;</span>)</span></code></pre></div>
<h2 id="testing-for-attributes">Testing for Attributes</h2>
<p>Sometimes at runtime you want to see if an object has an attribute or not. Or maybe you have the attribute name as a string and you want to get or set that attribute on an object.</p>
<p>Three built-in functions help make this happen:</p>
<ul>
<li><code>hasattr()</code> tests to see if an attribute exists on an object.</li>
<li><code>getattr()</code> returns the value of an attribute, optionally returning a default value if the attribute doesn’t exist.</li>
<li><code>setattr()</code> sets the value of an attribute, creating it if it doesn’t exist.</li>
</ul>
<p>This gives you more flexibility in writing your objects, because then you can have <em>optional</em> attributes on them.</p>
<p>Let’s demo!</p>
<div class="sourceCode" id="cb295"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb295-1"><a href="#cb295-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">class</span> Foo:</span>
<span id="cb295-2"><a href="#cb295-2" aria-hidden="true" tabindex="-1"></a>        <span class="cf">pass</span></span>
<span id="cb295-3"><a href="#cb295-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb295-4"><a href="#cb295-4" aria-hidden="true" tabindex="-1"></a>    f <span class="op">=</span> Foo()</span>
<span id="cb295-5"><a href="#cb295-5" aria-hidden="true" tabindex="-1"></a>    f.bar <span class="op">=</span> <span class="dv">12</span></span>
<span id="cb295-6"><a href="#cb295-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb295-7"><a href="#cb295-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="bu">hasattr</span>(f, <span class="st">&quot;bar&quot;</span>))    <span class="co"># True</span></span>
<span id="cb295-8"><a href="#cb295-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="bu">hasattr</span>(f, <span class="st">&quot;frotz&quot;</span>))  <span class="co"># False</span></span>
<span id="cb295-9"><a href="#cb295-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb295-10"><a href="#cb295-10" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="bu">getattr</span>(f, <span class="st">&quot;bar&quot;</span>))           <span class="co"># 12</span></span>
<span id="cb295-11"><a href="#cb295-11" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="bu">getattr</span>(f, <span class="st">&quot;frotz&quot;</span>, <span class="va">None</span>))   <span class="co"># None, since attr frotz doesn&#39;t exist</span></span>
<span id="cb295-12"><a href="#cb295-12" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb295-13"><a href="#cb295-13" aria-hidden="true" tabindex="-1"></a>    <span class="bu">setattr</span>(f, <span class="st">&quot;frotz&quot;</span>, <span class="dv">99</span>)  <span class="co"># Just like saying &quot;f.frotz = 99&quot;</span></span>
<span id="cb295-14"><a href="#cb295-14" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb295-15"><a href="#cb295-15" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(f.frotz)  <span class="co"># 99</span></span></code></pre></div>
<p>I wouldn’t say that these functions get a lot of day-to-day use, but they’re a powerful thing to add to your toolkit.</p>
<h2 id="chapter-project-2">Chapter Project</h2>
<p>In case you’ve forgotten, <a href="#class-chap-proj">review the chapter project specification at the beginning of this chapter</a>.</p>
<p>Problem-solving step: <strong>Understanding the Problem</strong>.</p>
<p>Looks like we need to store information about a number of theaters, as well as information about a number of movies.</p>
<p>And a movie might be showing in multiple theaters simultaneously.</p>
<p>Problem-solving step: <strong>Devising a Plan</strong></p>
<p>There are a lot of ways to store this data. But since this chapter is all about classes and objects, how about we use those?</p>
<p>Looks like we should have a <code>Theater</code> class to handle information about each theater.</p>
<p>And a <code>Movie</code> class to handle information about each movie.</p>
<p>And a theater can be showing several movies, so we can give it an attribute that is a list of movies that is currently showing there.</p>
<p>We’ll also keep a list of all the theaters and a list of all the movies, as well.</p>
<p>Problem-solving step: <strong>Carrying Out the Plan</strong></p>
<p>Here’s a theater class. We pass a name to the constructor, but initialize the movies to an empty list. We can fill them in later.</p>
<div class="sourceCode" id="cb296"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python"><span id="cb296-1"><a href="#cb296-1"></a><span class="kw">class</span> Theater:</span>
<span id="cb296-2"><a href="#cb296-2"></a>    <span class="co">&quot;&quot;&quot;Holds all the information about a specific theater.&quot;&quot;&quot;</span></span>
<span id="cb296-3"><a href="#cb296-3"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, name):</span>
<span id="cb296-4"><a href="#cb296-4"></a>        <span class="va">self</span>.name <span class="op">=</span> name</span>
<span id="cb296-5"><a href="#cb296-5"></a>        <span class="va">self</span>.movies <span class="op">=</span> []</span>
<span id="cb296-6"><a href="#cb296-6"></a> </span></code></pre></div>
<p>and a movie class:</p>
<div class="sourceCode" id="cb297" data-startFrom="7"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python" style="counter-reset: source-line 6;"><span id="cb297-7"><a href="#cb297-7"></a><span class="kw">class</span> Movie:</span>
<span id="cb297-8"><a href="#cb297-8"></a>    <span class="co">&quot;&quot;&quot;Holds all the information about a specific movie.&quot;&quot;&quot;</span></span>
<span id="cb297-9"><a href="#cb297-9"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, name, duration, genre):</span>
<span id="cb297-10"><a href="#cb297-10"></a>        <span class="va">self</span>.name <span class="op">=</span> name</span>
<span id="cb297-11"><a href="#cb297-11"></a>        <span class="va">self</span>.duration <span class="op">=</span> duration</span>
<span id="cb297-12"><a href="#cb297-12"></a>        <span class="va">self</span>.genre <span class="op">=</span> genre</span>
<span id="cb297-13"><a href="#cb297-13"></a> </span></code></pre></div>
<p>So far so good.</p>
<p>Now we need to instantiate a bunch of movies so that we can add them to the theaters’ <code>.movie</code> lists.</p>
<p>There are a couple things we could do.</p>
<p>We could use one variable per movie, but that’s a bit unwieldy. Let’s use some kind of collection, like a list! We’ll make one for all the movies and all the theaters. Go ahead and add your favorites.</p>
<div class="sourceCode" id="cb298" data-startFrom="14"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python" style="counter-reset: source-line 13;"><span id="cb298-14"><a href="#cb298-14"></a>movies <span class="op">=</span> [</span>
<span id="cb298-15"><a href="#cb298-15"></a>    Movie(<span class="st">&quot;Star Wars&quot;</span>, <span class="dv">125</span>, <span class="st">&quot;scifi&quot;</span>),</span>
<span id="cb298-16"><a href="#cb298-16"></a>    Movie(<span class="st">&quot;Shaun of the Dead&quot;</span>, <span class="dv">100</span>, <span class="st">&quot;romzomcom&quot;</span>),</span>
<span id="cb298-17"><a href="#cb298-17"></a>    Movie(<span class="st">&quot;Citizen Kane&quot;</span>, <span class="dv">119</span>, <span class="st">&quot;drama&quot;</span>)</span>
<span id="cb298-18"><a href="#cb298-18"></a>]</span>
<span id="cb298-19"><a href="#cb298-19"></a></span>
<span id="cb298-20"><a href="#cb298-20"></a>theaters <span class="op">=</span> [</span>
<span id="cb298-21"><a href="#cb298-21"></a>    Theater(<span class="st">&quot;McMenamin&#39;s Old St. Francis Theater&quot;</span>),</span>
<span id="cb298-22"><a href="#cb298-22"></a>    Theater(<span class="st">&quot;Tin Pan Theater&quot;</span>),</span>
<span id="cb298-23"><a href="#cb298-23"></a>    Theater(<span class="st">&quot;Tower Theater&quot;</span>)</span>
<span id="cb298-24"><a href="#cb298-24"></a>]</span>
<span id="cb298-25"><a href="#cb298-25"></a> </span></code></pre></div>
<p>Take a look in there to see what we’ve done. Notice that <code>movies</code> is a list, and inside the list, while we’re initializing it, we’re constructing new <code>Movie</code> objects.</p>
<p>And we do the same thing with <code>theaters</code>. It’s a list of newly-constructed <code>Theater</code> objects.</p>
<p>Nextly, we need to associate those movies with the theaters that are showing them.</p>
<p>Remember that each <code>Theater</code> object has a list of movies in its <code>.movies</code> attribute. So we need to append the movies to that list.</p>
<p>This next bit is a little cryptic, so make sure</p>
<div class="sourceCode" id="cb299" data-startFrom="26"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python" style="counter-reset: source-line 25;"><span id="cb299-26"><a href="#cb299-26"></a><span class="co"># McMenamin&#39;s is showing Star Wars and Shaun of the Dead</span></span>
<span id="cb299-27"><a href="#cb299-27"></a>theaters[<span class="dv">0</span>].movies.append(movies[<span class="dv">0</span>])</span>
<span id="cb299-28"><a href="#cb299-28"></a>theaters[<span class="dv">0</span>].movies.append(movies[<span class="dv">1</span>])</span>
<span id="cb299-29"><a href="#cb299-29"></a> </span></code></pre></div>
<p>What’s that saying?</p>
<p>Well, take it a bit at a time, each line from left to right.</p>
<p>What’s <code>theaters[0]</code>?</p>
<p>If we look in our <code>theaters</code> list, we see that’s McMenamin’s.</p>
<p>And then we get its movie list with <code>theaters[0].movies</code>.</p>
<p>Its movies list is a list, so we can use the <code>.append()</code> list method to add a movie to it. But which movie to append?</p>
<p>We append <code>movies[0]</code>… and if we look in our <code>movies</code> list, we see that’s <em>Star Wars</em>.</p>
<p>So <code>theater[0]</code> is McMenamin’s, and <code>movies[0]</code> is <em>Star Wars</em>.</p>
<p>That means the first line, above, is saying, “Append ‘Star Wars’ to McMenamin’s list of currently-showing movies.”</p>
<p>And the line below that is saying, “Append ‘Shaun of the Dead’ to McMenamin’s list of currently-showing movies.”</p>
<p>Let’s do some more. What do each of these lines do?</p>
<div class="sourceCode" id="cb300" data-startFrom="30"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python" style="counter-reset: source-line 29;"><span id="cb300-30"><a href="#cb300-30"></a><span class="co"># Tin Pan is showing Shaun of the Dead and Fastest Indian</span></span>
<span id="cb300-31"><a href="#cb300-31"></a>theaters[<span class="dv">1</span>].movies.append(movies[<span class="dv">1</span>])</span>
<span id="cb300-32"><a href="#cb300-32"></a>theaters[<span class="dv">1</span>].movies.append(movies[<span class="dv">2</span>])</span>
<span id="cb300-33"><a href="#cb300-33"></a></span>
<span id="cb300-34"><a href="#cb300-34"></a><span class="co"># Tower is showing all three</span></span>
<span id="cb300-35"><a href="#cb300-35"></a>theaters[<span class="dv">2</span>].movies.append(movies[<span class="dv">0</span>])</span>
<span id="cb300-36"><a href="#cb300-36"></a>theaters[<span class="dv">2</span>].movies.append(movies[<span class="dv">1</span>])</span>
<span id="cb300-37"><a href="#cb300-37"></a>theaters[<span class="dv">2</span>].movies.append(movies[<span class="dv">2</span>])</span>
<span id="cb300-38"><a href="#cb300-38"></a> </span></code></pre></div>
<p>What we’ve done here, effectively, is linked up all the movie objects with their respective theaters.</p>
<p>Notice how movies are listed in multiple theaters. For example <code>movies[0]</code> (<em>Star Wars</em>) is in <code>theaters[0]</code> (McMenamin’s) <strong>and</strong> also in <code>theaters[2]</code> (Tower).</p>
<p>Does that mean there are two copies of the <em>Star Wars</em> <code>Movie</code> object? Since it’s in two theaters?</p>
<p>Think carefully!</p>
<p>No, there’s just one! The one we created back on line 15! Since it’s an object, making a “copy” through assignment (or with <code>.append()</code>) just makes another reference to the same object. There’s only one, but it’s referred two by two <code>Theater</code> objects. And also referred to by the <code>movies</code> list. So many references to the same object for good memory savings.</p>
<p>Now we want to print out all the theaters and their showtimes. I’m going to make a helper function here to print a single theater’s data. We’ll pass in a reference to a theater object, print its name, and then print the data for all the movies in its <code>.movies</code> list.</p>
<div class="sourceCode" id="cb301" data-startFrom="39"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python" style="counter-reset: source-line 38;"><span id="cb301-39"><a href="#cb301-39"></a><span class="kw">def</span> print_theater(theater):</span>
<span id="cb301-40"><a href="#cb301-40"></a>    <span class="co">&quot;&quot;&quot;Print all the information about a theater.&quot;&quot;&quot;</span></span>
<span id="cb301-41"><a href="#cb301-41"></a></span>
<span id="cb301-42"><a href="#cb301-42"></a>    <span class="bu">print</span>(<span class="ss">f&#39;</span><span class="sc">{</span>theater<span class="sc">.</span>name<span class="sc">}</span><span class="ss"> is showing:&#39;</span>)</span>
<span id="cb301-43"><a href="#cb301-43"></a></span>
<span id="cb301-44"><a href="#cb301-44"></a>    <span class="cf">for</span> m <span class="kw">in</span> theater.movies:</span>
<span id="cb301-45"><a href="#cb301-45"></a>        <span class="bu">print</span>(<span class="ss">f&#39;    </span><span class="sc">{m.</span>name<span class="sc">}</span><span class="ss"> (</span><span class="sc">{m.</span>genre<span class="sc">}</span><span class="ss">, </span><span class="sc">{m.</span>duration<span class="sc">}</span><span class="ss"> minutes)&#39;</span>)</span>
<span id="cb301-46"><a href="#cb301-46"></a> </span></code></pre></div>
<p>And lastly, all we have to do is call <code>print_theater()</code> for all the theaters in our <code>theaters</code> list:</p>
<div class="sourceCode" id="cb302" data-startFrom="47"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python" style="counter-reset: source-line 46;"><span id="cb302-47"><a href="#cb302-47"></a><span class="co"># Main code</span></span>
<span id="cb302-48"><a href="#cb302-48"></a><span class="cf">for</span> t <span class="kw">in</span> theaters:</span>
<span id="cb302-49"><a href="#cb302-49"></a>    print_theater(t)</span></code></pre></div>
<p>There we have it! (<a href="https://beej.us/guide/bgpython/examples/moviesign.py">Solution</a><a href="#fn118" class="footnote-ref" id="fnref118" role="doc-noteref"><sup>118</sup></a>.)</p>
<p>Problem-solving step: <strong>Looking Back</strong>.</p>
<p>Check out how we looked at the problem description (which basically said “theaters show movies, and a movie might be shown at multiple theaters”) and mapped that into two classes to hold the information per theater and per movie.</p>
<p>Notice how the classes keep all the information for a theater or movie in a self-contained single object. Nice and clean, plus it’s easy to pass around a reference to an object if another function wants to use it.</p>
<p>What are some shortcomings?</p>
<p>Those lines where we add the movies to theaters are pretty hard to read. And they refer to things like <code>movies[0]</code> instead of referring to them by name.</p>
<p>It might be convenient to have some kind of helper function that could look up the movie object by name, similar to this:</p>
<div class="sourceCode" id="cb303"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb303-1"><a href="#cb303-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> find_movie_by_name(movies, name):</span>
<span id="cb303-2"><a href="#cb303-2" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> m <span class="kw">in</span> movies:</span>
<span id="cb303-3"><a href="#cb303-3" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> m.name <span class="op">==</span> name:</span>
<span id="cb303-4"><a href="#cb303-4" aria-hidden="true" tabindex="-1"></a>                <span class="cf">return</span> m</span>
<span id="cb303-5"><a href="#cb303-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb303-6"><a href="#cb303-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">None</span>   <span class="co"># Didn&#39;t find it</span></span></code></pre></div>
<p>and use that to clean up the code a bit. And something similar for theaters. (Of course, the more movies you have, the longer it takes to find one. A dictionary might be a faster data structure to use here.)</p>
<p>But this approach doesn’t handle the case where there are two movies or theaters of the same name. So another workaround would have to be found there—maybe a unique identifier number for each theater and movie that we’d key off instead?</p>
<p>Now… what about that stretch goal to add movie times to all this?</p>
<p>Problem-solving step: <strong>Understanding the Problem</strong>.</p>
<p>This one might not seem tricky at first, but it comes to get you with the details.</p>
<p>You might think, no problem, we’ll just add times to the <code>Movie</code> class, right?</p>
<p>Yes, but… Different theaters are all showing the same movie. But at different times.</p>
<p>If you think about it, the times a movie is showing is more data attached to the <em>theater</em>, and not really data attached to the the <em>movie</em>. It would make no sense for Disney to say, “Coming this Winter: Star Wars Episode 47, at 8 pm and 10 pm!” They don’t know when theaters are going to show the movie!</p>
<p>Okay, then, let’s attach the times to the <code>Theater</code> class.</p>
<p>But this presents us with another problem. How do we associate a set of times with a particular <code>Movie</code> object? We need a way in code to show that they’re linked so that we can print them out together.</p>
<p>Problem-solving step: <strong>Devising a Plan</strong></p>
<p>We can do this with a new class—call it <code>MovieTime</code>—that contains both a reference to a movie <em>and</em> a list of times that movie is showing. And then we can add instances of this new class to the <code>Theater</code> objects.</p>
<p>In this way, if we have a reference to a <code>Theater</code>, we can look up its list of <code>MovieTime</code> objects, and then for each of those, look up the <code>Movie</code> object reference contained within and print it out along with the times.</p>
<p>We’re shimming a new class in the middle with <em>both</em> the movie and the showtimes. This is how we can bundle that together.</p>
<p>Problem-solving step: <strong>Carrying Out the Plan</strong></p>
<p>Let’s add that new class that holds both a reference to a movie as well as the times it’s showing:</p>
<div class="sourceCode" id="cb304"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb304-1"><a href="#cb304-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">class</span> MovieTime:</span>
<span id="cb304-2"><a href="#cb304-2" aria-hidden="true" tabindex="-1"></a>        <span class="co">&quot;&quot;&quot;Holds a movie and the times it is playing&quot;&quot;&quot;</span></span>
<span id="cb304-3"><a href="#cb304-3" aria-hidden="true" tabindex="-1"></a>        <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, movie, times):</span>
<span id="cb304-4"><a href="#cb304-4" aria-hidden="true" tabindex="-1"></a>            <span class="va">self</span>.movie <span class="op">=</span> movie</span>
<span id="cb304-5"><a href="#cb304-5" aria-hidden="true" tabindex="-1"></a>            <span class="va">self</span>.times <span class="op">=</span> times</span></code></pre></div>
<p>Then we need to modify the <code>Theater</code> class to have a list of <code>MovieTime</code> objects instead of <code>Movie</code> objects.</p>
<div class="sourceCode" id="cb305"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb305-1"><a href="#cb305-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">class</span> Theater:</span>
<span id="cb305-2"><a href="#cb305-2" aria-hidden="true" tabindex="-1"></a>        <span class="co">&quot;&quot;&quot;Holds all the information about a specific theater.&quot;&quot;&quot;</span></span>
<span id="cb305-3"><a href="#cb305-3" aria-hidden="true" tabindex="-1"></a>        <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, name):</span>
<span id="cb305-4"><a href="#cb305-4" aria-hidden="true" tabindex="-1"></a>            <span class="va">self</span>.name <span class="op">=</span> name</span>
<span id="cb305-5"><a href="#cb305-5" aria-hidden="true" tabindex="-1"></a>            <span class="va">self</span>.movietimes <span class="op">=</span> []   <span class="co"># &lt;-- Now this is MovieTime objects</span></span></code></pre></div>
<p>And now when we construct our lists of theater information, we need to add new <code>MovieTime</code> objects to the list in the theater. The <code>MovieTime</code> objects contain references to the movie being shown, as well as a list of show times.</p>
<div class="sourceCode" id="cb306"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb306-1"><a href="#cb306-1" aria-hidden="true" tabindex="-1"></a>    <span class="co"># McMenamin&#39;s is showing Star Wars and Shaun of the Dead</span></span>
<span id="cb306-2"><a href="#cb306-2" aria-hidden="true" tabindex="-1"></a>    theaters[<span class="dv">0</span>].movietimes.append(MovieTime(movies[<span class="dv">0</span>], [<span class="st">&quot;7pm&quot;</span>, <span class="st">&quot;9pm&quot;</span>, <span class="st">&quot;10pm&quot;</span>]))</span>
<span id="cb306-3"><a href="#cb306-3" aria-hidden="true" tabindex="-1"></a>    theaters[<span class="dv">0</span>].movietimes.append(MovieTime(movies[<span class="dv">1</span>], [<span class="st">&quot;5pm&quot;</span>, <span class="st">&quot;8pm&quot;</span>]))</span>
<span id="cb306-4"><a href="#cb306-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb306-5"><a href="#cb306-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Tin Pan is showing Shaun of the Dead and Fastest Indian</span></span>
<span id="cb306-6"><a href="#cb306-6" aria-hidden="true" tabindex="-1"></a>    theaters[<span class="dv">1</span>].movietimes.append(MovieTime(movies[<span class="dv">1</span>], [<span class="st">&quot;2pm&quot;</span>, <span class="st">&quot;5pm&quot;</span>]))</span>
<span id="cb306-7"><a href="#cb306-7" aria-hidden="true" tabindex="-1"></a>    theaters[<span class="dv">1</span>].movietimes.append(MovieTime(movies[<span class="dv">2</span>], [<span class="st">&quot;6pm&quot;</span>, <span class="st">&quot;8pm&quot;</span>, <span class="st">&quot;10pm&quot;</span>]))</span>
<span id="cb306-8"><a href="#cb306-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb306-9"><a href="#cb306-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Tower is showing all three</span></span>
<span id="cb306-10"><a href="#cb306-10" aria-hidden="true" tabindex="-1"></a>    theaters[<span class="dv">2</span>].movietimes.append(MovieTime(movies[<span class="dv">0</span>], [<span class="st">&quot;3pm&quot;</span>]))</span>
<span id="cb306-11"><a href="#cb306-11" aria-hidden="true" tabindex="-1"></a>    theaters[<span class="dv">2</span>].movietimes.append(MovieTime(movies[<span class="dv">1</span>], [<span class="st">&quot;5pm&quot;</span>, <span class="st">&quot;7pm&quot;</span>]))</span>
<span id="cb306-12"><a href="#cb306-12" aria-hidden="true" tabindex="-1"></a>    theaters[<span class="dv">2</span>].movietimes.append(MovieTime(movies[<span class="dv">2</span>], [<span class="st">&quot;6pm&quot;</span>, <span class="st">&quot;7pm&quot;</span>, <span class="st">&quot;8pm&quot;</span>]))</span></code></pre></div>
<p>Lastly, when we print it out, we need to extract the movie and the show times from the <code>MovieTime</code> object so we can print them:</p>
<div class="sourceCode" id="cb307"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb307-1"><a href="#cb307-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> print_theater(theater):</span>
<span id="cb307-2"><a href="#cb307-2" aria-hidden="true" tabindex="-1"></a>        <span class="co">&quot;&quot;&quot;Print all the information about a theater.&quot;&quot;&quot;</span></span>
<span id="cb307-3"><a href="#cb307-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb307-4"><a href="#cb307-4" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&#39;</span><span class="sc">{</span>theater<span class="sc">.</span>name<span class="sc">}</span><span class="ss"> is showing:&#39;</span>)</span>
<span id="cb307-5"><a href="#cb307-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb307-6"><a href="#cb307-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> mt <span class="kw">in</span> theater.movietimes:</span>
<span id="cb307-7"><a href="#cb307-7" aria-hidden="true" tabindex="-1"></a>            m <span class="op">=</span> mt.movie</span>
<span id="cb307-8"><a href="#cb307-8" aria-hidden="true" tabindex="-1"></a>            t <span class="op">=</span> <span class="st">&quot; &quot;</span>.join(mt.times) <span class="co"># Make string of times separated by spaces</span></span>
<span id="cb307-9"><a href="#cb307-9" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f&#39;    </span><span class="sc">{m.</span>name<span class="sc">}</span><span class="ss"> (</span><span class="sc">{m.</span>genre<span class="sc">}</span><span class="ss">, </span><span class="sc">{m.</span>duration<span class="sc">}</span><span class="ss"> minutes): </span><span class="sc">{t}</span><span class="ss">&#39;</span>)</span></code></pre></div>
<p>And that’s that!</p>
<p>Output now looks like this:</p>
<pre><code>    McMenamin&#39;s Old St. Francis Theater is showing:
        Star Wars (scifi, 125 minutes): 7pm 9pm 10pm
        Shaun of the Dead (romzomcom, 100 minutes): 5pm 8pm
    Tin Pan Theater is showing:
        Shaun of the Dead (romzomcom, 100 minutes): 2pm 5pm
        Citizen Kane (drama, 119 minutes): 6pm 8pm 10pm
    Tower Theater is showing:
        Star Wars (scifi, 125 minutes): 3pm
        Shaun of the Dead (romzomcom, 100 minutes): 5pm 7pm
        Citizen Kane (drama, 119 minutes): 6pm 7pm 8pm</code></pre>
<p>(<a href="https://beej.us/guide/bgpython/examples/moviesign2.py">Solution</a><a href="#fn119" class="footnote-ref" id="fnref119" role="doc-noteref"><sup>119</sup></a>.)</p>
<p>Problem-solving step: <strong>Looking Back</strong>.</p>
<p>Aside from the improvements noted in the last “Looking Back”, we might be able to fix this one up a bit with respect to how it handles times.</p>
<p>Right now, we’re storing the times in strings, but it would be better to store them as <a href="https://docs.python.org/3/library/datetime.html"><code>datetime</code> objects from the Python standard library</a><a href="#fn120" class="footnote-ref" id="fnref120" role="doc-noteref"><sup>120</sup></a>.</p>
<p>This would enable us to do date math with the show times, e.g. to tell the user how many minutes until the next showing.</p>
<h2 id="exercises-7">Exercises</h2>
<p><strong>Remember: to get your value out of this book, you have to do these exercises.</strong> After 20 minutes of being stuck on a problem, you’re allowed to look at the solution.</p>
<p>Use any knowledge you have to solve these, not only what you learned in this chapter.</p>
<p><strong>Always</strong> use the <a href="#problem-solving">four problem-solving steps</a> to solve these problems: understand the problem, devise a plan, carry it out, look back to see what you could have done better.</p>
<ol type="1">
<li><p>Write a class that describes a car. What are the attributes the class would have? What methods? (There’s no one right answer here—thing freely.)</p>
<p>(<a href="https://beej.us/guide/bgpython/examples/ex_car.py">Potential Solution</a><a href="#fn121" class="footnote-ref" id="fnref121" role="doc-noteref"><sup>121</sup></a>.)</p></li>
<li><p>Write a class called <code>SubwayCar</code> that represents a single train car on a subway train. What attributes would it have? What methods?</p>
<p>Add a <code>name</code> attribute to the class so you can name the cars.</p>
<p>Add a <code>next</code> attribute to the class that points to the next <code>SubwayCar</code> in the train. This should refer to the next <code>SubwayCar</code> instance, or to <code>None</code> if it’s the last car.</p>
<p>Have a variable, <code>head</code>, that points at the first subway car.</p>
<p>This way you can “hook together” a train, like this (pseudocode):</p>
<div class="sourceCode" id="cb309"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb309-1"><a href="#cb309-1" aria-hidden="true" tabindex="-1"></a>    head <span class="op">=</span> SubwayCar(<span class="st">&quot;Engine&quot;</span>)</span>
<span id="cb309-2"><a href="#cb309-2" aria-hidden="true" tabindex="-1"></a>    car1 <span class="op">=</span> SubwayCar(<span class="st">&quot;Passenger car 1&quot;</span>)</span>
<span id="cb309-3"><a href="#cb309-3" aria-hidden="true" tabindex="-1"></a>    car2 <span class="op">=</span> SubwayCar(<span class="st">&quot;Passenger car 2&quot;</span>)</span>
<span id="cb309-4"><a href="#cb309-4" aria-hidden="true" tabindex="-1"></a>    car3 <span class="op">=</span> SubwayCar(<span class="st">&quot;Passenger car 3&quot;</span>)</span>
<span id="cb309-5"><a href="#cb309-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb309-6"><a href="#cb309-6" aria-hidden="true" tabindex="-1"></a>    head.<span class="bu">next</span> <span class="op">=</span> car1</span>
<span id="cb309-7"><a href="#cb309-7" aria-hidden="true" tabindex="-1"></a>    car1.<span class="bu">next</span> <span class="op">=</span> car2</span>
<span id="cb309-8"><a href="#cb309-8" aria-hidden="true" tabindex="-1"></a>    car2.<span class="bu">next</span> <span class="op">=</span> car3</span>
<span id="cb309-9"><a href="#cb309-9" aria-hidden="true" tabindex="-1"></a>    car3.<span class="bu">next</span> <span class="op">=</span> <span class="va">None</span>   <span class="co"># End of the train</span></span></code></pre></div>
<p>Now have a variable, <code>location</code>, that is your current location in the train. Start it at the <code>head</code>:</p>
<div class="sourceCode" id="cb310"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb310-1"><a href="#cb310-1" aria-hidden="true" tabindex="-1"></a>    location <span class="op">=</span> head</span></code></pre></div>
<p>Then write a loop to “walk” the <code>location</code> variable down the train (by following the <code>next</code> pointers), printing out the name of each car as it goes, until it reaches the end.</p>
<p>This famous data structure is actually called a <em>linked list</em>. But I disguised it as a subway train so as to be less intimidating.</p>
<p>(<a href="https://beej.us/guide/bgpython/examples/ex_subway.py">Solution</a><a href="#fn122" class="footnote-ref" id="fnref122" role="doc-noteref"><sup>122</sup></a>.)</p></li>
<li><p>Make a <code>Room</code> class that has a <code>name</code> attribute.</p>
<p>Also give it <code>n_to</code>, <code>s_to</code>, <code>w_to</code>, and <code>e_to</code> attributes. These will refer to the room that are north, south, west, and east of a particular room. <code>None</code> in one of these attributes means there’s no exit that direction.</p>
<p>For example, two rooms that are hooked up west to east (and vice versa) could be constructed like this:</p>
<div class="sourceCode" id="cb311"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb311-1"><a href="#cb311-1" aria-hidden="true" tabindex="-1"></a>    room0 <span class="op">=</span> Room(<span class="st">&quot;Cobble Crawl&quot;</span>)</span>
<span id="cb311-2"><a href="#cb311-2" aria-hidden="true" tabindex="-1"></a>    room1 <span class="op">=</span> Room(<span class="st">&quot;Debris Room&quot;</span>)</span>
<span id="cb311-3"><a href="#cb311-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb311-4"><a href="#cb311-4" aria-hidden="true" tabindex="-1"></a>    room0.e_to <span class="op">=</span> room1  <span class="co"># east from Cobble Crawl to Debris Room</span></span>
<span id="cb311-5"><a href="#cb311-5" aria-hidden="true" tabindex="-1"></a>    room1.w_to <span class="op">=</span> room0  <span class="co"># west from Debris Room to Cobble Crawl</span></span></code></pre></div>
<p>Make 5-6 rooms and hook them up in various directions.</p>
<p>Now have a variable, <code>location</code>, that is the current player location in the world. Start it pointing to the starting room, e.g.:</p>
<div class="sourceCode" id="cb312"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb312-1"><a href="#cb312-1" aria-hidden="true" tabindex="-1"></a>    location <span class="op">=</span> room0</span></code></pre></div>
<p>Next, get player input of either <code>n</code>, <code>s</code>, <code>w</code>, or <code>e</code>, and change location to the room in the specified direction.</p>
<p>If there’s no room there, print the string <code>"You can't go that way."</code>.</p>
<p>If the user enters <code>q</code>, quit the game.</p>
<p>(<a href="https://beej.us/guide/bgpython/examples/ex_adv2.py">Solution</a><a href="#fn123" class="footnote-ref" id="fnref123" role="doc-noteref"><sup>123</sup></a>.)</p></li>
</ol>
<h2 id="summary-9">Summary</h2>
<p>All kinds of goodies in this chapter! We dipped our toes in the magical world of classes and objects, which is the beginning of learning the world-famous Object-Oriented Programming (OOP).</p>
<p>We saw how we could concisely bundle data and functionality into a single convenient class, and the make objects from the class, using the class as a blueprint.</p>
<p>And, importantly, we learned that multiple variables can refer to the same object—that objects are <em>not</em> copied when you make an assignment.</p>
<p>Finally, we touched on the idea that <code>None</code> could be used to indicate “absence of an object”.</p>
<p>Though objects and classes form the basis for OOP, we really haven’t touched on what that means yet. But that’s a story for another chapter.</p>
<!--
vim: ts=4:sw=4:nosi:et:tw=72:spell:nojs
-->
<!--
Problem-solving step: **Understanding the Problem**.
Problem-solving step: **Devising a Plan**
Problem-solving step: **Carrying Out the Plan**
Problem-solving step: **Looking Back**.
-->
<h1 id="importing-modules">Importing Modules</h1>
<h2 id="objective-7">Objective</h2>
<ul>
<li>Learn what a module is</li>
<li>How to find modules to use</li>
<li>How to import modules</li>
</ul>
<h2 id="mod-proj-spec">Chapter Project Specification</h2>
<p>Open a ZIP archive and print out a directory of the files that are in there, their size in bytes, and the time they were last modified.</p>
<blockquote>
<p>If you’re unfamiliar with the ZIP format, it’s a way to take multiple files and compress them into a single file, called a <em>ZIP archive</em>. The <em>table of contents</em> shows what files exist within the ZIP file. They can be recovered later by <em>extracting</em> them, but we’re not going to do that for this project.</p>
</blockquote>
<p>An <a href="https://beej.us/guide/bgpython/examples/example.zip">example ZIP file can be found in the examples directory</a><a href="#fn124" class="footnote-ref" id="fnref124" role="doc-noteref"><sup>124</sup></a>.</p>
<p>Output should be:</p>
<pre><code>    File Name                         Modified             Size
    hello.txt                  2020-02-09 15:12:20            6
    world.txt                  2020-02-09 15:12:24            7</code></pre>
<p>(Spacing in the above example was changed to fit the margins—you don’t have to match spacing exactly.)</p>
<p>Keep this project in mind as we go through this chapter’s material.</p>
<h2 id="what-and-why-of-modules">What and Why of Modules</h2>
<p>Problem-solving step: <strong>Understanding the Problem</strong>.</p>
<p>Modules are pieces of self-contained code that you can <em>import</em> into your code and use. Think of them like prefabricated building blocks that you can put together in your project to accomplish tasks without needing to write out the details yourself.</p>
<p>This is actually a really powerful concept that you have at your disposal. Tons of code has already been written, and you can just use it!</p>
<p>Do you want to compute anything to do with date and time? Python has a module for that.</p>
<p>Do you want to draw graphics on the screen? Python has a module for that.</p>
<p>Do you want to generate animated GIFs from a sequence of stills? There’s a module for that.</p>
<p>Do you want to download an image from a URL and save it to disk? There are modules for that.</p>
<p>There are <a href="https://docs.python.org/3/library/index.html"><em>tons</em> of modules built-in to Python_</a><a href="#fn125" class="footnote-ref" id="fnref125" role="doc-noteref"><sup>125</sup></a>. Give the list a skim so you know what’s there, but you don’t need to drill down at all unless you’re dying ot curiosity over a particular module.</p>
<p>Are there are <a href="https://pypi.org/"><em>zillions</em> of third-party modules</a><a href="#fn126" class="footnote-ref" id="fnref126" role="doc-noteref"><sup>126</sup></a> you can use, as well.</p>
<p>You can import as many modules as you want into an individual project.</p>
<h2 id="using-a-module">Using a Module</h2>
<p>Problem-solving step: <strong>Understanding the Problem</strong>.</p>
<p>You declare your intent to us a module with the <code>import</code> keyword. We’re going to do an example with the built-in <a href="https://docs.python.org/3/library/sys.html"><code>sys</code> module</a><a href="#fn127" class="footnote-ref" id="fnref127" role="doc-noteref"><sup>127</sup></a>, which contains all kinds of useful information about the system.</p>
<p>Let’s see what platform Python thinks we’re running.</p>
<p>But first, some syntax.</p>
<p>When using a function or variable inside a module, you use the dot operator to get the variable, similar to how you get attributes from objects. In fact, very similar. When you <code>import</code> a module, Python gives you an object by that name with functions and data attached to it as attributes.</p>
<p>Step one is to <code>import</code> the module. Then you can access the members of that module.</p>
<p>For example, if we:</p>
<div class="sourceCode" id="cb314"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb314-1"><a href="#cb314-1" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> sys</span></code></pre></div>
<p>we’ll end up with an object called <code>sys</code> with attributes that you can access!</p>
<p>Problem-solving step: <strong>Devising a Plan</strong></p>
<p>Digging through the documentation for the <code>sys</code> module, we find there’s something called <code>sys.platform</code> that looks really promising.</p>
<p>Let’s print it!</p>
<p>Problem-solving step: <strong>Carrying Out the Plan</strong></p>
<div class="sourceCode" id="cb315"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb315-1"><a href="#cb315-1" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> sys    <span class="co"># Gets us access to all the sys goodies</span></span>
<span id="cb315-2"><a href="#cb315-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb315-3"><a href="#cb315-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(sys.platform)</span></code></pre></div>
<p>What does it output for you?</p>
<p>For me, on Linux or Windows WSL, it prints “<code>linux</code>”. On Windows, it prints “<code>win32</code>”.</p>
<p>Notice there was nothing we had to do ourselves to make this determination. (Which is good, because it would be a pain to write!) Fortunately the <code>sys</code> module had everything we needed right there.</p>
<h2 id="command-line-arguments">Command Line Arguments</h2>
<p>Problem-solving step: <strong>Understanding the Problem</strong>.</p>
<p>I’ve been hiding something.</p>
<p>In terms of how you run Python programs from the command line.</p>
<p>It turns out you can add things <em>after</em> the Python program name.</p>
<p>Say what?</p>
<p>Let’s say you have a program called <code>foo.py</code>. You can run it like this, of course:</p>
<pre><code>    python foo.py</code></pre>
<p>You can also run it like this:</p>
<pre><code>    python foo.py something another antelopes</code></pre>
<p>Those extra words after the program name are called <em>command line arguments</em>.</p>
<p>But <em>why</em> would you do this?</p>
<p>So you can control the behavior of the program from the command line! When you run it, it’s nice to be able to influence behavior this way instead of having to call <code>input()</code> with prompts and everything else.</p>
<p>But <em>how</em> do you get those extra command line arguments?</p>
<p>Our good friendly <code>sys</code> module can help us again here.</p>
<p>The variable <code>sys.argv</code> is a list that contains the program name followed by all the command line arguments.</p>
<p>Run this program with a variety of command line arguments and see what it outputs:</p>
<div class="sourceCode" id="cb318"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb318-1"><a href="#cb318-1" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> sys</span>
<span id="cb318-2"><a href="#cb318-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb318-3"><a href="#cb318-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(sys.argv)</span></code></pre></div>
<p>Example output:</p>
<pre><code>    $ python foo.py
    [&#39;foo.py&#39;]</code></pre>
<pre><code>    $ python foo.py aa bb cc
    [&#39;foo.py&#39;, &#39;aa&#39;, &#39;bb&#39;, &#39;cc&#39;]</code></pre>
<p>So at runtime, we can look in <code>sys.argv</code> and make decisions about what we want to do!</p>
<p>Let’s put it to use in the next section.</p>
<h2 id="printing-calendars">Printing Calendars</h2>
<p>Print a calendar for any month and year!</p>
<p>Problem-solving step: <strong>Understanding the Problem</strong>.</p>
<p>Your first thought should have been something like, “Holy cow, Beej—how am I supposed to figure all that out? Was November 12, 1955 a Friday or a Saturday? I don’t know!”</p>
<p>Luckily, we don’t have to know! There’s a module, <code>calendar</code>, that we can use to do all the dirty work for us.</p>
<p>If you pop to <a href="https://docs.python.org/3/library/calendar.html">the instructions</a><a href="#fn128" class="footnote-ref" id="fnref128" role="doc-noteref"><sup>128</sup></a>, you’ll see pages and pages of material. It’s intimidatingly impenetrable.</p>
<p>Reading docs is one of the things you’ll get better at with practice. At first, it’s a bit of a slog, but you’ll improve.</p>
<p>First of all, start skimming down and looking for anything that has to do with text calendars. If it doesn’t seem to have anything to do with that, keep skimming.</p>
<p>I’ll wait. Go for it.</p>
<p>Spoilers coming! Really go scan them and find it yourself! Practice makes perfect!</p>
<p>Problem-solving step: <strong>Devising a Plan</strong></p>
<p>OK—so hopefully you got about halfway down the page and found the <code>TextCalendar</code> class. It says:</p>
<blockquote>
<p>This class can be used to generate plain text calendars.</p>
</blockquote>
<p>That sounds promising. In fact, just below that, it mentions there’s a <code>prmonth()</code> method on the class that you can use to to print a calendar for a given month and year.</p>
<p>Perfect!</p>
<p>Problem-solving step: <strong>Carrying Out the Plan</strong></p>
<p>We can code it up like this:</p>
<div class="sourceCode" id="cb321"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb321-1"><a href="#cb321-1" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> calendar</span>
<span id="cb321-2"><a href="#cb321-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb321-3"><a href="#cb321-3" aria-hidden="true" tabindex="-1"></a>    tc <span class="op">=</span> calendar.TextCalendar()   <span class="co"># Make a new TextCalendar object</span></span>
<span id="cb321-4"><a href="#cb321-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb321-5"><a href="#cb321-5" aria-hidden="true" tabindex="-1"></a>    tc.prmonth(<span class="dv">1970</span>, <span class="dv">1</span>)  <span class="co"># Print January 1970</span></span></code></pre></div>
<p>and this will present us with a nice text calendar that looks like this:</p>
<pre><code>        January 1970
    Mo Tu We Th Fr Sa Su
              1  2  3  4
     5  6  7  8  9 10 11
    12 13 14 15 16 17 18
    19 20 21 22 23 24 25
    26 27 28 29 30 31</code></pre>
<p>Problem-solving step: <strong>Looking Back</strong>.</p>
<p>We found what we wanted halfway down the documentation, so we’re good right?</p>
<p>Well, it might be worth skimming the rest of the documentation just to see what else the calendar module can do.</p>
<p>And, in fact, if we look down farther, the docs say:</p>
<blockquote>
<p>For simple text calendars this module provides the following functions.</p>
</blockquote>
<p>And one of those functions is <code>prmonth()</code>. We can just call it directly without making an intermediate object!</p>
<div class="sourceCode" id="cb323"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb323-1"><a href="#cb323-1" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> calendar</span>
<span id="cb323-2"><a href="#cb323-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb323-3"><a href="#cb323-3" aria-hidden="true" tabindex="-1"></a>    calendar.prmonth(<span class="dv">1970</span>, <span class="dv">1</span>)</span></code></pre></div>
<p>gets us the same output as before—and it’s simpler!</p>
<p>Problem-solving step: <strong>Understanding the Problem</strong>.</p>
<p>Let’s mod this. Right now, it’s hardcoded to print out a January, 1970 calendar. Let’s change it so that you could run it from the command line and pass in the arguments you need, like this:</p>
<pre><code>    python cal.py 1970 1</code></pre>
<p>or</p>
<pre><code>    python cal.py 1955 11</code></pre>
<p>to print out the January, 1970 or November, 1955 calendars, respectively.</p>
<p>That makes it more flexible—we get all kinds of new behavior without changing the code. Much more usable.</p>
<p>Problem-solving step: <strong>Devising a Plan</strong></p>
<p>We saw in this section how to print a calendar, and we saw in the previous section how to get command line arguments into a list.</p>
<p>Let’s get the year and month from <code>sys.argv</code> and pass them into <code>calendar.prmonth()</code>.</p>
<p>Problem-solving step: <strong>Carrying Out the Plan</strong></p>
<p>Let’s do exactly that:</p>
<div class="sourceCode" id="cb326"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb326-1"><a href="#cb326-1" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> sys</span>
<span id="cb326-2"><a href="#cb326-2" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> calendar</span>
<span id="cb326-3"><a href="#cb326-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb326-4"><a href="#cb326-4" aria-hidden="true" tabindex="-1"></a>    year <span class="op">=</span> sys.argv[<span class="dv">1</span>]</span>
<span id="cb326-5"><a href="#cb326-5" aria-hidden="true" tabindex="-1"></a>    month <span class="op">=</span> sys.argv[<span class="dv">2</span>]</span>
<span id="cb326-6"><a href="#cb326-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb326-7"><a href="#cb326-7" aria-hidden="true" tabindex="-1"></a>    calendar.prmonth(year, month)</span></code></pre></div>
<p>When we run it with:</p>
<pre><code>    python cal.py 1970 1</code></pre>
<p>though, something bad happens:</p>
<pre><code>    Traceback (most recent call last):
      File &quot;cal.py&quot;, line 7, in &lt;module&gt;
        calendar.prmonth(year, month)
      File &quot;/usr/lib/python3.8/calendar.py&quot;, line 350, in prmonth
        print(self.formatmonth(theyear, themonth, w, l), end=&#39;&#39;)
      File &quot;/usr/lib/python3.8/calendar.py&quot;, line 358, in formatmonth
        s = self.formatmonthname(theyear, themonth, 7 * (w + 1) - 1)
      File &quot;/usr/lib/python3.8/calendar.py&quot;, line 341, in formatmonthname
        s = month_name[themonth]
      File &quot;/usr/lib/python3.8/calendar.py&quot;, line 59, in __getitem__
        funcs = self._months[i]
    TypeError: list indices must be integers or slices, not str</code></pre>
<p>Yikes!</p>
<p>Let’s take this error apart and see if we can tell what’s up. It’s not really being that forthcoming, is it?</p>
<p>Start at the top. It tells you what file the error is in on the first line: <code>cal.py</code> on line 7. And it shows us the line below that… it’s where we’re calling <code>calendar.prmonth()</code>.</p>
<p>But that looks fine, right?</p>
<p>Going farther down, it’s showing us the <em>call stack</em>, that is, the path of function calls that culminated in the error. And those are in the <code>calendar.py</code> file, which is the <code>calendar</code> module.</p>
<p>We didn’t even write that code! How dare there be an error in it!</p>
<p>Well, it’s not an error—it’s the module telling us, in a roundabout way, we’re not using it right.</p>
<p>Finally, at the bottom, we see the error itself: <code>TypeError</code>. And the description:</p>
<pre><code>    TypeError: list indices must be integers or slices, not str</code></pre>
<p>We don’t have any lists in our code, so what’s it even talking about lists for? Well, who knows how the stuff is implemented in the library, but scan that error message and see if there’s anything in there that hints toward what we have to do.</p>
<p>It says “must be integers or slices, not str”. Hmmm.</p>
<p>When we called it with</p>
<div class="sourceCode" id="cb330"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb330-1"><a href="#cb330-1" aria-hidden="true" tabindex="-1"></a>    calendar.prmonth(<span class="dv">1970</span>, <span class="dv">1</span>)</span></code></pre></div>
<p>it was fine, but now it’s not? Wait—when we called it that way, we passed integers in… but now we’re passing in <code>sys.argv[1]</code>. Is that an integer?</p>
<p>There’s a built-in function called <code>type()</code> we can use. Let’s add this code:</p>
<div class="sourceCode" id="cb331"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb331-1"><a href="#cb331-1" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> sys</span>
<span id="cb331-2"><a href="#cb331-2" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> calendar</span>
<span id="cb331-3"><a href="#cb331-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb331-4"><a href="#cb331-4" aria-hidden="true" tabindex="-1"></a>    year <span class="op">=</span> sys.argv[<span class="dv">1</span>]</span>
<span id="cb331-5"><a href="#cb331-5" aria-hidden="true" tabindex="-1"></a>    month <span class="op">=</span> sys.argv[<span class="dv">2</span>]</span>
<span id="cb331-6"><a href="#cb331-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb331-7"><a href="#cb331-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="bu">type</span>(year))    <span class="co"># &lt;-- Add this</span></span>
<span id="cb331-8"><a href="#cb331-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="bu">type</span>(month))   <span class="co"># &lt;-- Add this</span></span>
<span id="cb331-9"><a href="#cb331-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb331-10"><a href="#cb331-10" aria-hidden="true" tabindex="-1"></a>    calendar.prmonth(year, month)</span></code></pre></div>
<p>Running it again, we get the same error, but before that we see some output:</p>
<pre><code>    &lt;class &#39;str&#39;&gt;
    &lt;class &#39;str&#39;&gt;</code></pre>
<p>That’s telling us <code>sys.argv[1]</code> and <code>sys.argv[2]</code> are strings! And we were passing ints before. Let’s convert those to ints before we pass them in. The error message did say we needed ints, not strings.</p>
<div class="sourceCode" id="cb333"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb333-1"><a href="#cb333-1" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> sys</span>
<span id="cb333-2"><a href="#cb333-2" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> calendar</span>
<span id="cb333-3"><a href="#cb333-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb333-4"><a href="#cb333-4" aria-hidden="true" tabindex="-1"></a>    year <span class="op">=</span> <span class="bu">int</span>(sys.argv[<span class="dv">1</span>])</span>
<span id="cb333-5"><a href="#cb333-5" aria-hidden="true" tabindex="-1"></a>    month <span class="op">=</span> <span class="bu">int</span>(sys.argv[<span class="dv">2</span>])</span>
<span id="cb333-6"><a href="#cb333-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb333-7"><a href="#cb333-7" aria-hidden="true" tabindex="-1"></a>    calendar.prmonth(year, month)</span></code></pre></div>
<p>And now when we run it:</p>
<pre><code>    $ python cal.py 2038 1
        January 2038
    Mo Tu We Th Fr Sa Su
                 1  2  3
     4  5  6  7  8  9 10
    11 12 13 14 15 16 17
    18 19 20 21 22 23 24
    25 26 27 28 29 30 31</code></pre>
<p>Whee!</p>
<p>Problem-solving step: <strong>Looking Back</strong>.</p>
<p>Not too shabby. What else can we make better?</p>
<p>It’s time to think like a villain. What can you do to this program as a user to break it?</p>
<p>How about passing in a negative year? (Hey, that works!)</p>
<p>What about a negative month?</p>
<p>That crashes with a big ugly stack trace.</p>
<p>We could fix that by checking the values of <code>month</code> and making sure the user specified 1-12, or print an error otherwise. Something like this:</p>
<div class="sourceCode" id="cb335"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb335-1"><a href="#cb335-1" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> month <span class="op">&lt;</span> <span class="dv">1</span> <span class="kw">or</span> month <span class="op">&gt;</span> <span class="dv">12</span>:</span>
<span id="cb335-2"><a href="#cb335-2" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;Month must be 1-12!&quot;</span>)</span>
<span id="cb335-3"><a href="#cb335-3" aria-hidden="true" tabindex="-1"></a>        sys.exit()  <span class="co"># call this to stop running the program here!</span></span></code></pre></div>
<p>What if the user specifies a year, but no month? Another crash.</p>
<p>We could check the length of <code>sys.argv</code> and make sure it was the right value (namely 3, since it includes the name of the program along with the year and month). If it wasn’t, we could print an error message and exit.</p>
<p>Here’s the complete code with error checking:</p>
<div class="sourceCode" id="cb336"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb336-1"><a href="#cb336-1" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> sys</span>
<span id="cb336-2"><a href="#cb336-2" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> calendar</span>
<span id="cb336-3"><a href="#cb336-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb336-4"><a href="#cb336-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">len</span>(sys.argv) <span class="op">!=</span> <span class="dv">3</span>:</span>
<span id="cb336-5"><a href="#cb336-5" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;usage: cal.py year month&quot;</span>)</span>
<span id="cb336-6"><a href="#cb336-6" aria-hidden="true" tabindex="-1"></a>        sys.exit()  <span class="co"># stop running</span></span>
<span id="cb336-7"><a href="#cb336-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb336-8"><a href="#cb336-8" aria-hidden="true" tabindex="-1"></a>    year <span class="op">=</span> <span class="bu">int</span>(sys.argv[<span class="dv">1</span>])</span>
<span id="cb336-9"><a href="#cb336-9" aria-hidden="true" tabindex="-1"></a>    month <span class="op">=</span> <span class="bu">int</span>(sys.argv[<span class="dv">2</span>])</span>
<span id="cb336-10"><a href="#cb336-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb336-11"><a href="#cb336-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> month <span class="op">&lt;</span> <span class="dv">1</span> <span class="kw">or</span> month <span class="op">&gt;</span> <span class="dv">12</span>:</span>
<span id="cb336-12"><a href="#cb336-12" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;Month must be 1-12!&quot;</span>)</span>
<span id="cb336-13"><a href="#cb336-13" aria-hidden="true" tabindex="-1"></a>        sys.exit()  <span class="co"># stop running</span></span>
<span id="cb336-14"><a href="#cb336-14" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb336-15"><a href="#cb336-15" aria-hidden="true" tabindex="-1"></a>    calendar.prmonth(year, month)   </span></code></pre></div>
<p>Ship it!</p>
<h2 id="importing-specific-attributes">Importing Specific Attributes</h2>
<p>There’s an alternate syntax for <code>import</code> that you can use to bring attributes from a module directly into the global namespace.</p>
<p>What do I mean by that?</p>
<p>Well, the upshot is that if you’re tired of typing the module name followed by a dot to access a particular function or piece of data, you can bring that in to use directly, instead.</p>
<p>Let’s do an example.</p>
<p>The <code>time</code> modules has a function called <code>ctime()</code> that prints the time out in a classic format.</p>
<div class="sourceCode" id="cb337"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb337-1"><a href="#cb337-1" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> time</span>
<span id="cb337-2"><a href="#cb337-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb337-3"><a href="#cb337-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(time.ctime())  <span class="co"># &quot;Sun Feb  9 13:37:00 2020&quot;</span></span></code></pre></div>
<p>But if you’re going to call it repeatedly, it might make the code look worse to have “<code>time.</code>” all over the place.</p>
<p>We can do this, instead:</p>
<div class="sourceCode" id="cb338"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb338-1"><a href="#cb338-1" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Bring in ctime() explicitly:</span></span>
<span id="cb338-2"><a href="#cb338-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb338-3"><a href="#cb338-3" aria-hidden="true" tabindex="-1"></a>    <span class="im">from</span> time <span class="im">import</span> ctime</span>
<span id="cb338-4"><a href="#cb338-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb338-5"><a href="#cb338-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(ctime())  <span class="co"># Look, ma! No &quot;time.&quot;!</span></span></code></pre></div>
<p>If a module has multiple things you want to import, you can bring them in with a comma list:</p>
<div class="sourceCode" id="cb339"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb339-1"><a href="#cb339-1" aria-hidden="true" tabindex="-1"></a>    <span class="co"># import all three!</span></span>
<span id="cb339-2"><a href="#cb339-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb339-3"><a href="#cb339-3" aria-hidden="true" tabindex="-1"></a>    <span class="im">from</span> time <span class="im">import</span> ctime, localtime, monotonic</span></code></pre></div>
<p>Or, if you’re feeling bold, you can import it all!</p>
<div class="sourceCode" id="cb340"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb340-1"><a href="#cb340-1" aria-hidden="true" tabindex="-1"></a>    <span class="im">from</span> time <span class="im">import</span> <span class="op">*</span></span></code></pre></div>
<p>But I generally recommend against that. It takes time for Python to do it, and if you only need a few things, pick them explicitly.</p>
<p>Furthermore, a lot of devs rely on the module name being a visual cue that we’re talking about a function in a module, here. If we come across some code that says:</p>
<div class="sourceCode" id="cb341"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb341-1"><a href="#cb341-1" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(ctime())</span></code></pre></div>
<p>Is that a function that the programmer defined, or is it something that we <code>from import</code>ed from somewhere? By putting the name of the module first, it helps mitigate that ambiguity:</p>
<div class="sourceCode" id="cb342"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb342-1"><a href="#cb342-1" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(time.ctime())</span></code></pre></div>
<p>So in general, I don’t use <code>import from</code> unless it makes the code decidedly more readable to do so.</p>
<p>Remember: readable code is high-value code!</p>
<h2 id="learning-all-the-modules">Learning All The Modules</h2>
<p>If you check out <a href="https://docs.python.org/3/library/index.html">the list of modules</a><a href="#fn129" class="footnote-ref" id="fnref129" role="doc-noteref"><sup>129</sup></a> you get with Python, it looks pretty intimidating. I mean, there’s a <em>lot</em> there.</p>
<p>How do you deal with it?</p>
<p>This is one of the toughest parts of learning a new language: learning the <em>standard library</em> (the bundled modules) that comes with it. Each language has its own way of doing things, and those ways are legion.</p>
<p>Step one: give up now. You’re not going to memorize all this.</p>
<p>The best thing to do is skim it at the contents level. Just try to remember that this exists a module for dealing with times. And a module for dealing with calendars. And for dealing with network communication. And so on.</p>
<p>Don’t worry about the details. You can always look them up later. But if you don’t know that there even <em>is</em> a module that handles reading and writing of <a href="https://en.wikipedia.org/wiki/Comma-separated_values">CSV</a><a href="#fn130" class="footnote-ref" id="fnref130" role="doc-noteref"><sup>130</sup></a> files, then you won’t know to look it up when you need it.</p>
<p>All devs, even experienced ones, look things up. All the time.</p>
<h2 id="chapter-project-3">Chapter Project</h2>
<p>If you need to, <a href="#mod-proj-spec">review the specification at the top of the chapter</a>.</p>
<p>You might be thinking, “This is kind of a big jump, don’t you think, Beej? I mean, we haven’t even talked about how to open a file, and here you want me to somehow gaze magically inside a ZIP file and extract the contents?”</p>
<p>Well… yes. By “magically”, though, I mean something in particular. As you might have guess, there’s a <a href="https://docs.python.org/3/library/zipfile.html">module for opening ZIP files</a><a href="#fn131" class="footnote-ref" id="fnref131" role="doc-noteref"><sup>131</sup></a>. We can import this and make it do the heavy lifting for us!</p>
<p>Easy, right?</p>
<p>Well, not so fast. If you follow the link to the docs, above, you’ll find pages and pages and pages of material with no clear indication of where to start. (Bring up that URL now, because we’re about to go through it.)</p>
<p>It’s nice that the module is there for us to use, but we have to sift through all this to use it?</p>
<p>Pretty much.</p>
<p>There is a shortcut that you can take. You can Google for “python print zip archive example”, and you’ll get some hits. This can be super powerful, and we do this kind of thing <em>all the time</em> in development, but for this project try <em>not</em> doing this.</p>
<p>Let’s just look at the docs and try to make sense of them, because this is a skill in itself, and is worth practicing.</p>
<p>Problem-solving step: <strong>Understanding the Problem</strong>.</p>
<p>This one’s pretty straightforward. We have a ZIP file from the examples, and we want to print out the files that are compressed within it.</p>
<p>In fact, this can be done in three lines of Python. Just… what three lines?</p>
<p>We just have to plan it out.</p>
<p>Problem-solving step: <strong>Devising a Plan</strong></p>
<p>Here’s where we start digging. Start skimming the docs, and take note of anything that sounds remotely like what you want to do. Ignore anything you don’t understand. We want to get information about the contents of the ZIP file.</p>
<p>Keep your eyes peeled for example code.</p>
<p>Let’s skim!</p>
<p>I want you to come up with a list of functions or data in the docs that sound promising. As we learned earlier in this chapter, it can pay to skim the entire document so you don’t miss anything.</p>
<p>Go for it.</p>
<p>I’ll wait.</p>
<p>I’m about to share my list of candidates, now, so run get yours to see how it compares.</p>
<p>Spoiler alert!</p>
<p>Here are things that I thought sounded like they might get me my table of contents for the ZIP file.</p>
<p>Here are the first few I found. As I go, I’m keeping track in my head about which one sounds the most promising:</p>
<div class="sourceCode" id="cb343"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb343-1"><a href="#cb343-1" aria-hidden="true" tabindex="-1"></a>    ZipInfo            <span class="co"># Class containing info about a ZIP file member</span></span>
<span id="cb343-2"><a href="#cb343-2" aria-hidden="true" tabindex="-1"></a>    ZipFile.getinfo()  <span class="co"># Return a ZipInfo object for a file member</span></span>
<span id="cb343-3"><a href="#cb343-3" aria-hidden="true" tabindex="-1"></a>    ZipFile.infolist() <span class="co"># Return ZipInfo objects for all file members</span></span>
<span id="cb343-4"><a href="#cb343-4" aria-hidden="true" tabindex="-1"></a>    ZipFile.namelist() <span class="co"># Return list of file members by name</span></span></code></pre></div>
<p>Let’s keep looking.</p>
<div class="sourceCode" id="cb344"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb344-1"><a href="#cb344-1" aria-hidden="true" tabindex="-1"></a>    ZipFile.<span class="bu">open</span>()     <span class="co"># Access member of the archive</span></span>
<span id="cb344-2"><a href="#cb344-2" aria-hidden="true" tabindex="-1"></a>    ZipFile.printdir() <span class="co"># Print a table of contents to sys.stdout (!!!!)</span></span></code></pre></div>
<p>Now <em>that</em> sounds promising.</p>
<blockquote>
<p><code>sys.stdout</code> is a <em>file stream</em> that represents what we call <em>standard output</em>. For now, when you hear <code>stdout</code> or <em>standard output</em>, replace it with “the screen”.</p>
</blockquote>
<p>So <code>printdir()</code> prints the table of contents to the screen, which sounds exactly like what we’re after.</p>
<p>But let’s keep looking, just to be sure.</p>
<div class="sourceCode" id="cb345"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb345-1"><a href="#cb345-1" aria-hidden="true" tabindex="-1"></a>    ZipFile.read()     <span class="co"># Read bytes from a member of the archive</span></span>
<span id="cb345-2"><a href="#cb345-2" aria-hidden="true" tabindex="-1"></a>    ZipFile.filename   <span class="co"># Name of the ZIP file</span></span>
<span id="cb345-3"><a href="#cb345-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb345-4"><a href="#cb345-4" aria-hidden="true" tabindex="-1"></a>    ZipInfo.filename   <span class="co"># Name of an archive member</span></span>
<span id="cb345-5"><a href="#cb345-5" aria-hidden="true" tabindex="-1"></a>    ZipInfo.date_time  <span class="co"># Modification time of an archive member</span></span>
<span id="cb345-6"><a href="#cb345-6" aria-hidden="true" tabindex="-1"></a>    ZipInfo.file_size  <span class="co"># File size of an archive member</span></span></code></pre></div>
<p>And that’s the end of my skim. How did it compare with your list?</p>
<p>Now… Those last three look interesting. If we could get the <code>ZipInfo</code> object for each item in the archive, we could use those attributes to print out our directory listing.</p>
<p>But that sounds like it’s just going to get us what the <code>printdir()</code> function would do, and <code>printdir()</code> looks easier to use.</p>
<p>Maybe we’re wrong, but let’s pursue <code>printdir()</code>, and if it doesn’t pan out, we can go to Plan B and try the <code>ZipInfo</code> fields.</p>
<p>So… How do we use it? Let’s read the docs again.</p>
<blockquote>
<div class="sourceCode" id="cb346"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb346-1"><a href="#cb346-1" aria-hidden="true" tabindex="-1"></a>ZipFile.printdir()</span></code></pre></div>
<p>Print a table of contents for the archive to <code>sys.stdout</code>.</p>
</blockquote>
<p>So we need a <code>ZipFile</code> object that represents the ZIP file <code>example.zip</code>.</p>
<p>That is, we know the ZIP is named <code>example.zip</code>, and we need to go from that to a <code>ZipFile</code> object. Once we have the <code>ZipFile</code> object for <code>example.zip</code>, we can call <code>printdir()</code>.</p>
<p>OK. So how do we do that? Time to get back to skimming docs! How do I create a <code>ZipFile</code> object?</p>
<p>Skim now!</p>
<p>We saw earlier this was the class:</p>
<div class="sourceCode" id="cb347"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb347-1"><a href="#cb347-1" aria-hidden="true" tabindex="-1"></a>    zipfile.ZipFile</span></code></pre></div>
<p>And a bit farther down, we have:</p>
<blockquote>
<div class="sourceCode" id="cb348"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb348-1"><a href="#cb348-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> zipfile.ZipFile(<span class="bu">file</span>, mode<span class="op">=</span><span class="st">&#39;r&#39;</span>, compression<span class="op">=</span>ZIP_STORED,</span>
<span id="cb348-2"><a href="#cb348-2" aria-hidden="true" tabindex="-1"></a>                     allowZip64<span class="op">=</span><span class="va">True</span>, compresslevel<span class="op">=</span><span class="va">None</span>, <span class="op">*</span>,</span>
<span id="cb348-3"><a href="#cb348-3" aria-hidden="true" tabindex="-1"></a>                     strict_timestamps<span class="op">=</span><span class="va">True</span>)</span></code></pre></div>
<p>Open a ZIP file, where <code>file</code> can be a path to a file (a string), a file-like object or a path-like object.</p>
</blockquote>
<p>Recognize that? It’s a <em>constructor</em>!! That’s what we want! We want to construct a <code>ZipFile</code> object from the string <code>example.zip</code>, and that’s exactly what this does for us.</p>
<p>Continuing down, I’m not seeing anything else that helps us make a <code>ZipFile</code> object, so let’s pursue this plan.</p>
<ol type="1">
<li>Import the ZIP file functionality.</li>
<li>Create a <code>ZipFile</code> object from <code>example.zip</code>.</li>
<li>Print the table of contents with <code>printdir()</code> on that <code>ZipFile</code> object.</li>
</ol>
<p>Let’s go!</p>
<p>Problem-solving step: <strong>Carrying Out the Plan</strong></p>
<div class="sourceCode" id="cb349"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python"><span id="cb349-1"><a href="#cb349-1"></a><span class="im">import</span> zipfile</span>
<span id="cb349-2"><a href="#cb349-2"></a> </span></code></pre></div>
<p>Check.</p>
<p>Okay—now we need to do something with that <code>ZipFile</code> constructor. Recall that since it’s in the <code>zipfile</code> module, we have to refer to it as <code>zipfile.ZipFile</code> when we use it.</p>
<p>But, man, the docs are thick for the constructor. What is all that stuff?</p>
<p>Remember that any keyword argument with something after an equal sign is optional. We don’t have to pass arguments for <code>mode</code>, <code>compression</code>, or any of those.</p>
<p>What we <em>do</em> have to pass in in the <code>file</code>, which is the filename to read. Let’s do that, and we’ll save the newly-constructed object in the variable <code>zf</code>:</p>
<div class="sourceCode" id="cb350" data-startFrom="3"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python" style="counter-reset: source-line 2;"><span id="cb350-3"><a href="#cb350-3"></a><span class="co"># Important: make sure example.zip is in the same directory</span></span>
<span id="cb350-4"><a href="#cb350-4"></a><span class="co"># as this program!</span></span>
<span id="cb350-5"><a href="#cb350-5"></a></span>
<span id="cb350-6"><a href="#cb350-6"></a>zf <span class="op">=</span> zipfile.ZipFile(<span class="st">&#39;example.zip&#39;</span>)</span>
<span id="cb350-7"><a href="#cb350-7"></a> </span></code></pre></div>
<p>Great!</p>
<p>And now that we have that object, let’s print its directory:</p>
<div class="sourceCode" id="cb351" data-startFrom="8"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python" style="counter-reset: source-line 7;"><span id="cb351-8"><a href="#cb351-8"></a>zf.printdir()</span></code></pre></div>
<p>And that gives us this output:</p>
<pre><code>    File Name                         Modified             Size
    hello.txt                  2020-02-09 15:12:20            6
    world.txt                  2020-02-09 15:12:24            7</code></pre>
<p>Yes!</p>
<p>Problem-solving step: <strong>Looking Back</strong>.</p>
<p>What else can we do with this to improve it?</p>
<p>One easy thing to do would be to use <code>sys.argv</code> to get the name of the archive to print out the listing for.</p>
<p>Another thing that you might have noticed in the docs is there is all kinds of additional info about members of the archive. In addition to name, time, and size, there’s also comments, compression type, compressed size, <a href="https://en.wikipedia.org/wiki/Cyclic_redundancy_check">CRC</a><a href="#fn132" class="footnote-ref" id="fnref132" role="doc-noteref"><sup>132</sup></a>, and other things to print.</p>
<p>By adding up all the uncompressed sizes, the compressed sizes, and then dividing one by the other, you can get the <em>compression ratio</em>—how much smaller the files got by putting them in the archive.</p>
<p>(<a href="https://beej.us/guide/bgpython/examples/zipdir.py">Solution</a><a href="#fn133" class="footnote-ref" id="fnref133" role="doc-noteref"><sup>133</sup></a>, <a href="https://beej.us/guide/bgpython/examples/example.zip">example zipfile</a><a href="#fn134" class="footnote-ref" id="fnref134" role="doc-noteref"><sup>134</sup></a>.)</p>
<h2 id="exercises-8">Exercises</h2>
<p><strong>Remember: to get your value out of this book, you have to do these exercises.</strong> After 20 minutes of being stuck on a problem, you’re allowed to look at the solution.</p>
<p>Use any knowledge you have to solve these, not only what you learned in this chapter.</p>
<p><strong>Always</strong> use the <a href="#problem-solving">four problem-solving steps</a> to solve these problems: understand the problem, devise a plan, carry it out, look back to see what you could have done better.</p>
<ol type="1">
<li><p>Every process running on your system is represented by a numeric <em>process ID</em>. When you run a program, it gets a unique process ID (PID) that exists until the process exits.</p>
<p>Write a program to print out its current process ID. Check out the <a href="https://docs.python.org/3/library/os.html">docs for the <code>os</code> module</a><a href="#fn135" class="footnote-ref" id="fnref135" role="doc-noteref"><sup>135</sup></a> for hints. You might want to search that page for anything to do with “current process ID”… <code>:)</code></p>
<p>Don’t forget to import the module!</p>
<p>When you run it, run it multiple times to see that the PID changes from run to run.</p>
<p>(<a href="https://beej.us/guide/bgpython/examples/ex_printpid.py">Solution</a><a href="#fn136" class="footnote-ref" id="fnref136" role="doc-noteref"><sup>136</sup></a>.)</p></li>
<li><p>Write a program to generate random UUIDs. A UUID (pronounced “YOU-id”) is a random string of letters and digits that looks like this:</p>
<pre><code>    54c3bfab-fd9f-4f4a-96db-8f9fccff88cd</code></pre>
<p>(Well, yours will be different because it’s very, very, <em>very</em> unlikely that you’ll ever generate the same random one twice.)</p>
<p>It’s short for <em>Universally Unique ID</em>. That means it’s unique in the universe, forever. Very, <em>very</em> probably.</p>
<p>Using the <a href="https://docs.python.org/3/library/uuid.html">UUID module</a><a href="#fn137" class="footnote-ref" id="fnref137" role="doc-noteref"><sup>137</sup></a>, generate a random UUID.</p>
<p>Actually, generate several. Have the user enter a number on the command line. Generate that many UUIDs.</p>
<p>For example:</p>
<pre><code>    $ python ex_uuidgen.py 5
    8a8128fb-941a-4a2f-8982-75273d7c0048
    5fd7d64e-8491-4b61-82b0-f9438e7195dc
    4012f3ed-f6d7-40b5-9031-961ee06a30ad
    86c71566-014f-4e36-a55b-b18d677624b2
    2c1e5b3f-f0de-4186-80c5-767628c437b3</code></pre>
<p>Eagle-eyed readers might notice that the 13th digit is always <code>4</code>. That’s because there are different types of UUIDs, and this digit indicates the type. (This case it’s type 4, meaning random. Except for the 4.)</p>
<p>You might also have noticed that, in addition to the numerals, only the letters “a” through “f” make an appearance. Surprise! UUIDs, except for the hyphens, are actually numbers! They’re written in a base-16 numbering system called <em>hexadecimal</em>. More on that in another chapter.</p>
<p>UUIDs are good any time you want to create an ID that you can be confident isn’t already used by anyone, anywhere.</p>
<p>You might wonder how you can be sure? I mean, there’s a chance someone else will choose that number, right?</p>
<p>Yes, there is a chance. It’s:</p>
<p>1 in 21,267,647,932,558,653,966,460,912,964,485,513,216.</p>
<p>For comparison, the odds of winning the Mega Millions lottery jackpot are:</p>
<p>1 in 258,900,000.</p>
<p>So unless you’re worried about winning the lottery jackpot 82,146,187,456,773,479,978,605,303,068 times, you shouldn’t be worried about someone choosing a duplicate UUID.</p>
<p>And I wouldn’t say I’m <em>worried</em> I’d win the lottery that many times. More like <em>disappointed</em>.</p>
<p>(<a href="https://beej.us/guide/bgpython/examples/ex_uuidgen.py">Solution</a><a href="#fn138" class="footnote-ref" id="fnref138" role="doc-noteref"><sup>138</sup></a>.)</p></li>
<li><p>You’re given the following string in Python—go ahead and paste it into a new source file:</p>
<div class="sourceCode" id="cb355"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb355-1"><a href="#cb355-1" aria-hidden="true" tabindex="-1"></a>    matrix <span class="op">=</span> <span class="st">&quot;&quot;&quot;The Matrix is everywhere. It is all around us. Even</span></span>
<span id="cb355-2"><a href="#cb355-2" aria-hidden="true" tabindex="-1"></a><span class="st">    now, in this very room. You can see it when you look out your window,</span></span>
<span id="cb355-3"><a href="#cb355-3" aria-hidden="true" tabindex="-1"></a><span class="st">    or when you turn on your television. You can feel it when you go to</span></span>
<span id="cb355-4"><a href="#cb355-4" aria-hidden="true" tabindex="-1"></a><span class="st">    work, when you go to church, when you pay your taxes.&quot;&quot;&quot;</span></span></code></pre></div>
<p>That’s a big multi-line string.</p>
<p>I want you to print it out, but reformat it so that it’s only 40 columns wide, maximum:</p>
<pre><code>    The Matrix is everywhere. It is all
    around us. Even now, in this very room.
    You can see it when you look out your
    window, or when you turn on your
    television. You can feel it when you go
    to work, when you go to church, when you
    pay your taxes.</code></pre>
<p>There’s a handy module called <a href="https://docs.python.org/3/library/textwrap.html#textwrap.TextWrapper"><code>textwrap</code></a><a href="#fn139" class="footnote-ref" id="fnref139" role="doc-noteref"><sup>139</sup></a> that has some functionality that you can use to make your life easier.</p>
<p>(<a href="https://beej.us/guide/bgpython/examples/ex_wrap.py">Solution</a><a href="#fn140" class="footnote-ref" id="fnref140" role="doc-noteref"><sup>140</sup></a>.)</p></li>
<li><p>Print a random integer between 0 and 1000, inclusive.</p>
<p>It should print a different number every run, for example:</p>
<pre><code>    $ python ex_rand1000.py 
    601
    $ python ex_rand1000.py 
    374
    $ python ex_rand1000.py 
    824</code></pre>
<p>See the <a href="https://docs.python.org/3/library/random.html"><code>random</code> module</a><a href="#fn141" class="footnote-ref" id="fnref141" role="doc-noteref"><sup>141</sup></a> for help.</p>
<p>(<a href="https://beej.us/guide/bgpython/examples/ex_rand1000.py">Solution</a><a href="#fn142" class="footnote-ref" id="fnref142" role="doc-noteref"><sup>142</sup></a>.)</p></li>
<li><p>Print out the current date in the form:</p>
<pre><code>    Mon Feb 10</code></pre>
<p>See the <a href="https://docs.python.org/3/library/time.html"><code>time</code> module</a><a href="#fn143" class="footnote-ref" id="fnref143" role="doc-noteref"><sup>143</sup></a> for help.</p>
<p>In case it happens to come up, <em>locale</em> refers to the human language spoken in the physical location where the program is running, e.g. English or French or Chinese or Esperanto, etc.</p>
<p>(<a href="https://beej.us/guide/bgpython/examples/ex_curdate.py">Solution</a><a href="#fn144" class="footnote-ref" id="fnref144" role="doc-noteref"><sup>144</sup></a>.)</p></li>
<li><p>Write a program called <code>zipextract.py</code> that extracts files from a ZIP archive.</p>
<p>The command line should accept the name of the ZIP file as the first argument, and, optionally, the name of the file in the archive to extract.</p>
<p>If the second argument is left off, extract all the files.</p>
<p>To extract all files:</p>
<pre><code>    python zipextract.py example.zip</code></pre>
<p>To extract a specific file, run:</p>
<pre><code>    python zipextract.py example.zip hello.txt</code></pre>
<p>(<a href="https://beej.us/guide/bgpython/examples/ex_zipextract.py">Solution</a><a href="#fn145" class="footnote-ref" id="fnref145" role="doc-noteref"><sup>145</sup></a>.)</p></li>
</ol>
<h2 id="summary-10">Summary</h2>
<p>Modules make the world go around… a lot more easily than it would have if you had to write all that stuff yourself.</p>
<p>In this chapter, we learned what modules were and how to find them in the offical Python docs.</p>
<p>Also, we learned how to import entire modules, and individual components from within modules.</p>
<p>Later we’ll learn to write and import our own modules.</p>
<!--
vim: ts=4:sw=4:nosi:et:tw=72:spell:nojs
-->
<!--
Problem-solving step: **Understanding the Problem**
Problem-solving step: **Devising a Plan**
Problem-solving step: **Carrying Out the Plan**
Problem-solving step: **Looking Back**
-->
<h1 id="reading-files">Reading Files</h1>
<h2 id="objective-8">Objective</h2>
<ul>
<li>Understand what a file is</li>
<li>Be able to open and close a file</li>
<li>Be able to read and write from files</li>
</ul>
<h2 id="file1-proj-spec">Project</h2>
<p>Write a <em>line editor</em>.</p>
<p>Back in the day, before terminals were very capable and before we had nice editors and IDEs like we do today, people used line editors. These were bare-bones file editors that used simple commands to edit files.</p>
<p>For example:</p>
<pre><code>    $ python lineedit.py foo.txt
    &gt; l 1
    1: This is some text that was already in the file.
    &gt; a 1
    This is some text that I&#39;m appending to the file.
    And some more.
    .
    &gt; l 1
    1: This is some text that was already in the file.
    2: This is some text that I&#39;m appending to the file.
    3: And some more.
    &gt; e 3
    And really some more.
    &gt; l 1
    1: This is some text that was already in the file.
    2: This is some text that I&#39;m appending to the file.
    3: And really some more.
    &gt; d 2
    &gt; l 1
    1: This is some text that was already in the file.
    2: And really some more.
    &gt; w
    &gt; q</code></pre>
<p>In the example, everything following a <code>&gt;</code> prompt is a line editor command.</p>
<p>In order:</p>
<ol type="1">
<li><code>l</code>ist the file starting from the given line.</li>
<li><code>a</code>ppend multiple lines of text after the given line (until the user types <code>.</code> on its own line).</li>
<li><code>l</code>ist the file from line 1.</li>
<li><code>e</code>dit line 3.</li>
<li><code>l</code>ist the file from line 1.</li>
<li><code>d</code>elete line 2.</li>
<li><code>l</code>ist the file from line 1.</li>
<li><code>w</code>rite the file to disk.</li>
<li><code>q</code>uit.</li>
</ol>
<p>The commands are:</p>
<ul>
<li><p><code>l</code>ist: list 10 lines (or up through the last line if there are fewer than 10 lines remaining) starting from the line the user specifies. If the user specifies a number less than 1, assume they entered 1.</p></li>
<li><p><code>a</code>ppend: append multiple lines after the line the user specified. Read lines one at a time, storing them in turn, until the user enters a sole period (“<code>.</code>”) on a blank line.</p></li>
<li><p><code>d</code>elete: Works like <code>l</code>ist, except deletes the line.</p></li>
<li><p><code>e</code>dit: Edits a single line, replacing it. If the line is out of range, an error message should be printed.</p></li>
<li><p><code>w</code>rite: Saves the file to disk. If the filename wasn’t specified on the command line, the user must specify a filename after the <code>w</code>.</p></li>
<li><p><code>q</code>uit: exit the editor without saving the file.</p></li>
</ul>
<p>From the user standpoint, lines are numbered starting from 1.</p>
<p>Keep this project in mind while you read through this chapter.</p>
<h2 id="what-are-files-anyway">What are Files, Anyway?</h2>
<p>Problem-solving step: <strong>Understanding the Problem</strong>.</p>
<p>We’re sort of used to them, already, right? I mean, you have MP3 files, GIF files, or MPEG files…</p>
<blockquote>
<p>"So this guy comes up to me and he says, ‘What do you do?’</p>
<p>"‘Well,’ I says, ‘I work on computers.’</p>
<p>"An’ he says, ‘Wow—if you work on computers? Do you use files?’</p>
<p>"An’ I says, ’Do I use files? Why I use… ARJ files, GIF files, JPEG files, JAR files, RAR files, PNG files, DOC files, MPEG files, TXT files, PUB files, PY files, LOG files…</p>
<p>“‘An’ I use files, files, files, files, files, files, files, files, files, files, files, files, files, files, files, files, files, files, files, files, files, files, files… files all the time!’—Take shots! 11!”</p>
<p>—With sincere apologies to <em>Jughead</em> and <em>The Hockey Song</em>.</p>
</blockquote>
<p>We’re going to take a look at files from a high level, look at how to do some basic operations on files, and we’ll leave it there for now. Later we’ll revisit some more advanced techniques.</p>
<p>But what <em>is</em> a file actually?</p>
<p>Let’s start by saying a file is a collection of characters stored in a particular order on your disk or SSD on your computer.</p>
<p>We’ve already seen a bunch of examples—our Python source files that we’ve been saving this whole time! They’re sequences of characters stored in a specific order and saved on disk.</p>
<p>Now, files are actually far more general-purpose than that, but let’s start with this. We can always chase the rabbit further down the rabbit hole later.</p>
<p>For this chapter, we’re going to use a type of file commonly called a <em>text file</em>. This is also just a sequence of characters, just like a Python source file. But text files can be anything. Love letters, The Gettysburg Address, the lyrics for the latest hit single by that one band, the number <span class="math inline">\(\pi\)</span> computed to a million decimal places, or whatever.</p>
<blockquote>
<p>Technically, Python source files are text files, as well, but they’re a specific type. All Python source files are text files, but not all text files are Python source files.</p>
</blockquote>
<p>As a human, you can identify the type of file by its <em>extension</em>. That is, the part of the filename after the last period in the file.</p>
<p>For Python, we’ve been using <code>.py</code> (pronounced “dot-pie”) as the extension, identifying this file as a Python source file.</p>
<p>General text files use <code>.txt</code> (“dot-text”) as an extension. And you can make them with the same editor you’ve been using to write Python code.</p>
<p>Go ahead and open a new file, and call it <code>wargames.txt</code>. Enter some text into it, like this:</p>
<blockquote>
<p>What he did was great! He designed his computer so that it could learn from its own mistakes. So, they’d be better the next time they played. The system actually learned how to learn. It could teach itself!</p>
</blockquote>
<p>Now, the question is, how do you run a Python program that <em>reads</em> this file in, and stores or manipulates the data in memory?</p>
<h2 id="reading-files-the-classic-way">Reading Files, The Classic Way</h2>
<p>Problem-solving step: <strong>Understanding the Problem</strong>.</p>
<p>In many programming languages, there are three steps to reading a file:</p>
<ol type="1">
<li>Open the file for reading.</li>
<li>Read data from the file.</li>
<li>Close the file.</li>
</ol>
<p>This is super-duper common.</p>
<p>What does it mean to “open” and “close” the file?</p>
<p>Well, it’s analogous to when you open the file in your editor, and then close it.</p>
<p>“Opening” is asking the <em>operating system</em><a href="#fn146" class="footnote-ref" id="fnref146" role="doc-noteref"><sup>146</sup></a> (OS) to give you access to the file. You can open for reading, for writing, or for both.</p>
<p>For this section, we’ll want to ask the OS to open the file for reading.</p>
<p>“Closing” the file is the opposite of opening. We’re telling the OS that we’re done with the file. The OS does any cleanup it has to. You should always close any files you open. (All files that you open will automatically be closed when your program completes its run, but you still should explicitly close them anyway<a href="#fn147" class="footnote-ref" id="fnref147" role="doc-noteref"><sup>147</sup></a>.)</p>
<p>And “reading” is actually pulling the data from the file on disk into strings in memory.</p>
<p>Problem-solving step: <strong>Devising a Plan</strong></p>
<p>Let’s write <a href="https://beej.us/guide/bgpython/examples/fileread1.py">some code</a><a href="#fn148" class="footnote-ref" id="fnref148" role="doc-noteref"><sup>148</sup></a> to read our <code>wargames.txt</code> file and print out the contents on the screen.</p>
<p>Our steps will be:</p>
<ol type="1">
<li>Open the file</li>
<li>Read the data</li>
<li>Close the file</li>
<li>Print the data</li>
</ol>
<p>Problem-solving step: <strong>Carrying Out the Plan</strong></p>
<div class="sourceCode" id="cb362"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb362-1"><a href="#cb362-1" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Open the file</span></span>
<span id="cb362-2"><a href="#cb362-2" aria-hidden="true" tabindex="-1"></a>    f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&quot;wargames.txt&quot;</span>)</span>
<span id="cb362-3"><a href="#cb362-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb362-4"><a href="#cb362-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Read all data from the file</span></span>
<span id="cb362-5"><a href="#cb362-5" aria-hidden="true" tabindex="-1"></a>    data <span class="op">=</span> f.read()</span>
<span id="cb362-6"><a href="#cb362-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb362-7"><a href="#cb362-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Close the file</span></span>
<span id="cb362-8"><a href="#cb362-8" aria-hidden="true" tabindex="-1"></a>    f.close()</span>
<span id="cb362-9"><a href="#cb362-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb362-10"><a href="#cb362-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Print out the data we read earlier</span></span>
<span id="cb362-11"><a href="#cb362-11" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(data)</span></code></pre></div>
<p>Some things to note:</p>
<ul>
<li>When we opened the file, we didn’t specify read or write. In Python, it’s “read” by default.</li>
<li>Notice that we close the file before we print anything. We didn’t <em>have</em> to, but it demonstrates how we now have a <em>copy</em> of the data in memory. We can still use it, even though we’ve closed the file.</li>
</ul>
<p>Since we have a copy of the data, we can do all kinds of stuff to change it.</p>
<p>If you modify the last two lines to be:</p>
<div class="sourceCode" id="cb363"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb363-1"><a href="#cb363-1" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Print out the data we read earlier</span></span>
<span id="cb363-2"><a href="#cb363-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(data.upper())</span></code></pre></div>
<p>we’ll get the output in uppercase. (But the original file is still lowercase, of course!) It’s our copy of the data to do with as we please!</p>
<h2 id="opening-files-with-with">Opening Files with <code>with</code></h2>
<p>Now there is a more <em>canonical</em><a href="#fn149" class="footnote-ref" id="fnref149" role="doc-noteref"><sup>149</sup></a> approach to reading files using the <code>with</code> statement in Python.</p>
<p>Earlier, we read a file</p>
<div class="sourceCode" id="cb364"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb364-1"><a href="#cb364-1" aria-hidden="true" tabindex="-1"></a>    f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&quot;wargames.txt&quot;</span>)</span>
<span id="cb364-2"><a href="#cb364-2" aria-hidden="true" tabindex="-1"></a>    data <span class="op">=</span> f.read()</span>
<span id="cb364-3"><a href="#cb364-3" aria-hidden="true" tabindex="-1"></a>    f.close()</span>
<span id="cb364-4"><a href="#cb364-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(data)</span></code></pre></div>
<p>The equivalent using the <code>with</code> statement looks like this:</p>
<div class="sourceCode" id="cb365"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb365-1"><a href="#cb365-1" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> <span class="bu">open</span>(<span class="st">&quot;wargames.txt&quot;</span>) <span class="im">as</span> f:</span>
<span id="cb365-2"><a href="#cb365-2" aria-hidden="true" tabindex="-1"></a>        data <span class="op">=</span> f.read()</span>
<span id="cb365-3"><a href="#cb365-3" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(data)</span></code></pre></div>
<p>If you’re looking closely, you’ll notice that the <code>f.close()</code> is missing. That’s because when you use <code>with</code> to open the file, that gets handled automatically for you! Not only that, but even if some error occurs, the file will be properly closed.</p>
<p>Although the pattern of open-read-close is really common in other languages, and Python supports it, the preferred way of doing things is with the fantastic <code>with</code> statement.</p>
<h2 id="file1-line-at-a-time">Reading Data a Line at a Time</h2>
<p>Check this out: in our previous examples, we read the entire file into memory at once. That’s what the <code>.read()</code> method does.</p>
<p>For small files, that’s no problem.</p>
<p>But what if you have a file that’s 200 GB of data? You (probably, as of this writing in 2020) don’t have that much memory. How can you deal with big files like this?</p>
<p>The answer is to read them a little bit at a time.</p>
<p>With text files like this, a common thing to do is to read them a <em>line</em> at a time. Then you process that line, and then move on to the next one. This way you only need to have a single line from the file in memory at once, instead of the whole 200 GB worth.</p>
<p>Let’s use the <code>with</code> statement to open a file, and then read a line at a time.</p>
<div class="sourceCode" id="cb366"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb366-1"><a href="#cb366-1" aria-hidden="true" tabindex="-1"></a>    line_num <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb366-2"><a href="#cb366-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> <span class="bu">open</span>(<span class="st">&quot;wargames.txt&quot;</span>) <span class="im">as</span> f:</span>
<span id="cb366-3"><a href="#cb366-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> line <span class="kw">in</span> f:</span>
<span id="cb366-4"><a href="#cb366-4" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f&#39;</span><span class="sc">{</span>line_num<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>line<span class="sc">}</span><span class="ss">&#39;</span>)</span>
<span id="cb366-5"><a href="#cb366-5" aria-hidden="true" tabindex="-1"></a>            line_num <span class="op">+=</span> <span class="dv">1</span></span></code></pre></div>
<p>And we get this output:</p>
<pre><code>    1: What he did was great! He designed his computer so that it could learn
    
    2: from its own mistakes. So, they&#39;d be better the next time they played.
    
    3: The system actually learned how to learn. It could teach itself!
     </code></pre>
<p>Pretty neat, eh? We just get to use a <code>for</code> loop on the opened file to read one line at a time.</p>
<p>But wait! Why is there an extra newline being printed out? What are those blank lines between the lines?</p>
<p>This is a common beginner mistake. The reason is that there is a newline at the end of every line of the file already (because that’s where the line breaks are). And, in addition, <code>print()</code> adds its own newline! So we get both of them printed.</p>
<p>The easiest workaround is to use the <code>end</code> keyword argument on <code>print()</code> to stop it from adding a newline of its own:</p>
<div class="sourceCode" id="cb368"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb368-1"><a href="#cb368-1" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&#39;</span><span class="sc">{</span>line_num<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>line<span class="sc">}</span><span class="ss">&#39;</span>, end<span class="op">=</span><span class="st">&#39;&#39;</span>)</span></code></pre></div>
<p>Another option is to use <code>.rstrip()</code> on the string to strip newlines from the end.</p>
<div class="sourceCode" id="cb369"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb369-1"><a href="#cb369-1" aria-hidden="true" tabindex="-1"></a>    line <span class="op">=</span> line.rstrip(<span class="st">&#39;</span><span class="ch">\r\n</span><span class="st">&#39;</span>)</span></code></pre></div>
<p>That’ll strip carriage returns or newlines from the right side of the string. We have to specify both since some OSes use different characters to represent the end of the line, somewhat irksomely.</p>
<p>An even-more-portable way to write this is to first:</p>
<div class="sourceCode" id="cb370"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb370-1"><a href="#cb370-1" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> os</span></code></pre></div>
<p>then</p>
<div class="sourceCode" id="cb371"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb371-1"><a href="#cb371-1" aria-hidden="true" tabindex="-1"></a>    line <span class="op">=</span> line.rstrip(os.linesep)</span></code></pre></div>
<p>and Python will automatically use the proper end-of-line character no matter what system you’re running the program on.</p>
<h2 id="writing-files">Writing files</h2>
<p>Problem-solving step: <strong>Understanding the Problem</strong>.</p>
<p>So far we’ve been dealing with getting data out of files, but now let’s talk about creating new file and writing data to them.</p>
<p>This is a how programs permanently save data that they need to use later. If you don’t save the data to disk, then it all vanishes once the program exits.</p>
<p>The process is similar to reading, except when we open the file, we need to specify that we want to <em>write</em>. (If we don’t tell <code>open()</code> otherwise, it assumes we’re opening for reading.)</p>
<blockquote>
<p><strong>WARNING</strong>: if you open an existing file for writing, the contents of that file are instantly lost!</p>
</blockquote>
<p>Let’s open a file and write some data to it using the <code>write()</code> method.</p>
<div class="sourceCode" id="cb372"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb372-1"><a href="#cb372-1" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> <span class="bu">open</span>(<span class="st">&quot;newfile.txt&quot;</span>, <span class="st">&quot;w&quot;</span>) <span class="im">as</span> f:</span>
<span id="cb372-2"><a href="#cb372-2" aria-hidden="true" tabindex="-1"></a>        f.write(<span class="st">&quot;Hello, world!</span><span class="ch">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<p>There we go! If you run this, then have a look, you’ll see a file called <code>newfile.txt</code> that has the magic words in it.</p>
<p>Now you have the power to save data to disk and read it back again!</p>
<h2 id="chapter-project-4">Chapter Project</h2>
<p>If you need to, <a href="#file1-proj-spec">review the specification at the top of the chapter</a>.</p>
<p>This project is a bit bigger than the others, eh? I mean, writing an entire editor is kinda biting off a lot, isn’t it?</p>
<p>Sure! Yeah, it’s a lot. But we can do it using the problem solving framework just like always.</p>
<p>Something else a little different here is that I’m not going to include line numbers in the listings. You’ll have to work out the proper place to put the code based on my descriptions and what makes sense. With practice, it should get clearer how things piece together.</p>
<p>Let’s start!</p>
<p>Problem-solving step: <strong>Understanding the Problem</strong>.</p>
<p>Review the spec from earlier if you have to, but the basic chunks of this program are:</p>
<ul>
<li>Parse the command line to get the filename</li>
<li>Read a file</li>
<li>Write a file</li>
<li>Read user commands as input</li>
<li>List the file on the screen</li>
<li>Append lines to the file</li>
<li>Edit existing lines</li>
<li>Delete lines</li>
</ul>
<p>So first, make sure we know what all those do.</p>
<p>Then we’ll attack.</p>
<p>Problem-solving step: <strong>Devising a Plan</strong></p>
<p>We’re going to do something a little different this time. We’re going to make an overarching plan, and then jump back and forth between Planning and Carrying Out the subplans the larger plan is comprised of.</p>
<p>This is little more like how software dev actually works. You have a general idea of where you’re going, and you work out the details as you get to them.</p>
<blockquote>
<p>This is a bit of a double-edged sword, and it takes practice and experience to get it right. You don’t want to overplan, because you’re undoubtedly going to have to change things and you don’t want to waste your time. And you don’t want to underplan, because then hidden gotchas might… get you later. You want to plan <em>just the right amount</em>. Whatever that is.</p>
<p>In reality, devs consistently underplan. And they still make it work somehow, like <em>MAGIC</em>.</p>
<p>And by “<em>MAGIC</em>”, I mean tons of sweat, tears, and off-color language.</p>
</blockquote>
<p>Being able to do this is a really, really important skill to practice. This is where software development <em>really</em> happens. The rest of coding is just writing things down.</p>
<p>So let’s do the rough overall, based on the outline, above in Understanding The Problem.</p>
<ul>
<li>First we’ll get the filename from the command line.</li>
<li>Then we’ll read the file.</li>
<li>Then we’ll loop to get input for whatever it is the user wants to do (append, list, edit, write, etc.)</li>
<li>For whatever the user enters, we’ll do that thing.</li>
<li>When the user says <code>q</code> to quit, we’ll quit.</li>
</ul>
<p>That’s a pretty loose plan. I mean, “We’ll do that thing,” isn’t exactly well-fleshed-out. But we know it’s possible to do them, and we can work on those individual command components one at a time (since none of them are really dependent on one another).</p>
<p>Looks like some of those we can work on right away.</p>
<p>Problem-solving step: <strong>Devising a Plan</strong></p>
<p>Let’s start simple. Simplifying the problem is always a good way to get bits and pieces done. Also, getting a minimum working piece going as soon as possible can help direct our efforts and keep motivation up. Get a core piece in place, and then keep adding on.</p>
<p>What’s a simple version of the program?</p>
<p>Well, we could start by looking at the command line to see if there’s a filename there or not, and storing it if there is.</p>
<p>Remember the user has the option to run the program without specifying a filename (since maybe they’re creating a new file).</p>
<p>So we want to check the command line args in <code>sys.argv</code>. If the user specified a filename, we’ll store it. If they didn’t, we’ll store <code>None</code> to indicate that case. If they specify more than one argument, we’ll print out a usage message.</p>
<p>Great! Let’s go!</p>
<p>Problem-solving step: <strong>Carrying Out the Plan</strong></p>
<div class="sourceCode" id="cb373"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb373-1"><a href="#cb373-1" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> sys</span>
<span id="cb373-2"><a href="#cb373-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb373-3"><a href="#cb373-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Parse the command line</span></span>
<span id="cb373-4"><a href="#cb373-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb373-5"><a href="#cb373-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">len</span>(sys.argv) <span class="op">==</span> <span class="dv">2</span>:</span>
<span id="cb373-6"><a href="#cb373-6" aria-hidden="true" tabindex="-1"></a>        filename <span class="op">=</span> sys.argv[<span class="dv">1</span>]</span>
<span id="cb373-7"><a href="#cb373-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb373-8"><a href="#cb373-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> <span class="bu">len</span>(sys.argv) <span class="op">==</span> <span class="dv">1</span>:</span>
<span id="cb373-9"><a href="#cb373-9" aria-hidden="true" tabindex="-1"></a>        <span class="co"># We&#39;ll use this as a sentinel value later if we need to prompt for</span></span>
<span id="cb373-10"><a href="#cb373-10" aria-hidden="true" tabindex="-1"></a>        <span class="co"># a filename when writing the file.</span></span>
<span id="cb373-11"><a href="#cb373-11" aria-hidden="true" tabindex="-1"></a>        filename <span class="op">=</span> <span class="va">None</span></span>
<span id="cb373-12"><a href="#cb373-12" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb373-13"><a href="#cb373-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb373-14"><a href="#cb373-14" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;usage: lineedit.py [filename]&quot;</span>, <span class="bu">file</span><span class="op">=</span>sys.stderr)</span>
<span id="cb373-15"><a href="#cb373-15" aria-hidden="true" tabindex="-1"></a>        sys.exit(<span class="dv">1</span>)</span>
<span id="cb373-16"><a href="#cb373-16" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb373-17"><a href="#cb373-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Let&#39;s just print it here to make sure it&#39;s working</span></span>
<span id="cb373-18"><a href="#cb373-18" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(filename)</span></code></pre></div>
<p>That last line is only there temporarily. This lets us test things out.</p>
<pre><code>    $ python lineedit.py
    None
    
    $ python lineedit.py test
    test
    
    $ python lineedit.py test something
    usage: lineedit.py [filename]</code></pre>
<p>Perfect. What’s next?</p>
<p>Problem-solving step: <strong>Devising a Plan</strong></p>
<p>Looks like the next reasonable step is to read the file into memory so that we can manipulate it later.</p>
<p>So a couple questions:</p>
<ul>
<li>How do we read a file?</li>
<li>What do we store it in?</li>
</ul>
<p>As for the first, hopefully you’ve been reading this chapter and know about <a href="#file1-line-at-a-time">how to open a file for reading and read individual lines from it</a>.</p>
<p>But how to keep all those lines?</p>
<p>Think about all the data structures we’ve talked about so far… lists, dicts, objects… What is the file the most like?</p>
<p>Go ahead and give it some thought before I spoil it in the next couple sentences.</p>
<p>You might argue that each line is like an object. And it is. It wouldn’t be wrong to have a class that represents a line. But somehow you still need to store a list of lines.</p>
<p>Gah, what a giveaway!</p>
<p>Yeah, a list seems like a good idea. In a way, a text file is simply a list of lines.</p>
<p>So let’s read the file a line at a time, storing each into a list as we go.</p>
<p>This seems like a self-contained piece of code, so I’m going to go ahead and write a function that accepts a filename as an argument, and then returns a list of all the lines in that file.</p>
<ul>
<li>Make an empty list</li>
<li>Open the file</li>
<li>For each line of the file, append it to the list</li>
<li>Return the list</li>
</ul>
<p>Problem-solving step: <strong>Carrying Out the Plan</strong></p>
<div class="sourceCode" id="cb375"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb375-1"><a href="#cb375-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> read_file(filename):</span>
<span id="cb375-2"><a href="#cb375-2" aria-hidden="true" tabindex="-1"></a>        <span class="co">&quot;&quot;&quot;Read a file from disk&quot;&quot;&quot;</span></span>
<span id="cb375-3"><a href="#cb375-3" aria-hidden="true" tabindex="-1"></a>        lines <span class="op">=</span> []</span>
<span id="cb375-4"><a href="#cb375-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb375-5"><a href="#cb375-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">with</span> <span class="bu">open</span>(filename) <span class="im">as</span> f:</span>
<span id="cb375-6"><a href="#cb375-6" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> line <span class="kw">in</span> f:</span>
<span id="cb375-7"><a href="#cb375-7" aria-hidden="true" tabindex="-1"></a>                lines.append(line)</span>
<span id="cb375-8"><a href="#cb375-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb375-9"><a href="#cb375-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> lines</span>
<span id="cb375-10"><a href="#cb375-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb375-11"><a href="#cb375-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> filename <span class="kw">is</span> <span class="kw">not</span> <span class="va">None</span>:</span>
<span id="cb375-12"><a href="#cb375-12" aria-hidden="true" tabindex="-1"></a>        lines <span class="op">=</span> read_file(filename)</span>
<span id="cb375-13"><a href="#cb375-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb375-14"><a href="#cb375-14" aria-hidden="true" tabindex="-1"></a>        lines <span class="op">=</span> []</span>
<span id="cb375-15"><a href="#cb375-15" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb375-16"><a href="#cb375-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Print it out just to make sure it works right</span></span>
<span id="cb375-17"><a href="#cb375-17" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(lines)</span></code></pre></div>
<p>Now if we run that, and specify an input filename, it should print out a list with all the lines in that file.</p>
<p>Of course, we need a sample input file. You can make one in VS Code—just edit a new file called <code>lines.txt</code> and put whatever you want in it. (About five lines is good for testing.) If you don’t want to bother, there’s a file <a href="https://beej.us/guide/bgpython/examples/lines.txt"><code>lines.txt</code> in the examples directory</a><a href="#fn150" class="footnote-ref" id="fnref150" role="doc-noteref"><sup>150</sup></a>.</p>
<p>Running it, we get our list, just like we wanted!</p>
<pre><code>    $ python lineedit.py lines.txt 
    [&#39;This is line 1\n&#39;, &#39;This is line 2\n&#39;, &#39;This is line 3\n&#39;,
    &#39;This is line 4\n&#39;, &#39;This is line 5&#39;]
    
    $ python lineedit.py
    []</code></pre>
<p>Take a moment to digest what we did there: we made a <em>copy</em> of the data that was on disk and stored that copy in memory.</p>
<p>What’s next in the big overall plan? Looks like it might be time for a user input loop.</p>
<p>Problem-solving step: <strong>Devising a Plan</strong></p>
<p>This is like so many other input loops we’ve done so far:</p>
<ul>
<li>Print a prompt</li>
<li>Parse the input</li>
<li>Run the command</li>
<li>Stop looping when the user says to quit</li>
</ul>
<p>Problem-solving step: <strong>Carrying Out the Plan</strong></p>
<p>Your standard input loop. All it does is let you type <code>q</code>:</p>
<div class="sourceCode" id="cb377"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb377-1"><a href="#cb377-1" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Main loop</span></span>
<span id="cb377-2"><a href="#cb377-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb377-3"><a href="#cb377-3" aria-hidden="true" tabindex="-1"></a>    done <span class="op">=</span> <span class="va">False</span></span>
<span id="cb377-4"><a href="#cb377-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb377-5"><a href="#cb377-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="kw">not</span> done:</span>
<span id="cb377-6"><a href="#cb377-6" aria-hidden="true" tabindex="-1"></a>        command <span class="op">=</span> <span class="bu">input</span>(<span class="st">&quot;&gt; &quot;</span>).strip()</span>
<span id="cb377-7"><a href="#cb377-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb377-8"><a href="#cb377-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> command[<span class="dv">0</span>] <span class="op">==</span> <span class="st">&#39;q&#39;</span>:</span>
<span id="cb377-9"><a href="#cb377-9" aria-hidden="true" tabindex="-1"></a>            done <span class="op">=</span> <span class="va">True</span></span></code></pre></div>
<p>If you hit <code>RETURN</code> it pukes right away because <code>command[0]</code> isn’t a thing if the string is empty.</p>
<p>A common thing to do here is just print another prompt if the user enters a blank line. We can add this after the <code>input()</code> line to do that:</p>
<div class="sourceCode" id="cb378"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb378-1"><a href="#cb378-1" aria-hidden="true" tabindex="-1"></a>        <span class="co"># If the user entered a blank line, just give them another prompt</span></span>
<span id="cb378-2"><a href="#cb378-2" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> command <span class="op">==</span> <span class="st">&#39;&#39;</span>:</span>
<span id="cb378-3"><a href="#cb378-3" aria-hidden="true" tabindex="-1"></a>            <span class="cf">continue</span></span></code></pre></div>
<p>And finally, let’s add some output as an <code>else</code> to tell the user if they input something we didn’t recognize:</p>
<div class="sourceCode" id="cb379"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb379-1"><a href="#cb379-1" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb379-2"><a href="#cb379-2" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">&quot;unknown command&quot;</span>)</span></code></pre></div>
<p>OK! Now if we run it, we should be able to handle blank lines, unknown commands, and <code>q</code> for quit.</p>
<pre><code>    $ python lineedit.py lines.txt 
    &gt; x
    unknown command
    &gt;                       [ user hit RETURN a few times here ]
    &gt; 
    &gt;
    &gt; q
    $</code></pre>
<p>Not much of an editor so far, but Facebook wasn’t built in a day. We’re just slowly getting the pieces in place.</p>
<p>What’s a good piece to do next? Lots of options, because now we’re to the point of implementing the handlers for the various commands (besides the one for quitting, which we just did).</p>
<p>Personally, if we have things that display data and things that modify data, I prefer to do the ones that display the data first. They’re less likely to mess things up (since we’re not modifying data), and if you can’t display the data correctly, your odds of modifying it correctly are low, indeed.</p>
<p>So let’s hit up that “list” command that will show us lines from the file.</p>
<p>Problem-solving step: <strong>Devising a Plan</strong></p>
<p>The list command takes a single argument representing the line number to start listing from. And then it should list for 10 lines.</p>
<p>Since we have all the lines in a list already, this isn’t too entirely horrible. We just have to:</p>
<ul>
<li>Parse the starting position as entered by the user.</li>
<li>If they entered a number less than 1, assume they meant 1.</li>
<li>Start looping from that number, printing out 10 lines.</li>
<li>If we hit the last line, stop printing.</li>
</ul>
<p>Since we have all these different kinds of functionality, let’s put them in individual functions to keep the code well organized.</p>
<p>We’ll make a <code>handle_list()</code> function that is called when the user asks to list the file. It’ll take a couple arguments: the arguments the user typed after a command, as well as the list of lines we’re going to manipulate.</p>
<p>Problem-solving step: <strong>Carrying Out the Plan</strong></p>
<p>Firstly, let’s check and see if the user wants to list lines by checking to see if the first letter of the command is <code>l</code>. If it is, then <em>it’s on</em>.</p>
<p>But there’s an argument after the <code>l</code>, right? The user has to specify which line to start listing from. And we have to get that into our <code>handle_list()</code> function somehow.</p>
<p>So let’s do two things. Let’s parse those arguments, if any, out of the overall command. We’ll use <code>split()</code> to break the command apart on spaces, and then we’ll use a slice from <code>[1:]</code> (that is, from the second element to the end) to get all the arguments.</p>
<p>The result will have any arguments following the command in a list, or an empty list if there were no arguments.</p>
<p>And then we’ll pass that to our handler function:</p>
<div class="sourceCode" id="cb381"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb381-1"><a href="#cb381-1" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Grab the arguments after the command</span></span>
<span id="cb381-2"><a href="#cb381-2" aria-hidden="true" tabindex="-1"></a>        args <span class="op">=</span> command.split(<span class="st">&quot; &quot;</span>)[<span class="dv">1</span>:]</span>
<span id="cb381-3"><a href="#cb381-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb381-4"><a href="#cb381-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> command[<span class="dv">0</span>] <span class="op">==</span> <span class="st">&#39;q&#39;</span>:</span>
<span id="cb381-5"><a href="#cb381-5" aria-hidden="true" tabindex="-1"></a>            done <span class="op">=</span> <span class="va">True</span></span>
<span id="cb381-6"><a href="#cb381-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb381-7"><a href="#cb381-7" aria-hidden="true" tabindex="-1"></a>        <span class="co"># List lines</span></span>
<span id="cb381-8"><a href="#cb381-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> command[<span class="dv">0</span>] <span class="op">==</span> <span class="st">&#39;l&#39;</span>:</span>
<span id="cb381-9"><a href="#cb381-9" aria-hidden="true" tabindex="-1"></a>            handle_list(args, lines)</span></code></pre></div>
<p>And let’s code up a <em>stub</em><a href="#fn151" class="footnote-ref" id="fnref151" role="doc-noteref"><sup>151</sup></a> of the function to handle it, just to see if its working:</p>
<div class="sourceCode" id="cb382"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb382-1"><a href="#cb382-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> handle_list(args, lines):</span>
<span id="cb382-2"><a href="#cb382-2" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&#39;Handle list: </span><span class="sc">{</span>args<span class="sc">}</span><span class="ss">, </span><span class="sc">{</span>lines<span class="sc">}</span><span class="ss">&#39;</span>)</span></code></pre></div>
<p>Running, we get this:</p>
<pre><code>    $ python lineedit.py lines.txt
    &gt; l
    Handle list: [], [&#39;This is line 1\n&#39;, &#39;This is line 2\n&#39;,
    &#39;This is line 3\n&#39;, &#39;This is line 4\n&#39;, &#39;This is line 5\n&#39;]
    &gt; l 99
    Handle list: [&#39;99&#39;], [&#39;This is line 1\n&#39;, &#39;This is line 2\n&#39;,
    &#39;This is line 3\n&#39;, &#39;This is line 4\n&#39;, &#39;This is line 5\n&#39;]</code></pre>
<p>So you can see that the lines are all coming in right. But, more importantly, our <em>argument</em> is coming in right.</p>
<p>In the first call, it prints out as <code>[]</code> empty.</p>
<p>But on the second, we see <code>['99']</code> which is the number we told it to list.</p>
<p>We just have to extract that number somehow.</p>
<p>But before we do, we’d better test to see if the user entered an argument at all. It’s required for the list command, after all.</p>
<p>Then we’ll use the start and end lines to print out everything in between.</p>
<div class="sourceCode" id="cb384"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb384-1"><a href="#cb384-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> handle_list(args, lines):</span>
<span id="cb384-2"><a href="#cb384-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb384-3"><a href="#cb384-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="bu">len</span>(args) <span class="op">==</span> <span class="dv">1</span>:</span>
<span id="cb384-4"><a href="#cb384-4" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Compute start and end lines</span></span>
<span id="cb384-5"><a href="#cb384-5" aria-hidden="true" tabindex="-1"></a>            start <span class="op">=</span> <span class="bu">int</span>(args[<span class="dv">0</span>])</span>
<span id="cb384-6"><a href="#cb384-6" aria-hidden="true" tabindex="-1"></a>            end <span class="op">=</span> start <span class="op">+</span> <span class="dv">10</span>  <span class="co"># print 10 lines</span></span>
<span id="cb384-7"><a href="#cb384-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb384-8"><a href="#cb384-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb384-9"><a href="#cb384-9" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">&quot;usage: l line_num&quot;</span>)</span>
<span id="cb384-10"><a href="#cb384-10" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span></span>
<span id="cb384-11"><a href="#cb384-11" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb384-12"><a href="#cb384-12" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Print all the lines</span></span>
<span id="cb384-13"><a href="#cb384-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(start, end):</span>
<span id="cb384-14"><a href="#cb384-14" aria-hidden="true" tabindex="-1"></a>            <span class="co"># end=&quot;&quot; to suppress newlines (since lines already have them)</span></span>
<span id="cb384-15"><a href="#cb384-15" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f&#39;</span><span class="sc">{i}</span><span class="ss">: </span><span class="sc">{</span>lines[i]<span class="sc">}</span><span class="ss">&#39;</span>, end<span class="op">=</span><span class="st">&quot;&quot;</span>)</span></code></pre></div>
<p>Now, if we run this, we see a problem:</p>
<pre><code>    $ python lineedit.py lines.txt
    &gt; l 1
    1: This is line 2
    2: This is line 3
    3: This is line 4
    4: This is line 5
    Traceback (most recent call last):
      File &quot;lineedit.py&quot;, line 71, in &lt;module&gt;
        handle_list(args, lines)
      File &quot;lineedit.py&quot;, line 43, in handle_list
        print(f&#39;{i}: {lines[i]}&#39;, end=&quot;&quot;)
    IndexError: list index out of range</code></pre>
<p>So clearly things have gone awry. There’s that huge error message that’s dominating the accident scene and it’s hard to notice anything else other than the lines of the file being printed at the top.</p>
<p>At least nothing went wrong before that error, right?</p>
<p>…Or <em>did</em> it?</p>
<p>Notice anything weird about those first printed lines? Sure, the numbers start at <code>1</code>, but the first line says <code>This is line 2</code>! That sets off some alarm bells. (Especially since when you opened the file in your real editor, you see the first line says <code>This is line 1</code>.)</p>
<p>Problem-solving step: <strong>Understanding the Problem</strong>.</p>
<p>We have two problems.</p>
<ol type="1">
<li>That <code>list index out of range</code> error</li>
<li>Our <a href="https://en.wikipedia.org/wiki/Off-by-one_error"><em>off-by-one error</em></a><a href="#fn152" class="footnote-ref" id="fnref152" role="doc-noteref"><sup>152</sup></a> that’s causing our lines to be off by one.</li>
</ol>
<p>Yes, off-by-one errors are famous enough to have their own Wikipedia page.</p>
<p>As the name suggests, our computations are one off. But why? How?</p>
<p>This is a really common disagreement between humans and computers. We humans like to have our lists start at index “1”, and computers like them to start at index “0”. It’s the age old battle. Even the Romans started with “I”, but that was mainly because Roman numerals didn’t have a character for zero until 725 AD—latecomers!</p>
<p>And in this case, we have a human entering numbers that start indexing at “1”. And we print them out for the human to see starting with index “1”…</p>
<p>But in Python, the lines are in a list starting from index “0”!</p>
<p>Problem-solving step: <strong>Devising a Plan</strong></p>
<p>We need to do some math.</p>
<ul>
<li>When we want to go from a human (1-based) index to a computer (0-based) index, we <em>subtract</em> one from the number. 1 becomes 0.</li>
<li>When we want to go from a computer (0-based) index to a human (1-based) index, we <em>add</em> one from the number. 0 becomes 1.</li>
</ul>
<p>Since we’re using <code>start</code> and <code>end</code> to index the list, I feel a bit better having them 0-based because the list is 0-based.</p>
<p>There’s a general rule of thumb at play here:</p>
<ul>
<li>When a user enters a 1-based number, convert it to 0-based as soon as you can for internal use in the program.</li>
<li>When you have to display a 1-based number, keep it 0-based for as long as you can, and only convert it at the last second when you output it.</li>
</ul>
<p>Keeping these conversions to a minimum and doing them only on input and output can save you a lot of headaches.</p>
<p>What <strong>not</strong> to do: don’t just jump in and start adding <code>+1</code>s and <code>-1</code>s all over the place and hoping for the best. That way lies madness, assuredly. Stop, understand, and plan. And then carry it out.</p>
<p>Problem-solving step: <strong>Carrying Out the Plan</strong></p>
<p>I’m going to write a little helper function here to convert from 0-based to 1-based since I think we’re going to be using this all over the place. And it helps clarify the code a bit; instead of having a bunch of <code>+1</code>s and <code>-1</code>s all over, you have a function name that has some meaning to future readers.</p>
<div class="sourceCode" id="cb386"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb386-1"><a href="#cb386-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> one_to_zero(n):</span>
<span id="cb386-2"><a href="#cb386-2" aria-hidden="true" tabindex="-1"></a>        <span class="co">&quot;&quot;&quot;Convert a number from a 1-based index to a 0-based index.&quot;&quot;&quot;</span></span>
<span id="cb386-3"><a href="#cb386-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> n <span class="op">-</span> <span class="dv">1</span></span></code></pre></div>
<p>And now we can make use of that. Let’s make <code>start</code> 0-based and try it out.</p>
<div class="sourceCode" id="cb387"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb387-1"><a href="#cb387-1" aria-hidden="true" tabindex="-1"></a>            start <span class="op">=</span> one_to_zero(<span class="bu">int</span>(args[<span class="dv">0</span>]))</span></code></pre></div>
<p>Now running it gives:</p>
<pre><code>    $ python lineedit.py lines.txt
    &gt; l 1 
    0: This is line 1
    1: This is line 2
    2: This is line 3
    3: This is line 4
    4: This is line 5
    Traceback (most recent call last):
      File &quot;lineedit.py&quot;, line 76, in &lt;module&gt;
        handle_list(args, lines)
      File &quot;lineedit.py&quot;, line 48, in handle_list
        print(f&#39;{i}: {lines[i]}&#39;, end=&quot;&quot;)
    IndexError: list index out of range</code></pre>
<p>Same pukey error, but let’s look at the lines before then. The good news is we’re getting all the lines printed. The bad news is that line number on the left is in computer 0-based land, and we need it in human 1-based land. Let’s add another helper function:</p>
<div class="sourceCode" id="cb389"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb389-1"><a href="#cb389-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> zero_to_one(n):</span>
<span id="cb389-2"><a href="#cb389-2" aria-hidden="true" tabindex="-1"></a>        <span class="co">&quot;&quot;&quot;Convert a number from a 0-based index to a 1-based index.&quot;&quot;&quot;</span></span>
<span id="cb389-3"><a href="#cb389-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> n <span class="op">+</span> <span class="dv">1</span></span></code></pre></div>
<p>And then let’s call that in our print output line:</p>
<div class="sourceCode" id="cb390"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb390-1"><a href="#cb390-1" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f&#39;</span><span class="sc">{</span>zero_to_one(i)<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>lines[i]<span class="sc">}</span><span class="ss">&#39;</span>, end<span class="op">=</span><span class="st">&quot;&quot;</span>)</span></code></pre></div>
<p>Now a run gives:</p>
<pre><code>    $ python lineedit.py lines.txt
    &gt; l 1
    1: This is line 1
    2: This is line 2
    3: This is line 3
    4: This is line 4
    5: This is line 5
    Traceback (most recent call last):
      File &quot;lineedit.py&quot;, line 80, in &lt;module&gt;
        handle_list(args, lines)
      File &quot;lineedit.py&quot;, line 52, in handle_list
        print(f&#39;{zero_to_one(i)}: {lines[i]}&#39;, end=&quot;&quot;)
    IndexError: list index out of range</code></pre>
<p>Bam! That’s what we want. All lines printed with correct line numbers.</p>
<p>Now, what about that error? It’s telling us the list index is out of range, which isn’t too surprising since it’s going off the end of the file.</p>
<p>Before our <code>for</code>-loop, let’s just add some code that makes sure the <code>start</code> and <code>end</code> are sane. (Remember we’ve decided that they are 0-based indexes.)</p>
<div class="sourceCode" id="cb392"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb392-1"><a href="#cb392-1" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Make sure start isn&#39;t before the beginning of the list</span></span>
<span id="cb392-2"><a href="#cb392-2" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> start <span class="op">&lt;</span> <span class="dv">0</span>:</span>
<span id="cb392-3"><a href="#cb392-3" aria-hidden="true" tabindex="-1"></a>            start <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb392-4"><a href="#cb392-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb392-5"><a href="#cb392-5" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Make sure end isn&#39;t past the end of the list</span></span>
<span id="cb392-6"><a href="#cb392-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> end <span class="op">&gt;</span> <span class="bu">len</span>(lines):</span>
<span id="cb392-7"><a href="#cb392-7" aria-hidden="true" tabindex="-1"></a>            end <span class="op">=</span> <span class="bu">len</span>(lines)</span></code></pre></div>
<p>And then you can run the <code>for</code>-loop after that with impunity!</p>
<pre><code>    $ python lineedit.py lines.txt
    &gt; l 1
    1: This is line 1
    2: This is line 2
    3: This is line 3
    4: This is line 4
    5: This is line 5
    &gt; l 3
    3: This is line 3
    4: This is line 4
    5: This is line 5
    &gt; </code></pre>
<p>Perfection! That’s the list functionality complete!</p>
<p>Things only tend to get easier from here on out. The first part of the implementation is the worst, but now we just have variants on a theme:</p>
<ol type="1">
<li>Check for the proper command on input</li>
<li>Pass the args to a handler function for that command</li>
<li>Build out the handler function</li>
<li>Repeat</li>
</ol>
<p>What’s the next simplest thing to work on? How about “delete a line”?</p>
<p>Problem-solving step: <strong>Understanding the Problem</strong>.</p>
<p>So we want to delete a single line. This is as easy as removing an element from the list containing all the lines.</p>
<p>We just need to know the element number to remove.</p>
<p>Of course, the user enters it after the <code>d</code> command, so we can grab it from there.</p>
<p>But remember: what the user enters is 1-based! We have to convert it to 0-based before we use the number to delete a line… otherwise we’ll delete the wrong line.</p>
<p>Problem-solving step: <strong>Devising a Plan</strong></p>
<p>So we should be able to:</p>
<ul>
<li>Add a handler to the main input loop</li>
<li>In the delete handler, get the line to delete</li>
<li>Convert it to 0-based</li>
<li>Delete that line from the list of lines</li>
</ul>
<p>A little digging in the help reveals that the <code>pop()</code> method removes an element from a list at a given index:</p>
<div class="sourceCode" id="cb394"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb394-1"><a href="#cb394-1" aria-hidden="true" tabindex="-1"></a>    pop(<span class="va">self</span>, index<span class="op">=-</span><span class="dv">1</span>, <span class="op">/</span>)</span>
<span id="cb394-2"><a href="#cb394-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb394-3"><a href="#cb394-3" aria-hidden="true" tabindex="-1"></a>        Remove <span class="kw">and</span> <span class="cf">return</span> item at index (default last).</span></code></pre></div>
<p>Problem-solving step: <strong>Carrying Out the Plan</strong></p>
<p>To our main input loop, let’s go ahead and add a call to the handler if the user requests a deletion:</p>
<div class="sourceCode" id="cb395"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb395-1"><a href="#cb395-1" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Delete a line</span></span>
<span id="cb395-2"><a href="#cb395-2" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> command[<span class="dv">0</span>] <span class="op">==</span> <span class="st">&#39;d&#39;</span>:</span>
<span id="cb395-3"><a href="#cb395-3" aria-hidden="true" tabindex="-1"></a>            handle_delete(args, lines)</span></code></pre></div>
<p>And now let’s write the delete handler. This is going to be similar to the line listing handler at first: we have to get the line number the user entered, and convert it to 0-based.</p>
<p>And then make sure it’s in range.</p>
<p>And then delete that line with the <code>pop()</code> method.</p>
<div class="sourceCode" id="cb396"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb396-1"><a href="#cb396-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> handle_delete(args, lines):</span>
<span id="cb396-2"><a href="#cb396-2" aria-hidden="true" tabindex="-1"></a>        <span class="co">&quot;&quot;&quot;Delete a line in the file.&quot;&quot;&quot;</span></span>
<span id="cb396-3"><a href="#cb396-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb396-4"><a href="#cb396-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="bu">len</span>(args) <span class="op">==</span> <span class="dv">1</span>:</span>
<span id="cb396-5"><a href="#cb396-5" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Get the line number to delete</span></span>
<span id="cb396-6"><a href="#cb396-6" aria-hidden="true" tabindex="-1"></a>            line_num <span class="op">=</span> one_to_zero(<span class="bu">int</span>(args[<span class="dv">0</span>]))</span>
<span id="cb396-7"><a href="#cb396-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb396-8"><a href="#cb396-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb396-9"><a href="#cb396-9" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">&quot;usage: d line_num]&quot;</span>)</span>
<span id="cb396-10"><a href="#cb396-10" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span></span>
<span id="cb396-11"><a href="#cb396-11" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb396-12"><a href="#cb396-12" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Make sure we&#39;re in range</span></span>
<span id="cb396-13"><a href="#cb396-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> line_num <span class="op">&lt;</span> <span class="dv">0</span> <span class="kw">or</span> line_num <span class="op">&gt;=</span> <span class="bu">len</span>(lines):</span>
<span id="cb396-14"><a href="#cb396-14" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">&quot;no such line&quot;</span>)</span>
<span id="cb396-15"><a href="#cb396-15" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span></span>
<span id="cb396-16"><a href="#cb396-16" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb396-17"><a href="#cb396-17" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Delete the line</span></span>
<span id="cb396-18"><a href="#cb396-18" aria-hidden="true" tabindex="-1"></a>        lines.pop(line_num)</span></code></pre></div>
<p>And that’s all there is to it. Let’s try it:</p>
<pre><code>    &gt; l 1
    1: This is line 1
    2: This is line 2
    3: This is line 3
    4: This is line 4
    5: This is line 5
    &gt; d 3
    &gt; l 1
    1: This is line 1
    2: This is line 2
    3: This is line 4
    4: This is line 5
    &gt; d 0
    no such line
    &gt; d 5
    no such line</code></pre>
<p>Looks good!</p>
<p>What’s next easiest? Probably the “edit” functionality.</p>
<p>Problem-solving step: <strong>Understanding the Problem</strong></p>
<p>When we edit a single line, we want to replace the element in the lines list completely with a new element that we input from the keyboard.</p>
<p>The only line is thrown away.</p>
<p>For this, the user enters <code>e</code> for “edit”, followed by a line number.</p>
<p>Problem-solving step: <strong>Devising a Plan</strong></p>
<p>Let’s do the same as with delete, except that instead of using <code>pop()</code> to remove a line, we’ll just use <code>input()</code> to get another one, and store it directly in the list.</p>
<p>Problem-solving step: <strong>Carrying Out the Plan</strong></p>
<p>Firstly, let’s add that command handler to the main loop:</p>
<div class="sourceCode" id="cb398"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb398-1"><a href="#cb398-1" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Edit a line</span></span>
<span id="cb398-2"><a href="#cb398-2" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> command[<span class="dv">0</span>] <span class="op">==</span> <span class="st">&#39;e&#39;</span>:</span>
<span id="cb398-3"><a href="#cb398-3" aria-hidden="true" tabindex="-1"></a>            handle_edit(args, lines)</span></code></pre></div>
<p>Secondly, let’s implement the edit handler. Same code and rationale until the last line:</p>
<div class="sourceCode" id="cb399"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb399-1"><a href="#cb399-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> handle_edit(args, lines):</span>
<span id="cb399-2"><a href="#cb399-2" aria-hidden="true" tabindex="-1"></a>        <span class="co">&quot;&quot;&quot;Edit a line in the file.&quot;&quot;&quot;</span></span>
<span id="cb399-3"><a href="#cb399-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb399-4"><a href="#cb399-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="bu">len</span>(args) <span class="op">==</span> <span class="dv">1</span>:</span>
<span id="cb399-5"><a href="#cb399-5" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Get the line number to edit</span></span>
<span id="cb399-6"><a href="#cb399-6" aria-hidden="true" tabindex="-1"></a>            line_num <span class="op">=</span> one_to_zero(<span class="bu">int</span>(args[<span class="dv">0</span>]))</span>
<span id="cb399-7"><a href="#cb399-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb399-8"><a href="#cb399-8" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">&quot;usage: e line_num&quot;</span>)</span>
<span id="cb399-9"><a href="#cb399-9" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span></span>
<span id="cb399-10"><a href="#cb399-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb399-11"><a href="#cb399-11" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Make sure we&#39;re in range</span></span>
<span id="cb399-12"><a href="#cb399-12" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> line_num <span class="op">&lt;</span> <span class="dv">0</span> <span class="kw">or</span> line_num <span class="op">&gt;=</span> <span class="bu">len</span>(lines):</span>
<span id="cb399-13"><a href="#cb399-13" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">&quot;no such line&quot;</span>)</span>
<span id="cb399-14"><a href="#cb399-14" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span></span>
<span id="cb399-15"><a href="#cb399-15" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb399-16"><a href="#cb399-16" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Edit the line</span></span>
<span id="cb399-17"><a href="#cb399-17" aria-hidden="true" tabindex="-1"></a>        lines[line_num] <span class="op">=</span> <span class="bu">input</span>()</span></code></pre></div>
<p>Notice how we just replace the named line in the list with whatever line is returned by <code>input()</code>.</p>
<p>Let’s try it!</p>
<pre><code>    &gt; l 1
    1: This is line 1
    2: This is line 2
    3: This is line 3
    4: This is line 4
    5: This is line 5
    &gt; e 2
    NEW LINE 2!
    &gt; l 1
    1: This is line 1
    2: NEW LINE 2!3: This is line 3
    4: This is line 4
    5: This is line 5
    &gt; </code></pre>
<p>Wait a second! Lines 2 and 3 are all bunched up after I edited it! That can’t be right.</p>
<p>Problem-solving step: <strong>Understanding the Problem</strong></p>
<p>This all ties back to the newlines we keep at the end of lines in the list.</p>
<p>Remember that we’re storing each line with the newline attached to the end.</p>
<p><em>But <code>input()</code> strips the newline off!</em> Not what we were after.</p>
<p>Problem-solving step: <strong>Devising a Plan</strong></p>
<p>So we have to add the newline to the end of the, er, new line that we just entered. We’ll just tack it on with the <code>+</code> string concatenation operator.</p>
<p>Problem-solving step: <strong>Carrying Out the Plan</strong></p>
<p>Modify the last line of the <code>handle_edit()</code> function to add the newline:</p>
<div class="sourceCode" id="cb401"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb401-1"><a href="#cb401-1" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Edit the line, adding a newline to the end (since input() strips</span></span>
<span id="cb401-2"><a href="#cb401-2" aria-hidden="true" tabindex="-1"></a>        <span class="co"># it off).</span></span>
<span id="cb401-3"><a href="#cb401-3" aria-hidden="true" tabindex="-1"></a>        lines[line_num] <span class="op">=</span> <span class="bu">input</span>()<span class="co"># + &#39;\n&#39;</span></span></code></pre></div>
<p>And done with that one!</p>
<p>What’s the next easiest thing to code up? Well, looks like there’s only one more editing command: “append”.</p>
<p>Problem-solving step: <strong>Understanding the Problem</strong></p>
<p>This one’s a little different. It looks like we go ahead and read the line to append just like with any other command. But then we go into a weird mode where we repeatedly enter lines until the user enters a single period on a line by itself.</p>
<p>And each of those lines are appended in turn.</p>
<p>If the user says to append after line 0, the lines should be inserted at the top of the file.</p>
<p>Problem-solving step: <strong>Devising a Plan</strong></p>
<p>So let’s go ahead and do the usual command line parsing to see which line we want to insert after.</p>
<p>And then let’s loop until the user enters a single period.</p>
<p>Inside the loop we’ll read a line and append it into the list in the right place.</p>
<p>Looking at the documentation, there is an <code>append()</code> method for lists, but it only appends onto the end of the list.</p>
<p>We want ours to be able to do that, but also to be able to put those lines in the middle, or at the top.</p>
<p>Let’s keep looking down the documentation.</p>
<p>There’s <code>insert()</code> to put an object <em>before</em> an index. This seems to work for the beginning and the middle, but what about appending to the end? Do we have to use the <code>append()</code> method in that special case?</p>
<p>The docs aren’t entirely clear on the matter. Let’s bring up the <a href="#repl">REPL</a> and try some tests.</p>
<p>I’ll make a list and then try to <code>insert()</code> values in various places.</p>
<p>First, let’s try inserting before element 0, which should insert at the beginning:</p>
<div class="sourceCode" id="cb402"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb402-1"><a href="#cb402-1" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> a <span class="op">=</span> [<span class="dv">11</span>, <span class="dv">22</span>, <span class="dv">33</span>]</span>
<span id="cb402-2"><a href="#cb402-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> a.insert(<span class="dv">0</span>, <span class="dv">99</span>)</span>
<span id="cb402-3"><a href="#cb402-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> a</span>
<span id="cb402-4"><a href="#cb402-4" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">99</span>, <span class="dv">11</span>, <span class="dv">22</span>, <span class="dv">33</span>]</span></code></pre></div>
<p>Great! The 99 went in first, just like I wanted.</p>
<p>Let’s insert another number before index 2:</p>
<div class="sourceCode" id="cb403"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb403-1"><a href="#cb403-1" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> a.insert(<span class="dv">2</span>, <span class="dv">999</span>)</span>
<span id="cb403-2"><a href="#cb403-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> a</span>
<span id="cb403-3"><a href="#cb403-3" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">99</span>, <span class="dv">11</span>, <span class="dv">999</span>, <span class="dv">22</span>, <span class="dv">33</span>]</span></code></pre></div>
<p>That worked, too.</p>
<p>Now, the list only has up to element index 4… but let’s go out on a limb and try inserting before index 5 (which doesn’t exist) and see if that appends on the end:</p>
<div class="sourceCode" id="cb404"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb404-1"><a href="#cb404-1" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> a.insert(<span class="dv">5</span>, <span class="dv">9999</span>)</span>
<span id="cb404-2"><a href="#cb404-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> a</span>
<span id="cb404-3"><a href="#cb404-3" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">99</span>, <span class="dv">11</span>, <span class="dv">999</span>, <span class="dv">22</span>, <span class="dv">33</span>, <span class="dv">9999</span>]</span></code></pre></div>
<p>Yes! It worked! We don’t have to special case a call to <code>append()</code>.</p>
<p>It is a little weird, but if you put <em>any</em> index past the last one in for append, it’ll put the value at the end of the list.</p>
<p>If we make a small list and try to insert the value 3490 at index 99, it just puts it at the end:</p>
<div class="sourceCode" id="cb405"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb405-1"><a href="#cb405-1" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> a <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb405-2"><a href="#cb405-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> a.insert(<span class="dv">99</span>, <span class="dv">3490</span>)</span>
<span id="cb405-3"><a href="#cb405-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> a</span>
<span id="cb405-4"><a href="#cb405-4" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">3490</span>]</span></code></pre></div>
<p>This kind of experimentation to see what works and what doesn’t is really common, and is a great way to explore and learn how the system works.</p>
<p>Ok, so we:</p>
<ul>
<li>Get the line number to append after. Remember that we want this to be zero-based, so we’ll subtract 1 from whatever they enter. If they enter “2”, that means that we want to insert <em>after</em> index 1.</li>
<li>But since the <code>insert()</code> method inserts <em>before</em> a line, not after, we’d better add one to the line index so that we append after that line.</li>
<li>Then we loop until the user enters a period, inputting a line and inserting it into the list in the right place.</li>
</ul>
<p>Now, you might wonder why bother subtracting one just so we could add one right after?</p>
<p>And you’re right—it does nothing. We don’t have to do that.</p>
<p>But there’s an argument to be made that it’s clearer to a future reader of the code. We clearly subtract one to get to a 0-based indexing method as soon as possible. And we add one to get <code>insert()</code> to insert after a line instead of before it. Two different reasons to do the arithmetic, clearly spelled out. If we were to just leave them both off, that information wouldn’t be obvious to the next developer reading the code.</p>
<p>Problem-solving step: <strong>Carrying Out the Plan</strong></p>
<p>First, let’s do our standard parsing of the command argument:</p>
<div class="sourceCode" id="cb406"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb406-1"><a href="#cb406-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> handle_append(args, lines):</span>
<span id="cb406-2"><a href="#cb406-2" aria-hidden="true" tabindex="-1"></a>        <span class="co">&quot;&quot;&quot;Append a line in the file.&quot;&quot;&quot;</span></span>
<span id="cb406-3"><a href="#cb406-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb406-4"><a href="#cb406-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="bu">len</span>(args) <span class="op">==</span> <span class="dv">1</span>:</span>
<span id="cb406-5"><a href="#cb406-5" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Get the line number to append at. +1 because we want to line_num</span></span>
<span id="cb406-6"><a href="#cb406-6" aria-hidden="true" tabindex="-1"></a>            <span class="co"># adding lines one _after_ the specified line.</span></span>
<span id="cb406-7"><a href="#cb406-7" aria-hidden="true" tabindex="-1"></a>            line_num <span class="op">=</span> one_to_zero(<span class="bu">int</span>(args[<span class="dv">0</span>]))</span>
<span id="cb406-8"><a href="#cb406-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb406-9"><a href="#cb406-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb406-10"><a href="#cb406-10" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">&quot;usage: a line_num&quot;</span>)</span>
<span id="cb406-11"><a href="#cb406-11" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span></span></code></pre></div>
<p>Then, continuing down the function, do our adding one:</p>
<div class="sourceCode" id="cb407"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb407-1"><a href="#cb407-1" aria-hidden="true" tabindex="-1"></a>        <span class="co"># +1 because we want to line_num adding lines one _after_ the</span></span>
<span id="cb407-2"><a href="#cb407-2" aria-hidden="true" tabindex="-1"></a>        <span class="co"># specified line.</span></span>
<span id="cb407-3"><a href="#cb407-3" aria-hidden="true" tabindex="-1"></a>        line_num <span class="op">+=</span> <span class="dv">1</span></span></code></pre></div>
<p>Then, continuing again, let’s put in our loop to read lines until the user enters a period, and insert them into the correct location in the list.</p>
<div class="sourceCode" id="cb408"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb408-1"><a href="#cb408-1" aria-hidden="true" tabindex="-1"></a>        done <span class="op">=</span> <span class="va">False</span></span>
<span id="cb408-2"><a href="#cb408-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb408-3"><a href="#cb408-3" aria-hidden="true" tabindex="-1"></a>        <span class="co"># We&#39;re going to loop until the user enters a single `.` on a line</span></span>
<span id="cb408-4"><a href="#cb408-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">while</span> <span class="kw">not</span> done:</span>
<span id="cb408-5"><a href="#cb408-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb408-6"><a href="#cb408-6" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Read a line of input</span></span>
<span id="cb408-7"><a href="#cb408-7" aria-hidden="true" tabindex="-1"></a>            line <span class="op">=</span> <span class="bu">input</span>()</span>
<span id="cb408-8"><a href="#cb408-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb408-9"><a href="#cb408-9" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Check if we&#39;re done</span></span>
<span id="cb408-10"><a href="#cb408-10" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> line <span class="op">==</span> <span class="st">&#39;.&#39;</span>:</span>
<span id="cb408-11"><a href="#cb408-11" aria-hidden="true" tabindex="-1"></a>                done <span class="op">=</span> <span class="va">True</span></span>
<span id="cb408-12"><a href="#cb408-12" aria-hidden="true" tabindex="-1"></a>                <span class="cf">continue</span>  <span class="co"># Jump back to the `while`</span></span>
<span id="cb408-13"><a href="#cb408-13" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb408-14"><a href="#cb408-14" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Otherwise, insert the line, adding a newline to the end (since</span></span>
<span id="cb408-15"><a href="#cb408-15" aria-hidden="true" tabindex="-1"></a>            <span class="co"># input() strips it off).</span></span>
<span id="cb408-16"><a href="#cb408-16" aria-hidden="true" tabindex="-1"></a>            lines.insert(line_num, line <span class="op">+</span> <span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span>)</span>
<span id="cb408-17"><a href="#cb408-17" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb408-18"><a href="#cb408-18" aria-hidden="true" tabindex="-1"></a>            <span class="co"># And now on to the next line</span></span>
<span id="cb408-19"><a href="#cb408-19" aria-hidden="true" tabindex="-1"></a>            line_num <span class="op">+=</span> <span class="dv">1</span></span></code></pre></div>
<p>All right, let’s test it. Let’s insert lines at the beginning:</p>
<pre><code>    &gt; l 1
    1: This is line 1
    2: This is line 2
    3: This is line 3
    4: This is line 4
    5: This is line 5
    &gt; a 0
    NEW line 1
    NEW line 2
    .
    &gt; l 1
    1: NEW line 1
    2: NEW line 2
    3: This is line 1
    4: This is line 2
    5: This is line 3
    6: This is line 4
    7: This is line 5</code></pre>
<p>Works!</p>
<p>Let’s insert lines in the middle:</p>
<pre><code>    &gt; a 4 
    NEW line in the middle
    .
    &gt; l 1
    1: NEW line 1
    2: NEW line 2
    3: This is line 1
    4: This is line 2
    5: NEW line in the middle
    6: This is line 3
    7: This is line 4
    8: This is line 5</code></pre>
<p>Works!</p>
<p>Let’s insert some lines at the end:</p>
<pre><code>    &gt; a 8
    NEW end line 1
    NEW end line 2
    .
    &gt; l 1
    1: NEW line 1
    2: NEW line 2
    3: This is line 1
    4: This is line 2
    5: NEW line in the middle
    6: This is line 3
    7: This is line 4
    8: This is line 5
    9: NEW end line 1
    10: NEW end line 2</code></pre>
<p>Also works! <em>Woot!</em></p>
<p>Although it’s not automated, this is good <em>test coverage</em>. We looked at the common case (insert in the middle), but we also looked at the <em>edge cases</em> (insert at the beginning and end) just to make sure those worked properly. When testing, always think about which cases <em>aren’t</em> common and test those explicitly.</p>
<p>Now there’s but one thing remaining: saving the file to disk with the “w” (write) command.</p>
<p>Problem-solving step: <strong>Understanding the Problem</strong></p>
<p>We already wrote some code back in the day to read a file a line at a time and store the results in a list.</p>
<p>This time, we want to do the opposite. Go through our list and write the file a line at a time until we’re done.</p>
<p>Problem-solving step: <strong>Devising a Plan</strong></p>
<p>Compared to the append command, this is cake.</p>
<ul>
<li>Open the file for writing</li>
<li>Loop through all the lines</li>
<li>Write each line to the file</li>
</ul>
<p>Also:</p>
<ul>
<li>Hook up the “w” command in the main input loop.</li>
</ul>
<p>And:</p>
<ul>
<li>Parse the argument from the “w” command to get the filename</li>
</ul>
<p>Since “write a bunch of lines to disk” is a good self-contained operation, I plan to write function that does just that and nothing more. I’ll write a different function to get called when a write is requested which will make sure the args are correct and so on. Keep it modular!</p>
<p>Problem-solving step: <strong>Carrying Out the Plan</strong></p>
<p>First, let’s add a function to write the file to disk. As arguments, it’ll take the list of lines to write and a filename to write it to.</p>
<p>When we open the file, we’ll pass the <code>"w"</code> argument to it to indicate that we’re writing this file.</p>
<p>Note that as soon as you open a file for writing, it erases that file if it exists. But this should be OK in this case since we’re about to write it again.</p>
<p>And since every line already has a newline at the end, we don’t have to add one when we write it to disk.</p>
<div class="sourceCode" id="cb412"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb412-1"><a href="#cb412-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> write_file(lines, filename):</span>
<span id="cb412-2"><a href="#cb412-2" aria-hidden="true" tabindex="-1"></a>        <span class="co">&quot;&quot;&quot;Write a file to disk&quot;&quot;&quot;</span></span>
<span id="cb412-3"><a href="#cb412-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">with</span> <span class="bu">open</span>(filename, <span class="st">&quot;w&quot;</span>) <span class="im">as</span> f:</span>
<span id="cb412-4"><a href="#cb412-4" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> line <span class="kw">in</span> lines:</span>
<span id="cb412-5"><a href="#cb412-5" aria-hidden="true" tabindex="-1"></a>                f.write(line)</span></code></pre></div>
<p>Now let’s write the handler for the command. This will check if the arg was specified and print an error if not. And then write the file.</p>
<div class="sourceCode" id="cb413"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb413-1"><a href="#cb413-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> handle_write(args, lines):</span>
<span id="cb413-2"><a href="#cb413-2" aria-hidden="true" tabindex="-1"></a>        <span class="co">&quot;&quot;&quot;Handle the write command&quot;&quot;&quot;</span></span>
<span id="cb413-3"><a href="#cb413-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb413-4"><a href="#cb413-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="bu">len</span>(args) <span class="op">==</span> <span class="dv">1</span>:</span>
<span id="cb413-5"><a href="#cb413-5" aria-hidden="true" tabindex="-1"></a>            filename <span class="op">=</span> args[<span class="dv">0</span>]</span>
<span id="cb413-6"><a href="#cb413-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb413-7"><a href="#cb413-7" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">&quot;usage: w filename&quot;</span>)</span>
<span id="cb413-8"><a href="#cb413-8" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span></span>
<span id="cb413-9"><a href="#cb413-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb413-10"><a href="#cb413-10" aria-hidden="true" tabindex="-1"></a>        write_file(lines, filename)</span></code></pre></div>
<p>Lastly, we need to add a handler to the main command loop so that when we type “w”, it saves the file:</p>
<div class="sourceCode" id="cb414"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb414-1"><a href="#cb414-1" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Write (save) the file</span></span>
<span id="cb414-2"><a href="#cb414-2" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> command[<span class="dv">0</span>] <span class="op">==</span> <span class="st">&#39;w&#39;</span>:</span>
<span id="cb414-3"><a href="#cb414-3" aria-hidden="true" tabindex="-1"></a>            handle_write(args, lines, filename)</span></code></pre></div>
<p>And that’s that!</p>
<p>Problem-solving step: <strong>Looking Back</strong></p>
<p>There are a lot of things we can do to improve the code here.</p>
<ul>
<li><p>Add the option for the delete command to specify and ending as well as a starting line to erase a block of lines at once.</p></li>
<li><p>Make it so that if the user specifies a filename on the command line and does <em>not</em> specify one after the write command, it writes to the same file specified on the command line.</p></li>
<li><p>Add an insert command that works like append, except it puts the new material <em>before</em> the line specified. How can you do this with a minimal addition of code? After all, append and insert are <em>very</em> similar.</p></li>
</ul>
<p>What’s crazy is that you can use this to write Python programs. Let’s do one!</p>
<pre><code>    $ python lineedit.py
    &gt; a 0
    print(&quot;Hello, world!&quot;)
    print(&quot;I wrote this with my own editor!&quot;)
    .
    &gt; l 1
    1: print(&quot;Hello, world!&quot;)
    2: print(&quot;I wrote this with my own editor!&quot;)
    &gt; w my_hello.py
    &gt; q
    $ python3 my_hello.py 
    Hello, world!
    I wrote this with my own editor!
    $ </code></pre>
<p>Well, you can probably tell that’s not quite as easy as using VS Code (or any other editor, for that matter). But, believe it or not, line editors were <em>the</em> way to enter programs for a long time.</p>
<p>Be thankful for standing on the shoulders of giants!</p>
<p>(<a href="https://beej.us/guide/bgpython/examples/lineedit.py">Solution</a><a href="#fn153" class="footnote-ref" id="fnref153" role="doc-noteref"><sup>153</sup></a>.)</p>
<h2 id="exercises-9">Exercises</h2>
<p><strong>Remember: to get your value out of this book, you have to do these exercises.</strong> After 20 minutes of being stuck on a problem, you’re allowed to look at the solution.</p>
<p>Use any knowledge you have to solve these, not only what you learned in this chapter.</p>
<p><strong>Always</strong> use the <a href="#problem-solving">four problem-solving steps</a> to solve these problems: understand the problem, devise a plan, carry it out, look back to see what you could have done better.</p>
<ol type="1">
<li><p>You’ve been misbehaving in class and the teacher sentences you to write 500 lines as punishment. Shrewdly, you ask if you can type the lines, and the teacher agrees<a href="#fn154" class="footnote-ref" id="fnref154" role="doc-noteref"><sup>154</sup></a>.</p>
<p>The program should accept command line arguments of the filename to output to and the number of lines. All command line arguments after that are the punishment line itself that should be repeated that many times in the output file.</p>
<p>For example:</p>
<pre><code>    python writelines.py outfile.txt 500 I will not talk in class.</code></pre>
<p>would generate a file <code>outfile.txt</code> with the line</p>
<pre><code>    I will not talk in class.</code></pre>
<p>repeated 500 times.</p>
<p><strong>WARNING</strong>: Apostrophes and quotes (and other punctuation) often have special meaning to the shell. Avoid any characters other than periods or you might get strange results. If weird things happen, hit <code>CTRL-c</code> to get out of it.</p>
<p>(<a href="https://beej.us/guide/bgpython/examples/ex_writelines.py">Solution</a><a href="#fn155" class="footnote-ref" id="fnref155" role="doc-noteref"><sup>155</sup></a>.)</p></li>
<li><p>Write a program to read comma-separated values (CSV) files.</p>
<p>A CSV file is one that has a bunch of values separated by commas, one record per row.</p>
<p>Here’s <a href="https://beej.us/guide/bgpython/examples/games.csv">the file we want to read</a><a href="#fn156" class="footnote-ref" id="fnref156" role="doc-noteref"><sup>156</sup></a>. Look through it and see how all the information for a particular record is in each row:</p>
<pre class="csv"><code>    Title,Release Year,Studio,Publisher
    Minecraft,2011,Mojang,Microsoft Studios
    M.U.L.E.,1983,Ozark Softscape,Activision
    X-Men The Official Game,2006,Z-AXIS,Activision
    Populous,1989,Bullfrog Productions,Electronic Arts
    DOOM,1993,id Software,id Software
    Lemmings,1991,DMA Design,Psygnosis</code></pre>
<p>Your goal is to read the file and store each record in an object. (Make a class that defines the same fields you have in the CSV file to instantiate the objects from.)</p>
<p>Then print out the data, like so:</p>
<pre><code>    M.U.L.E.                  1983   Ozark Softscape        Activision            
    Populous                  1989   Bullfrog Productions   Electronic Arts       
    Lemmings                  1991   DMA Design             Psygnosis             
    DOOM                      1993   id Software            id Software           
    X-Men The Official Game   2006   Z-AXIS                 Activision            
    Minecraft                 2011   Mojang                 Microsoft Studios</code></pre>
<p>The printout, above, is shown in sorted-by-year order. That’s a stretch goal if you want to take it on. (Hint: check out the <code>key</code> keyword argument to the <code>.sort()</code> method. Also, the solution code talks about it in detail.)</p>
<p>Also, incidentally, <a href="https://en.wikipedia.org/wiki/M.U.L.E.">M.U.L.E.</a><a href="#fn157" class="footnote-ref" id="fnref157" role="doc-noteref"><sup>157</sup></a> is one of the greatest games ever written. Despite it being over 25 years old, <em>PC World</em> magazine rated it the 5th-greatest game of all time in 2009. If you haven’t played it, grab an Atari 800 emulator, four gamepads, and four friends, and have some fun. (Or play solo against the computer.)</p>
<blockquote>
<p>Now, a quick word of warning: this exercise assumes you’re going to implement the logic for parsing this file yourself. But in real life, in Python, you’d never do this. Python has built-in functionality to parse CSV files, and it’s far more robust and correct than what we’re doing here. We’re just reinventing the wheel in this case as a programming exercise.</p>
</blockquote>
<p>Notice that the first line of the CSV file is a <em>header</em>. It describes what the columns are, but isn’t actual data. You’ll have to skip this line when you’re reading the file. (Hint: call the <code>next()</code> function on the file iterator returned by <code>open()</code> to get the next line one time at the beginning.)</p>
<p>(<a href="https://beej.us/guide/bgpython/examples/ex_simplecsv.py">Solution</a><a href="#fn158" class="footnote-ref" id="fnref158" role="doc-noteref"><sup>158</sup></a>.)</p></li>
<li><p>Modify your <a href="#strings-proj-spec">multiplication table generator</a> from the chapter on strings to save the table to disk instead of printing it to the screen.</p>
<p>The program should accept both the dimension of the table and the output filename on the command line, e.g.:</p>
<pre><code>    python multtablefile.py 12 table12x12.txt</code></pre>
<p>(<a href="https://beej.us/guide/bgpython/examples/ex_multtablefile.py">Solution</a><a href="#fn159" class="footnote-ref" id="fnref159" role="doc-noteref"><sup>159</sup></a>.)</p></li>
<li><p>Write a program to count the number of words in a file specified on the command line. The number of words should be printed out.</p>
<p>This is a simplified clone of the Unix <code>wc</code> (word count) command.</p>
<p>For this one, we’ll define a word as something separated by whitespace. (Hint: <a href="https://docs.python.org/3/library/stdtypes.html#str.split">the <code>.split()</code> string method</a><a href="#fn160" class="footnote-ref" id="fnref160" role="doc-noteref"><sup>160</sup></a>.)</p>
<p>Example (<a href="https://beej.us/guide/bgpython/examples/wargames.txt"><code>wargames.txt</code> is in the examples directory</a><a href="#fn161" class="footnote-ref" id="fnref161" role="doc-noteref"><sup>161</sup></a>):</p>
<pre><code>    $ python ex_wc.py wargames.txt 
    38</code></pre>
<p>(<a href="https://beej.us/guide/bgpython/examples/ex_wc.py">Solution</a><a href="#fn162" class="footnote-ref" id="fnref162" role="doc-noteref"><sup>162</sup></a>.)</p></li>
<li><p>Write a program that sorts lines of a file in alphabetical order and prints the result on the screen. Note that you don’t need to alphabetize every word in each line—just treat the line as one big word to be alphabetized.</p>
<p>This is a simplified version of the Unix <code>sort</code> command.</p>
<p>Example run:</p>
<pre><code>    $ python ex_sort.py rocks.txt
    amphibolite
    andesite
    argillite
    basalt
    breccia
    chalk
    chert
    claystone</code></pre>
<p>(And so on. The <code>rocks.txt</code> file has more lines in it than I’ve shown here.)</p>
<p>(<a href="https://beej.us/guide/bgpython/examples/ex_sort.py">Solution</a><a href="#fn163" class="footnote-ref" id="fnref163" role="doc-noteref"><sup>163</sup></a>.)</p></li>
</ol>
<h2 id="summary-11">Summary</h2>
<p>What a chapter! That was like 50% project, eh?</p>
<p>But look at what we learned!</p>
<p>We covered how to open and read and write text files. We talked about how to read and write a line at a time, as well.</p>
<p>And we wrote a simple line-based text editor! Most developers go their entire careers without doing that.</p>
<p>More Python goodness in the next chapter—see you there!</p>
<!--
vim: ts=4:sw=4:nosi:et:tw=72:spell:nojs
-->
<!--
Problem-solving step: **Understanding the Problem**
Problem-solving step: **Devising a Plan**
Problem-solving step: **Carrying Out the Plan**
Problem-solving step: **Looking Back**
-->
<h1 id="exceptions">Exceptions</h1>
<h2 id="objective-9">Objective</h2>
<ul>
<li>Learn about different ways of handling errors</li>
<li>Understand what exceptions are</li>
<li>Write programs that catch exceptions</li>
<li>Throw your own exceptions</li>
</ul>
<h2 id="exc-proj-spec">Project</h2>
<p>Write a program called <code>head.py</code> that returns the first few lines of a file. For example, if the user enters:</p>
<pre><code>    python head.py filename.txt 12</code></pre>
<p>it should show the first 12 lines of <code>filename.txt</code>.</p>
<p>Take extra care to error-check all the input. Catch any exceptions that might occur.</p>
<p>Spend some time thinking about this; what are <em>all</em> the things that can go wrong with <em>any</em> user input?</p>
<p>If there is some kind of error condition, the program should print an appropriate error message and exit.</p>
<h2 id="errors-in-programs">Errors in Programs</h2>
<p>Problem-solving step: <strong>Understanding the Problem</strong></p>
<p>Let’s stop and think about this from a conceptual standpoint for just a minute.</p>
<p>Normally, a program produces data in the way you’ve asked for it. Unless something goes wrong. In which case, it produces “bad” data.</p>
<p>Now, computers don’t really have much of sense of right and wrong, as you’ve seen in the documentary <em>The Terminator</em>. So how can we differentiate between good and bad data?</p>
<p>How can we tell that something’s gone wrong?</p>
<h2 id="classic-error-handling">Classic Error Handling</h2>
<p>Problem-solving step: <strong>Understanding the Problem</strong></p>
<p>There’s one way we’ve been using so far: the return value from a function. If it’s a particular <em>sentinel value</em> that we’re on the lookout for, we can use that to determine success or failure.</p>
<p>For example, let’s check out the <code>.find()</code> method on strings. This returns the index in a string that a given substring can be found. For example:</p>
<div class="sourceCode" id="cb424"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb424-1"><a href="#cb424-1" aria-hidden="true" tabindex="-1"></a>    s <span class="op">=</span> <span class="st">&#39;Bears, beets, Battlestar Galactica&#39;</span></span>
<span id="cb424-2"><a href="#cb424-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb424-3"><a href="#cb424-3" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> s.find(<span class="st">&#39;beets&#39;</span>)</span>
<span id="cb424-4"><a href="#cb424-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb424-5"><a href="#cb424-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(x)  <span class="co"># 7, because that&#39;s the index &#39;beets&#39; starts at in the string</span></span></code></pre></div>
<p>The return value there of <code>7</code> is “good” data. We asked for a thing and we got it. But what if something goes wrong?</p>
<div class="sourceCode" id="cb425"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb425-1"><a href="#cb425-1" aria-hidden="true" tabindex="-1"></a>    s <span class="op">=</span> <span class="st">&#39;Bears, beets, Battlestar Galactica&#39;</span></span>
<span id="cb425-2"><a href="#cb425-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb425-3"><a href="#cb425-3" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> s.find(<span class="st">&#39;Dwight&#39;</span>)</span>
<span id="cb425-4"><a href="#cb425-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb425-5"><a href="#cb425-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(x)  <span class="co"># -1, because the substring isn&#39;t found</span></span></code></pre></div>
<p><code>-1</code> here is the sentinel value we’re looking for to tell us if there’s an error.</p>
<p>We can make decisions on it. This is what I’d call “classic” error handling. This is the way people used to handle errors when Stonehenge was built. And, like Stonehenge, this method of handling errors is still in use to this day. If it ain’t broke, don’t fix it.</p>
<p>OK, yes, I admit Stonehenge is broke. Allow me my analogy!</p>
<div class="sourceCode" id="cb426"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb426-1"><a href="#cb426-1" aria-hidden="true" tabindex="-1"></a>    s <span class="op">=</span> <span class="st">&#39;Bears, beets, Battlestar Galactica&#39;</span></span>
<span id="cb426-2"><a href="#cb426-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb426-3"><a href="#cb426-3" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> s.find(substring)</span>
<span id="cb426-4"><a href="#cb426-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb426-5"><a href="#cb426-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> x <span class="op">==</span> <span class="op">-</span><span class="dv">1</span>:</span>
<span id="cb426-6"><a href="#cb426-6" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;Couldn&#39;t find </span><span class="sc">{</span>substring<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb426-7"><a href="#cb426-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb426-8"><a href="#cb426-8" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;Found </span><span class="sc">{</span>substring<span class="sc">}</span><span class="ss"> at index </span><span class="sc">{x}</span><span class="ss">&quot;</span>)</span></code></pre></div>
<p>There! We successfully handled an error the classic way.</p>
<p>But now let’s learn another way.</p>
<h2 id="error-handling-with-exceptions">Error Handling with Exceptions</h2>
<p>Problem-solving step: <strong>Understanding the Problem</strong></p>
<p>Exceptions are another way of indicating that something’s gone wrong.</p>
<p>We’ve already seen some of these. For example, if we run code that does this:</p>
<div class="sourceCode" id="cb427"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb427-1"><a href="#cb427-1" aria-hidden="true" tabindex="-1"></a>    <span class="bu">int</span>(<span class="st">&quot;Hello!&quot;</span>)   <span class="co"># Convert Hello! to integer</span></span></code></pre></div>
<p>Python’s going to be upset. <code>"Hello!"</code> isn’t a number it’s ever heard of. And when we run it, we get this message, and the program exits:</p>
<pre><code>    Traceback (most recent call last):
      File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
    ValueError: invalid literal for int() with base 10: &#39;Hello!&#39;</code></pre>
<p>That’s an exception in action. We tried some code, and it <em>raised an exception</em> to tell us that what we were doing just wasn’t going to work.</p>
<p>Exceptions are raised (also sometimes said to be <em>thrown</em>) for all kinds of things in Python.</p>
<p>Try to open a nonexistent file for reading:</p>
<pre><code>    Traceback (most recent call last):
      File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
    FileNotFoundError: [Errno 2] No such file or directory: &#39;keyser_soze.txt&#39;</code></pre>
<p>Try to divide a number by zero:</p>
<pre><code>    Traceback (most recent call last):
      File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
    ZeroDivisionError: division by zero</code></pre>
<p>Those first condensed words on the last line of the exception you see there? That’s the name of the exception that occurred.</p>
<pre><code>    ValueError
    FileNotFoundError
    ZeroDivisionError</code></pre>
<p>So, like using return values to indicate errors, exceptions also indicate that an error occurred.</p>
<p>Now—how do we detect that and do something with it?</p>
<h2 id="catching-exceptions">Catching Exceptions</h2>
<p>Problem-solving step: <strong>Understanding the Problem</strong></p>
<p>Bear with me, because this code is a little different in how it gets executed.</p>
<p>We’re going to use two new statements in conjunction: <code>try</code> and <code>catch</code>. Let’s jump right in with an example that we can dissect:</p>
<div class="sourceCode" id="cb432"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python"><span id="cb432-1"><a href="#cb432-1"></a><span class="cf">try</span>:</span>
<span id="cb432-2"><a href="#cb432-2"></a>    x <span class="op">=</span> <span class="bu">input</span>(<span class="st">&quot;Enter a number: &quot;</span>)</span>
<span id="cb432-3"><a href="#cb432-3"></a></span>
<span id="cb432-4"><a href="#cb432-4"></a>    x <span class="op">=</span> <span class="bu">int</span>(x)   <span class="co"># Convert to integer</span></span>
<span id="cb432-5"><a href="#cb432-5"></a></span>
<span id="cb432-6"><a href="#cb432-6"></a>    <span class="bu">print</span>(x <span class="op">*</span> <span class="dv">1000</span>)</span>
<span id="cb432-7"><a href="#cb432-7"></a></span>
<span id="cb432-8"><a href="#cb432-8"></a><span class="cf">except</span> <span class="pp">ValueError</span>:</span>
<span id="cb432-9"><a href="#cb432-9"></a>    <span class="bu">print</span>(<span class="ss">f&#39;error converting &quot;</span><span class="sc">{x}</span><span class="ss">&quot; to integer&#39;</span>)</span></code></pre></div>
<p>What’s happening there? Look at the big blocks first. We have a <code>try</code> block and an <code>except</code> block.</p>
<p>Think of the <code>try</code> block as the code you want to execute in your shiny dreamworld where your user enters correct information every time.</p>
<p>Like the user enters <code>3490</code>, and it converts to integer just fine, and then you print out <code>3490000</code>.</p>
<p>Perfect.</p>
<p>But what if the user enters <code>beans</code> instead of a number? <code>int()</code> is going to freak out and raise a <code>ValueException</code>, just like we saw earlier.</p>
<p><em>Here’s the magic</em>. If that happens, execution of the <code>try</code> block will stop immediately, and Python will transfer control to the matching <code>except</code> block, if it exists.</p>
<p>So for example, here’s a successful run:</p>
<pre><code>    Enter a number: 3490
    3490000</code></pre>
<p>and here’s a run where an exception is thrown:</p>
<pre><code>    Enter a number: beans
    error converting &quot;beans&quot; to integer</code></pre>
<p>See how it transferred control right into the <code>except</code> block?</p>
<p>That’s how we handle exceptions!</p>
<h2 id="catching-multiple-exceptions">Catching Multiple Exceptions</h2>
<p>Problem-solving step: <strong>Understanding the Problem</strong></p>
<p>What if your <code>try</code> block throws multiple exceptions?</p>
<p>Turns out you can catch multiple exceptions just by having multiple <code>except</code> clauses.</p>
<p>Let’s try a program that divides a number by another:</p>
<pre><code>    x, y = input(&#39;Enter two numbers separated by a space: &#39;).split()
    
    x = int(x)
    y = int(y)
    
    print(f&#39;{x} / {y} == {x / y}&#39;)</code></pre>
<p>What are the exceptions that can be thrown?</p>
<p>Good question. Although there is a <a href="https://docs.python.org/3/library/exceptions.html">list of built-in exceptions</a><a href="#fn164" class="footnote-ref" id="fnref164" role="doc-noteref"><sup>164</sup></a>, it’s not immediately obvious which one gets raised when.</p>
<p>The easy thing to do is try it in the <a href="#repl">REPL</a>. But try what?</p>
<p><em>Think like a villain.</em> What are the things that can go wrong? What kinds of bad input can you pass this program?</p>
<p>Give it some thought. I count four things that can go wrong with bad user input. Can you see them?</p>
<p>Well, we’re taking input, running it through <code>.split()</code>, and then assigning the results into two variables. So the <code>split()</code> better return a list of length <code>2</code>, or something bad is going to happen.</p>
<p>I’m going to put that line of code into the REPL and see what it says if I enter something that’s not two numbers separated by a space.</p>
<div class="sourceCode" id="cb436"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb436-1"><a href="#cb436-1" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> x, y <span class="op">=</span> <span class="bu">input</span>(<span class="st">&quot;Enter 2 numbers: &quot;</span>).split()</span>
<span id="cb436-2"><a href="#cb436-2" aria-hidden="true" tabindex="-1"></a>    Enter <span class="dv">2</span> numbers: <span class="dv">1</span></span>
<span id="cb436-3"><a href="#cb436-3" aria-hidden="true" tabindex="-1"></a>    Traceback (most recent call last):</span>
<span id="cb436-4"><a href="#cb436-4" aria-hidden="true" tabindex="-1"></a>      File <span class="st">&quot;&lt;stdin&gt;&quot;</span>, line <span class="dv">1</span>, <span class="kw">in</span> <span class="op">&lt;</span>module<span class="op">&gt;</span></span>
<span id="cb436-5"><a href="#cb436-5" aria-hidden="true" tabindex="-1"></a>    <span class="pp">ValueError</span>: <span class="kw">not</span> enough values to unpack (expected <span class="dv">2</span>, got <span class="dv">1</span>)</span></code></pre></div>
<p>Check it out! I entered a single number, and it raised <code>ValueError</code> exception (with a message saying there weren’t enough values).</p>
<p>Let’s try too many values:</p>
<div class="sourceCode" id="cb437"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb437-1"><a href="#cb437-1" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> x, y <span class="op">=</span> <span class="bu">input</span>(<span class="st">&quot;Enter 2 numbers: &quot;</span>).split()</span>
<span id="cb437-2"><a href="#cb437-2" aria-hidden="true" tabindex="-1"></a>    Enter <span class="dv">2</span> numbers: <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span></span>
<span id="cb437-3"><a href="#cb437-3" aria-hidden="true" tabindex="-1"></a>    Traceback (most recent call last):</span>
<span id="cb437-4"><a href="#cb437-4" aria-hidden="true" tabindex="-1"></a>      File <span class="st">&quot;&lt;stdin&gt;&quot;</span>, line <span class="dv">1</span>, <span class="kw">in</span> <span class="op">&lt;</span>module<span class="op">&gt;</span></span>
<span id="cb437-5"><a href="#cb437-5" aria-hidden="true" tabindex="-1"></a>    <span class="pp">ValueError</span>: too many values to unpack (expected <span class="dv">2</span>)</span></code></pre></div>
<p><code>ValueError</code> again! That means we can do something like this to catch it:</p>
<div class="sourceCode" id="cb438"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb438-1"><a href="#cb438-1" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb438-2"><a href="#cb438-2" aria-hidden="true" tabindex="-1"></a>        x, y <span class="op">=</span> <span class="bu">input</span>(<span class="st">&#39;Enter two numbers separated by a space: &#39;</span>).split()</span>
<span id="cb438-3"><a href="#cb438-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb438-4"><a href="#cb438-4" aria-hidden="true" tabindex="-1"></a>        x <span class="op">=</span> <span class="bu">int</span>(x)</span>
<span id="cb438-5"><a href="#cb438-5" aria-hidden="true" tabindex="-1"></a>        y <span class="op">=</span> <span class="bu">int</span>(y)</span>
<span id="cb438-6"><a href="#cb438-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb438-7"><a href="#cb438-7" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&#39;</span><span class="sc">{x}</span><span class="ss"> / </span><span class="sc">{y}</span><span class="ss"> == </span><span class="sc">{x</span> <span class="op">/</span> <span class="sc">y}</span><span class="ss">&#39;</span>)</span>
<span id="cb438-8"><a href="#cb438-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb438-9"><a href="#cb438-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">ValueError</span>:</span>
<span id="cb438-10"><a href="#cb438-10" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;That&#39;s not two numbers separated by a space!&quot;</span>)</span></code></pre></div>
<p>And that will catch it. Here’s a run:</p>
<pre><code>    Enter two numbers separated by a space: 1 2 3
    That&#39;s not two numbers separated by a space!</code></pre>
<p>Whee!</p>
<p>What’s the next place we can mess things up?</p>
<p>Well, we’re converting to <code>int()</code>… what does that function do if we pass in something awful, like the word <code>manfrengensenton</code>?</p>
<p>Again in the REPL:</p>
<div class="sourceCode" id="cb440"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb440-1"><a href="#cb440-1" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> <span class="bu">int</span>(<span class="st">&quot;manfrengensenton&quot;</span>)</span>
<span id="cb440-2"><a href="#cb440-2" aria-hidden="true" tabindex="-1"></a>    Traceback (most recent call last):</span>
<span id="cb440-3"><a href="#cb440-3" aria-hidden="true" tabindex="-1"></a>      File <span class="st">&quot;&lt;stdin&gt;&quot;</span>, line <span class="dv">1</span>, <span class="kw">in</span> <span class="op">&lt;</span>module<span class="op">&gt;</span></span>
<span id="cb440-4"><a href="#cb440-4" aria-hidden="true" tabindex="-1"></a>    <span class="pp">ValueError</span>: invalid literal <span class="cf">for</span> <span class="bu">int</span>() <span class="cf">with</span> base <span class="dv">10</span>: <span class="st">&#39;manfrengensenton&#39;</span></span></code></pre></div>
<p>Hey, it’s <code>ValueError</code> again! Conveniently, we’re already catching that with an appropriate error message. Totally handled.</p>
<p>That takes care of three of the four cases I saw where we could get exceptions. What’s the fourth?</p>
<p><em>Mathematics hat on</em>. Do you see it?</p>
<p>That’s right, we’re doing a division in there… and you can’t divide by zero. What happens when we do?</p>
<p>We already saw, above, that we get a <code>ZeroDivisionError</code>. So let’s add that to the end of our code:</p>
<div class="sourceCode" id="cb441"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb441-1"><a href="#cb441-1" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb441-2"><a href="#cb441-2" aria-hidden="true" tabindex="-1"></a>        x, y <span class="op">=</span> <span class="bu">input</span>(<span class="st">&#39;Enter two numbers separated by a space: &#39;</span>).split()</span>
<span id="cb441-3"><a href="#cb441-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb441-4"><a href="#cb441-4" aria-hidden="true" tabindex="-1"></a>        x <span class="op">=</span> <span class="bu">int</span>(x)</span>
<span id="cb441-5"><a href="#cb441-5" aria-hidden="true" tabindex="-1"></a>        y <span class="op">=</span> <span class="bu">int</span>(y)</span>
<span id="cb441-6"><a href="#cb441-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb441-7"><a href="#cb441-7" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&#39;</span><span class="sc">{x}</span><span class="ss"> / </span><span class="sc">{y}</span><span class="ss"> == </span><span class="sc">{x</span> <span class="op">/</span> <span class="sc">y}</span><span class="ss">&#39;</span>)</span>
<span id="cb441-8"><a href="#cb441-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb441-9"><a href="#cb441-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">ValueError</span>:</span>
<span id="cb441-10"><a href="#cb441-10" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;That&#39;s not two numbers separated by a space!&quot;</span>)</span>
<span id="cb441-11"><a href="#cb441-11" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb441-12"><a href="#cb441-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">ZeroDivisionError</span>:</span>
<span id="cb441-13"><a href="#cb441-13" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;Can&#39;t divide by zero!&quot;</span>)</span></code></pre></div>
<p>So as you can see, you can handle as many different types of exceptions as you want in their own <code>except</code> clauses after the <code>try</code>.</p>
<h2 id="catching-multiple-exceptions-ii">Catching Multiple Exceptions II</h2>
<p>If you want to handle multiple exceptions with the same handler code, you can make a list of them:</p>
<pre><code>    except (FileNotFoundError, PermissionError):
        print(&quot;File not found or insufficient permissions&quot;)</code></pre>
<p>This isn’t as frequently used, since often you want to take a different course of action for different exceptions.</p>
<h2 id="exc-more-info">Getting More Exception Information</h2>
<p>Each exception is actually an instance of a class. And the class name is the name you use in your <code>except</code> clauses.</p>
<p>Because it’s an instance, it has some additional information attached to it we can grab, but first we have to bind it (assign it) to a variable name. We can do that with the <code>as</code> statement.</p>
<div class="sourceCode" id="cb443"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb443-1"><a href="#cb443-1" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb443-2"><a href="#cb443-2" aria-hidden="true" tabindex="-1"></a>        <span class="dv">1</span> <span class="op">/</span> <span class="dv">0</span></span>
<span id="cb443-3"><a href="#cb443-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">ZeroDivisionError</span> <span class="im">as</span> e:  <span class="co"># e is a reference to the exception</span></span>
<span id="cb443-4"><a href="#cb443-4" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(e)</span>
<span id="cb443-5"><a href="#cb443-5" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="bu">repr</span>(e))   <span class="co"># Print its representation</span></span></code></pre></div>
<p>results in:</p>
<pre><code>    division by zero
    ZeroDivisionError(&#39;division by zero&#39;)</code></pre>
<p>That could be useful for getting more detailed information. In our example in the previous chapter, we catch <code>ValueError</code>, but we saw three different circumstances that could lead to it. We could use this technique to give the user more detailed information about the nature of the exception, should we choose.</p>
<p>All exceptions have an attribute called <code>args</code> that is a list of the arguments that are passed to the exception when it was created. The first of these is often a human-readable error message.</p>
<p>For instance, this code:</p>
<div class="sourceCode" id="cb445"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb445-1"><a href="#cb445-1" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb445-2"><a href="#cb445-2" aria-hidden="true" tabindex="-1"></a>        <span class="dv">1</span> <span class="op">/</span> <span class="dv">0</span></span>
<span id="cb445-3"><a href="#cb445-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="cb445-4"><a href="#cb445-4" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(e.args[<span class="dv">0</span>])</span></code></pre></div>
<p>prints the helpful message:</p>
<pre><code>    division by zero</code></pre>
<p>Furthermore, any exception that is based on <code>IOError</code> includes the string attribute <code>strerror</code> that contains a human-readable error message corresponding to the error. You can find the list of exceptions that are derived from <code>IOError</code> in the <a href="https://docs.python.org/3/library/exceptions.html">exceptions documentation</a><a href="#fn165" class="footnote-ref" id="fnref165" role="doc-noteref"><sup>165</sup></a>.</p>
<h2 id="catching-all-exceptions">Catching All Exceptions</h2>
<p>A <code>catch</code> statement that doesn’t specify a particular exception will catch <em>all</em> previously uncaught exceptions.</p>
<p>For this reason, a blank <code>catch</code> should definitely be last, after all the other catches. Python will stop at the first <code>catch</code> that matches, even if it’s a “catch all”.</p>
<p>When you’re in any <code>catch</code>, you can look at the results from the built-in function <code>sys.exc_info()</code>. This function returns a tuple (think “list” for now, if you’re not familiar with tuples) with three pieces of information: the type of the exception, a reference to the exception itself, and a traceback<a href="#fn166" class="footnote-ref" id="fnref166" role="doc-noteref"><sup>166</sup></a></p>
<p>Let’s mod our division program to catch all exceptions and print out the exception info:</p>
<div class="sourceCode" id="cb447"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb447-1"><a href="#cb447-1" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> sys</span>
<span id="cb447-2"><a href="#cb447-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb447-3"><a href="#cb447-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb447-4"><a href="#cb447-4" aria-hidden="true" tabindex="-1"></a>        x, y <span class="op">=</span> <span class="bu">input</span>(<span class="st">&#39;Enter two numbers separated by a space: &#39;</span>).split()</span>
<span id="cb447-5"><a href="#cb447-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb447-6"><a href="#cb447-6" aria-hidden="true" tabindex="-1"></a>        x <span class="op">=</span> <span class="bu">int</span>(x)</span>
<span id="cb447-7"><a href="#cb447-7" aria-hidden="true" tabindex="-1"></a>        y <span class="op">=</span> <span class="bu">int</span>(y)</span>
<span id="cb447-8"><a href="#cb447-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb447-9"><a href="#cb447-9" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&#39;</span><span class="sc">{x}</span><span class="ss"> / </span><span class="sc">{y}</span><span class="ss"> == </span><span class="sc">{x</span> <span class="op">/</span> <span class="sc">y}</span><span class="ss">&#39;</span>)</span>
<span id="cb447-10"><a href="#cb447-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb447-11"><a href="#cb447-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span>:</span>
<span id="cb447-12"><a href="#cb447-12" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(sys.exc_info())</span></code></pre></div>
<p>Here are some sample runs:</p>
<pre><code>    Enter two numbers separated by a space: 1
    (&lt;class &#39;ValueError&#39;&gt;, ValueError(&#39;not enough values to unpack (expected
    2, got 1)&#39;), &lt;traceback object at 0x7f7899794f80&gt;)</code></pre>
<pre><code>    Enter two numbers separated by a space: a b
    (&lt;class &#39;ValueError&#39;&gt;, ValueError(&quot;invalid literal for int() with base
    10: &#39;a&#39;&quot;), &lt;traceback object at 0x7f6d0c9732c0&gt;)</code></pre>
<pre><code>    Enter two numbers separated by a space: 1 0 (&lt;class
    &#39;ZeroDivisionError&#39;&gt;, ZeroDivisionError(&#39;division by zero&#39;), &lt;traceback
    object at 0x7fe2ea373040&gt;)</code></pre>
<p>This isn’t as common, to catch and examine exceptions in this way. But it is another tool in your toolbox.</p>
<p>Be careful with catch-alls. They might hide exceptions that you weren’t expecting and should have let through. They’re rare in practice.</p>
<h2 id="finally-finally">Finally <code>finally</code></h2>
<p>Problem-solving step: <strong>Understanding the Problem</strong></p>
<p>There’s a greater structure to be found here. We’ve already talked about <code>try</code> and <code>catch</code>, but there’s a way to add code that runs after the <code>try</code> no matter what, regardless of whether or not an exception occurred.</p>
<p>It’s the <code>finally</code> clause, and it comes after the <code>except</code> clause(s).</p>
<p>Again, this block of code will run no matter what.</p>
<div class="sourceCode" id="cb451"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb451-1"><a href="#cb451-1" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb451-2"><a href="#cb451-2" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="dv">1</span><span class="op">/</span><span class="dv">1</span>)</span>
<span id="cb451-3"><a href="#cb451-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">ZeroDivisionError</span>:</span>
<span id="cb451-4"><a href="#cb451-4" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;Divide by zero!&quot;</span>)</span>
<span id="cb451-5"><a href="#cb451-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">finally</span>:</span>
<span id="cb451-6"><a href="#cb451-6" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;All done!&quot;</span>)</span></code></pre></div>
<p>The above code will print:</p>
<pre><code>    1
    All done!</code></pre>
<p>If we modified that first line to <code>print(1/0)</code>, we’d get a divide by zero exception, and the output would be:</p>
<pre><code>    Divide by zero!
    All done!</code></pre>
<p>In all cases, the <code>finally</code> block will run.</p>
<p>You can use this block to execute finalization or cleanup code, if you need to.</p>
<p><code>try</code>-<code>except</code> is really common. <code>finally</code> is less so, but not entirely uncommon.</p>
<h2 id="what-else-else">What Else? <code>else</code>!</h2>
<p>Problem-solving step: <strong>Understanding the Problem</strong></p>
<p>Just when you thought <code>try</code>-<code>except</code>-<code>finally</code> was all she wrote, turns out we can add an <code>else</code> in there for <code>try</code>-<code>except</code>-<code>else</code>-<code>finally</code>.</p>
<p>It’s entirely possible that you won’t ever see this, but I wanted to quickly touch on it here. Just give it a glance:</p>
<div class="sourceCode" id="cb454"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb454-1"><a href="#cb454-1" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb454-2"><a href="#cb454-2" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;This is what we&#39;re trying to do&quot;</span>)</span>
<span id="cb454-3"><a href="#cb454-3" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;and where exceptions might occur.&quot;</span>)</span>
<span id="cb454-4"><a href="#cb454-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb454-5"><a href="#cb454-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span>:</span>
<span id="cb454-6"><a href="#cb454-6" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;Caught an exception!&quot;</span>)</span>
<span id="cb454-7"><a href="#cb454-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb454-8"><a href="#cb454-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb454-9"><a href="#cb454-9" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;This only runs if there was no exception.&quot;</span>)</span>
<span id="cb454-10"><a href="#cb454-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb454-11"><a href="#cb454-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">finally</span>:</span>
<span id="cb454-12"><a href="#cb454-12" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;This runs no matter what.&quot;</span>)</span></code></pre></div>
<p>Using <code>else</code> can give you more control over the flow of your program when exceptions occur.</p>
<h2 id="exception-objects">Exception Objects</h2>
<p>Problem-solving step: <strong>Understanding the Problem</strong></p>
<p>At this point, we’ve covered catching exceptions, and this is all you need to know 99% of the time you’re using Python.</p>
<p>But that doesn’t mean we should stop there. Part of being a good dev is having a good mental model of <em>how</em> these things work, not just to memorize some patterns to use. Having deeper understanding will serve you well.</p>
<p>So let’s talk about how exceptions in Python are represented by objects.</p>
<p>We’ve already <a href="#exc-more-info">hinted at this, above</a>, where we talk about getting more information from exceptions.</p>
<p>We found there is a class named <code>ZeroDivisionError</code> and another named <code>ValueError</code>. Indeed, we can just make new ones of these if we want:</p>
<div class="sourceCode" id="cb455"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb455-1"><a href="#cb455-1" aria-hidden="true" tabindex="-1"></a>    e <span class="op">=</span> <span class="pp">ValueError</span>()   <span class="co"># Construct a new ValueError object</span></span></code></pre></div>
<p>There’s a <a href="https://docs.python.org/3/library/exceptions.html">whole list of exceptions that are ready to use</a><a href="#fn167" class="footnote-ref" id="fnref167" role="doc-noteref"><sup>167</sup></a>, but if none of those seem to fit, you can just make a new <code>Exception</code> with some information passed to it:</p>
<div class="sourceCode" id="cb456"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb456-1"><a href="#cb456-1" aria-hidden="true" tabindex="-1"></a>    e <span class="op">=</span> <span class="pp">Exception</span>(<span class="st">&#39;Something went horribly awry&#39;</span>)</span></code></pre></div>
<p>Lastly, you can make your own new exception classes if you’d like. You don’t have to—you can use <code>Exception</code> or any of the other preexisting ones.</p>
<p>But if you do make your own, the only catch is that these <strong>must</strong> <em>inherit</em> from the <code>Exception</code> base class.</p>
<p>Whooooaa, there, Beej. What are you even talking about?</p>
<p>Okay, you got me. I stepped into some Object-Oriented Programming terminology, there. Now, we’ll talk about what that all means in a later chapter, but for now, take my word that you need to declare your new exception, you have to use similar syntax to this:</p>
<div class="sourceCode" id="cb457"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb457-1"><a href="#cb457-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">class</span> MyAwesomeException(<span class="pp">Exception</span>):  <span class="co"># &lt;-- Note &quot;(Exception)&quot;</span></span>
<span id="cb457-2"><a href="#cb457-2" aria-hidden="true" tabindex="-1"></a>        <span class="cf">pass</span></span></code></pre></div>
<p>This is telling Python, “I’m making a new class called <code>MyAwesomeException</code>, but, here’s the thing, <code>MyAwesomeException</code> <em>is</em> an <code>Exception</code>.”</p>
<p>Also, if you have a constructor, make sure you do this:</p>
<div class="sourceCode" id="cb458"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb458-1"><a href="#cb458-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">class</span> MyAwesomeException(<span class="pp">Exception</span>):  <span class="co"># &lt;-- Note &quot;(Exception)&quot;</span></span>
<span id="cb458-2"><a href="#cb458-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb458-3"><a href="#cb458-3" aria-hidden="true" tabindex="-1"></a>        <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, <span class="op">*</span>args):        <span class="co"># &lt;-- Get all positional args</span></span>
<span id="cb458-4"><a href="#cb458-4" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">&quot;In my constructor&quot;</span>)</span>
<span id="cb458-5"><a href="#cb458-5" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">&quot;Doing whatever it is I have to do here&quot;</span>)</span>
<span id="cb458-6"><a href="#cb458-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb458-7"><a href="#cb458-7" aria-hidden="true" tabindex="-1"></a>            <span class="co"># The following line makes sure the constructor for the underlying</span></span>
<span id="cb458-8"><a href="#cb458-8" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Exception object gets called with the arguments specified:</span></span>
<span id="cb458-9"><a href="#cb458-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb458-10"><a href="#cb458-10" aria-hidden="true" tabindex="-1"></a>            <span class="bu">super</span>().<span class="fu">__init__</span>(<span class="op">*</span>args)       <span class="co"># &lt;-- Add this</span></span></code></pre></div>
<p>Because <code>MyAwesomeException</code> is an <code>Exception</code>, suddenly we have two constructors: one for <code>Exception</code> and one for <code>MyAwesomeException</code>.</p>
<p>The one in <code>MyAwesomeException</code> <em>overrides</em> the one in <code>Exception</code>. In order to make sure both are called, we add that <code>super()</code> line in there.</p>
<p>Don’t worry about the details of how it works for now. We’ll cover that in detail in another chapter.</p>
<p>One final note: if you ever <code>catch Exception:</code> in your code, make sure that <code>catch</code> is <strong>after</strong> all the more specific exceptions, like <code>ValueException</code>. Python will use the first one it finds that matches, and <code>Exception</code> matches most everything.</p>
<p>But in the meantime, we can construct exceptions. But so what? What can we do with them?</p>
<h2 id="raising-exceptions">Raising Exceptions</h2>
<p>Problem-solving step: <strong>Understanding the Problem</strong></p>
<p>Let’s say you’ve written some code and you want to use exceptions to notify the caller when some error condition has occurred.</p>
<p>The process is going to be:</p>
<ol type="1">
<li>Construct a new exception of some kind.</li>
<li>Raise it with the <code>raise</code> statement.</li>
</ol>
<p>Often these happen in the same line.</p>
<p>As an example, let’s write a function that reads a number between 0 and 9 from the keyboard. If the number read is out of range, let’s raise a new <code>ValueError</code> with the message <code>"out of range"</code> as the argument.</p>
<div class="sourceCode" id="cb459"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb459-1"><a href="#cb459-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> getnum():</span>
<span id="cb459-2"><a href="#cb459-2" aria-hidden="true" tabindex="-1"></a>        n <span class="op">=</span> <span class="bu">input</span>(<span class="st">&quot;Enter a number 0-9: &quot;</span>)</span>
<span id="cb459-3"><a href="#cb459-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb459-4"><a href="#cb459-4" aria-hidden="true" tabindex="-1"></a>        n <span class="op">=</span> <span class="bu">int</span>(n)   <span class="co"># Convert to int</span></span>
<span id="cb459-5"><a href="#cb459-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb459-6"><a href="#cb459-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> n <span class="op">&lt;</span> <span class="dv">0</span> <span class="kw">or</span> n <span class="op">&gt;</span> <span class="dv">9</span>:</span>
<span id="cb459-7"><a href="#cb459-7" aria-hidden="true" tabindex="-1"></a>            <span class="co"># If out of range, raise a ValueError:</span></span>
<span id="cb459-8"><a href="#cb459-8" aria-hidden="true" tabindex="-1"></a>            <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">&quot;out of range&quot;</span>)</span>
<span id="cb459-9"><a href="#cb459-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb459-10"><a href="#cb459-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> n</span></code></pre></div>
<p>And then add some code to call it and catch any exceptions:</p>
<div class="sourceCode" id="cb460"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb460-1"><a href="#cb460-1" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb460-2"><a href="#cb460-2" aria-hidden="true" tabindex="-1"></a>        n <span class="op">=</span> getnum()</span>
<span id="cb460-3"><a href="#cb460-3" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&#39;</span><span class="sc">{n}</span><span class="ss"> * 15 == </span><span class="sc">{n</span> <span class="op">*</span> <span class="dv">15</span><span class="sc">}</span><span class="ss">&#39;</span>)</span>
<span id="cb460-4"><a href="#cb460-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb460-5"><a href="#cb460-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">ValueError</span> <span class="im">as</span> v:</span>
<span id="cb460-6"><a href="#cb460-6" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&#39;Exception: </span><span class="sc">{v}</span><span class="ss">&#39;</span>)</span></code></pre></div>
<p>If we give it a run with a valid value:</p>
<pre><code>    Enter a number 0-9: 4
    4 * 15 == 60</code></pre>
<p>But if we specify something out of range, we get:</p>
<pre><code>    Enter a number 0-9: -1
    Exception: out of range</code></pre>
<p>What if we enter the letter <code>a</code>? That’ll bomb out on the call to <code>int()</code>… but it’ll do it with a <code>ValueError</code>, like we saw earlier in the chapter.</p>
<p>And, hey! Coincidentally, we’re already catching <code>ValueError</code> in our code, above.</p>
<p>Let’s try it:</p>
<pre><code>    Enter a number 0-9: a
    Exception: invalid literal for int() with base 10: &#39;a&#39;</code></pre>
<p>Caught it! Note that the error message is different than the “out of range” exception, so we can differentiate.</p>
<p>So, hey! We now know how to:</p>
<ul>
<li>Catch exceptions</li>
<li>Create new exceptions</li>
<li>Raise exceptions</li>
</ul>
<p>That’s not bad so far!</p>
<h2 id="re-raising-exceptions">Re-raising Exceptions</h2>
<p>Sometimes you might be interested in seeing that an exception occurred, but don’t want to stop it. You want it to continue to propagate so that the caller can also see it.</p>
<p>We can do this pretty simply with a lone <code>raise</code> inside the <code>catch</code>.</p>
<p>The following function notes a <code>ValueError</code> if it occurs, but then re-raises it so that it can get caught by the <code>try</code> block in the main code:</p>
<div class="sourceCode" id="cb464"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb464-1"><a href="#cb464-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> makeint(x):</span>
<span id="cb464-2"><a href="#cb464-2" aria-hidden="true" tabindex="-1"></a>        <span class="cf">try</span>:</span>
<span id="cb464-3"><a href="#cb464-3" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="bu">int</span>(x)</span>
<span id="cb464-4"><a href="#cb464-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb464-5"><a href="#cb464-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">except</span> <span class="pp">ValueError</span>:</span>
<span id="cb464-6"><a href="#cb464-6" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">&quot;Hey, I saw an exception!&quot;</span>)</span>
<span id="cb464-7"><a href="#cb464-7" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">&quot;But I&#39;ll let someone else handle it.&quot;</span>)</span>
<span id="cb464-8"><a href="#cb464-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb464-9"><a href="#cb464-9" aria-hidden="true" tabindex="-1"></a>            <span class="cf">raise</span>    <span class="co"># Re-raise the exception</span></span>
<span id="cb464-10"><a href="#cb464-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb464-11"><a href="#cb464-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb464-12"><a href="#cb464-12" aria-hidden="true" tabindex="-1"></a>        x <span class="op">=</span> makeint(<span class="st">&quot;beej&quot;</span>)</span>
<span id="cb464-13"><a href="#cb464-13" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb464-14"><a href="#cb464-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">ValueError</span> <span class="im">as</span> v:</span>
<span id="cb464-15"><a href="#cb464-15" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&#39;Exception: </span><span class="sc">{v}</span><span class="ss">&#39;</span>)</span></code></pre></div>
<p>This outputs:</p>
<pre><code>    Hey, I saw an exception!
    But I&#39;ll let someone else handle it.
    Exception: invalid literal for int() with base 10: &#39;beej&#39;</code></pre>
<h2 id="project-implementation">Project Implementation</h2>
<p>Go ahead and <a href="#exc-proj-spec">review the project specification from the beginning of the chapter</a> if you have to.</p>
<p>Problem-solving step: <strong>Understanding the Problem</strong></p>
<p>The big challenge here is how to we provide complete error checking of all user inputs to make sure everything is sensible?</p>
<p>What are all the things that could go wrong?</p>
<p>Go ahead and make a list on your own, and then you can compare it to the list I have, below.</p>
<p>Spoilers ahead!</p>
<p>Here’s what I can think of happening:</p>
<ul>
<li>User doesn’t enter the correct number of command line arguments.</li>
<li>User enters a non-number for the second command line argument.</li>
<li>User enters a filename that doesn’t exist.</li>
<li>User enters a non-positive number.</li>
<li>The file isn’t a regular file (e.g. it’s a directory or other special file).</li>
<li>The user doesn’t have permission to read the file.</li>
<li>User enters a number that’s larger than the number of lines in the file.</li>
</ul>
<p>Some of these you can handle with simple <code>if</code> statements. Others we’ll have to catch with exceptions.</p>
<p>That last one, about what happens when you enter a number larger than the number of lines in the file, is a great question. The spec doesn’t say. So we should ask the creator of the spec for clarification.</p>
<p>“Hey, Beej! The spec doesn’t say what to do if the number of lines specified is greater than the number of lines in the file. What do we do in that case?”</p>
<p>Let’s do this: we’ll stop outputting lines at either the number of lines the user specifies, or the end of the file, whichever comes first. No message to the user is required in either case.</p>
<p>Ok, let’s plan!</p>
<p>Problem-solving step: <strong>Devising a Plan</strong></p>
<p>Looking at the spec, the program can be broken down into a number of parts.</p>
<ul>
<li>Read user input</li>
<li>Open the file for reading</li>
<li>Read the number of lines up to what the user specified (or EOF)</li>
</ul>
<p>For each of those parts, we’ll have to do input validation and tell the user if anything went wrong.</p>
<p>Problem-solving step: <strong>Carrying Out the Plan</strong></p>
<p>Some of this stuff we’ve seen before, so we’ll skim over it a bit.</p>
<p>First, let’s get the user input from the command line, check that the right number of arguments was passed, and check the input to make sure it’s sensible.</p>
<div class="sourceCode" id="cb466"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python"><span id="cb466-1"><a href="#cb466-1"></a><span class="im">import</span> sys</span>
<span id="cb466-2"><a href="#cb466-2"></a></span>
<span id="cb466-3"><a href="#cb466-3"></a><span class="cf">if</span> <span class="bu">len</span>(sys.argv) <span class="op">!=</span> <span class="dv">3</span>:</span>
<span id="cb466-4"><a href="#cb466-4"></a>    <span class="bu">print</span>(<span class="st">&quot;usage: head.py filename count&quot;</span>)</span>
<span id="cb466-5"><a href="#cb466-5"></a>    sys.exit(<span class="dv">1</span>)</span>
<span id="cb466-6"><a href="#cb466-6"></a></span>
<span id="cb466-7"><a href="#cb466-7"></a>filename <span class="op">=</span> sys.argv[<span class="dv">1</span>]</span>
<span id="cb466-8"><a href="#cb466-8"></a>total_count <span class="op">=</span> <span class="bu">int</span>(sys.argv[<span class="dv">2</span>])</span>
<span id="cb466-9"><a href="#cb466-9"></a></span>
<span id="cb466-10"><a href="#cb466-10"></a><span class="cf">if</span> total_count <span class="op">&lt;</span> <span class="dv">1</span>:</span>
<span id="cb466-11"><a href="#cb466-11"></a>    <span class="bu">print</span>(<span class="st">&quot;head.py: count must be a positive integer&quot;</span>)</span>
<span id="cb466-12"><a href="#cb466-12"></a>    sys.exit(<span class="dv">2</span>)</span></code></pre></div>
<p>That’s partway there, but we’re missing an error case. Do you see it?</p>
<p>What if the user enters “<code>bananas</code>” for the count? If we try to run it to see what happens, sure enough, we get an exception.</p>
<pre><code>    Traceback (most recent call last):
      File &quot;foo.py&quot;, line 8, in &lt;module&gt;
        total_count = int(sys.argv[2])
    ValueError: invalid literal for int() with base 10: &#39;bananas&#39;</code></pre>
<p>It’s the <code>ValueError</code> exception that we’ve seen before. Let’s modify our code to catch that exception and handle it.</p>
<div class="sourceCode" id="cb468"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python"><span id="cb468-1"><a href="#cb468-1"></a><span class="im">import</span> sys</span>
<span id="cb468-2"><a href="#cb468-2"></a></span>
<span id="cb468-3"><a href="#cb468-3"></a><span class="cf">if</span> <span class="bu">len</span>(sys.argv) <span class="op">!=</span> <span class="dv">3</span>:</span>
<span id="cb468-4"><a href="#cb468-4"></a>    <span class="bu">print</span>(<span class="st">&quot;usage: head.py filename count&quot;</span>)</span>
<span id="cb468-5"><a href="#cb468-5"></a>    sys.exit(<span class="dv">1</span>)</span>
<span id="cb468-6"><a href="#cb468-6"></a></span>
<span id="cb468-7"><a href="#cb468-7"></a>filename <span class="op">=</span> sys.argv[<span class="dv">1</span>]</span>
<span id="cb468-8"><a href="#cb468-8"></a></span>
<span id="cb468-9"><a href="#cb468-9"></a><span class="cf">try</span>:</span>
<span id="cb468-10"><a href="#cb468-10"></a>    total_count <span class="op">=</span> <span class="bu">int</span>(sys.argv[<span class="dv">2</span>])</span>
<span id="cb468-11"><a href="#cb468-11"></a><span class="cf">except</span> <span class="pp">ValueError</span>:</span>
<span id="cb468-12"><a href="#cb468-12"></a>    <span class="bu">print</span>(<span class="st">&quot;head.py: count must be a positive integer&quot;</span>)</span>
<span id="cb468-13"><a href="#cb468-13"></a>    sys.exit(<span class="dv">2</span>)</span>
<span id="cb468-14"><a href="#cb468-14"></a></span>
<span id="cb468-15"><a href="#cb468-15"></a><span class="cf">if</span> total_count <span class="op">&lt;</span> <span class="dv">1</span>:</span>
<span id="cb468-16"><a href="#cb468-16"></a>    <span class="bu">print</span>(<span class="st">&quot;head.py: count must be a positive integer&quot;</span>)</span>
<span id="cb468-17"><a href="#cb468-17"></a>    sys.exit(<span class="dv">2</span>)</span></code></pre></div>
<p>There! That fixes it. And that code works, but…</p>
<p>Notice anything messy about it? That’s right—we sure are repeating ourselves a lot. Let’s refactor and see if we can get rid of those duplicate lines.</p>
<p>One option would be to set a flag in either case to <code>True</code> if there was an error, and then print the message and exit. That would work, and wouldn’t be a bad solution at all.</p>
<p>But we can be a bit more clever and actually make the exception handler do all the work for us by simply raising a <code>ValueError</code> exception if the <code>total_count</code> is less than one. Then we’ll get a <code>ValueError</code> in both cases, and we can handle it in one place.</p>
<div class="sourceCode" id="cb469" data-startFrom="9"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python" style="counter-reset: source-line 8;"><span id="cb469-9"><a href="#cb469-9"></a><span class="cf">try</span>:</span>
<span id="cb469-10"><a href="#cb469-10"></a>    total_count <span class="op">=</span> <span class="bu">int</span>(sys.argv[<span class="dv">2</span>])</span>
<span id="cb469-11"><a href="#cb469-11"></a></span>
<span id="cb469-12"><a href="#cb469-12"></a>    <span class="cf">if</span> total_count <span class="op">&lt;</span> <span class="dv">1</span>:</span>
<span id="cb469-13"><a href="#cb469-13"></a>        <span class="cf">raise</span> <span class="pp">ValueError</span>()</span>
<span id="cb469-14"><a href="#cb469-14"></a></span>
<span id="cb469-15"><a href="#cb469-15"></a><span class="cf">except</span> <span class="pp">ValueError</span>:</span>
<span id="cb469-16"><a href="#cb469-16"></a>    <span class="bu">print</span>(<span class="st">&quot;head.py: count must be a positive integer&quot;</span>)</span>
<span id="cb469-17"><a href="#cb469-17"></a>    sys.exit(<span class="dv">2</span>)</span></code></pre></div>
<p>Check that out. If <code>int()</code> raises the exception, we catch it. And if we raise the exception ourselves, we also catch it. Plus all the logic for testing the input value for correctness is all in the same <code>try</code> block, nicely.</p>
<p>OK! We have the code getting correct input. Let’s go on to the next step and print lines from the file.</p>
<p>We can start by simplifying the problem to just print all the lines and not worrying about the count for now.</p>
<p>Let’s take our code from before for printing out a file:</p>
<div class="sourceCode" id="cb470" data-startFrom="19"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python" style="counter-reset: source-line 18;"><span id="cb470-19"><a href="#cb470-19"></a><span class="cf">with</span> <span class="bu">open</span>(filename) <span class="im">as</span> f:</span>
<span id="cb470-20"><a href="#cb470-20"></a>    <span class="cf">for</span> line <span class="kw">in</span> f:</span>
<span id="cb470-21"><a href="#cb470-21"></a>        <span class="bu">print</span>(line, end<span class="op">=</span><span class="st">&quot;&quot;</span>)</span></code></pre></div>
<p>If we run the program, passing in an existing file, we see all the lines of that file printed out.</p>
<p>But what if we pass in the name of a non-existent file?</p>
<p>Let’s try it!</p>
<pre><code>    $ python head.py nosuchfile.txt 5
    Traceback (most recent call last):
      File &quot;foo.py&quot;, line 19, in &lt;module&gt;
        with open(filename) as f:
    FileNotFoundError: [Errno 2] No such file or directory: &#39;nosuchfile.txt&#39;</code></pre>
<p>Bammo! Another exception! This time it’s <code>FileNotFoundError</code>.</p>
<p>Let’s try it on a directory:</p>
<pre><code>    $ python head.py / 5
    Traceback (most recent call last):
      File &quot;foo.py&quot;, line 19, in &lt;module&gt;
        with open(filename) as f:
    IsADirectoryError: [Errno 21] Is a directory: &#39;/&#39;</code></pre>
<p>An <code>IsADirectoryError</code> exception!</p>
<p>Let’s try it on a file we don’t have permission to read:</p>
<pre><code>    $ python head.py noperm.txt 5
    Traceback (most recent call last):
      File &quot;foo.py&quot;, line 19, in &lt;module&gt;
        with open(filename) as f:
    PermissionError: [Errno 13] Permission denied: &#39;noperm.txt&#39;</code></pre>
<p>Yet another exception: <code>PermissionError</code>.</p>
<p>One option we have here is to specifically catch all these exceptions:</p>
<div class="sourceCode" id="cb474" data-startFrom="19"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python" style="counter-reset: source-line 18;"><span id="cb474-19"><a href="#cb474-19"></a><span class="cf">try</span>:</span>
<span id="cb474-20"><a href="#cb474-20"></a>    <span class="cf">with</span> <span class="bu">open</span>(filename) <span class="im">as</span> f:</span>
<span id="cb474-21"><a href="#cb474-21"></a>        <span class="cf">for</span> line <span class="kw">in</span> f:</span>
<span id="cb474-22"><a href="#cb474-22"></a>            <span class="bu">print</span>(line, end<span class="op">=</span><span class="st">&quot;&quot;</span>)</span>
<span id="cb474-23"><a href="#cb474-23"></a></span>
<span id="cb474-24"><a href="#cb474-24"></a><span class="cf">except</span> (<span class="pp">FileNotFoundError</span>, <span class="pp">IsADirectoryError</span>, <span class="pp">PermissionError</span>):</span>
<span id="cb474-25"><a href="#cb474-25"></a>    <span class="bu">print</span>(<span class="ss">f&#39;head.py: error reading file </span><span class="sc">{</span>filename<span class="sc">}</span><span class="ss">&#39;</span>)</span></code></pre></div>
<p>And that works.</p>
<p>But I have a bit of insider knowledge that we can use. All of those exceptions are derived from <code>IOError</code>. We can see that in the <a href="https://docs.python.org/3/library/exceptions.html">list of built-in exceptions</a><a href="#fn168" class="footnote-ref" id="fnref168" role="doc-noteref"><sup>168</sup></a>.</p>
<p>You can see, there are a lot of exceptions that are <code>IOError</code>s. Instead of catching them individually, an option is to just catch <code>IOError</code> and print out an appropriate error message. This has the benefit of catching <em>all</em> those errors that <code>file()</code> might raise. It also has the drawback of not being able to easily differentiate between them. So how can we print an appropriate error for each one?</p>
<p>Luckily, <code>IOError</code> has a handy attribute in it called <code>strerror</code> that gives a nice human-readable error message that describes what went wrong. We could print that.</p>
<p>So let’s just catch the <code>IOError</code> exception and print its error message out.</p>
<div class="sourceCode" id="cb475" data-startFrom="19"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python" style="counter-reset: source-line 18;"><span id="cb475-19"><a href="#cb475-19"></a><span class="cf">try</span>:</span>
<span id="cb475-20"><a href="#cb475-20"></a>    <span class="cf">with</span> <span class="bu">open</span>(filename) <span class="im">as</span> f:</span>
<span id="cb475-21"><a href="#cb475-21"></a>        <span class="cf">for</span> line <span class="kw">in</span> f:</span>
<span id="cb475-22"><a href="#cb475-22"></a>            <span class="bu">print</span>(line, end<span class="op">=</span><span class="st">&quot;&quot;</span>)</span>
<span id="cb475-23"><a href="#cb475-23"></a></span>
<span id="cb475-24"><a href="#cb475-24"></a><span class="cf">except</span> <span class="pp">IOError</span> <span class="im">as</span> e:</span>
<span id="cb475-25"><a href="#cb475-25"></a>    <span class="bu">print</span>(<span class="ss">f&#39;head.py: </span><span class="sc">{</span>filename<span class="sc">}</span><span class="ss"> </span><span class="sc">{e.</span>strerror<span class="sc">}</span><span class="ss">&#39;</span>)</span></code></pre></div>
<p>And when we run it, we get some nice error message for whatever error case we get:</p>
<pre><code>    $ python head.py noperm.txt 5
    head.py: noperm.txt Permission denied
    
    $ python head.py / 5
    head.py: / Is a directory
    
    $ python head.py nofile.txt 5
    head.py: nofile.txt No such file or directory</code></pre>
<p>Pretty neat!</p>
<p>What’s left? Oh yeah—we have to actually implement the functionality to only show the first however-many lines of the file.</p>
<p>There are a couple approaches to this.</p>
<p>One, we could use a while loop and test for the end of the file <em>or</em> reaching the required count, whichever comes first.</p>
<p>That would be fine. But a more straightforward option might be to just jump out of the loop when the counter gets high enough. The <code>break</code> statement can be used to bail out of a loop partway through.</p>
<div class="sourceCode" id="cb477" data-startFrom="19"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python" style="counter-reset: source-line 18;"><span id="cb477-19"><a href="#cb477-19"></a>line_count <span class="op">=</span> <span class="dv">0</span>  <span class="co"># Number of lines we&#39;ve read so far</span></span>
<span id="cb477-20"><a href="#cb477-20"></a></span>
<span id="cb477-21"><a href="#cb477-21"></a><span class="cf">try</span>:</span>
<span id="cb477-22"><a href="#cb477-22"></a>    <span class="cf">with</span> <span class="bu">open</span>(filename) <span class="im">as</span> f:</span>
<span id="cb477-23"><a href="#cb477-23"></a>        <span class="cf">for</span> line <span class="kw">in</span> f:</span>
<span id="cb477-24"><a href="#cb477-24"></a></span>
<span id="cb477-25"><a href="#cb477-25"></a>            line_count <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb477-26"><a href="#cb477-26"></a></span>
<span id="cb477-27"><a href="#cb477-27"></a>            <span class="cf">if</span> line_count <span class="op">&gt;</span> total_count:</span>
<span id="cb477-28"><a href="#cb477-28"></a>                <span class="cf">break</span></span>
<span id="cb477-29"><a href="#cb477-29"></a></span>
<span id="cb477-30"><a href="#cb477-30"></a>            <span class="bu">print</span>(line, end<span class="op">=</span><span class="st">&quot;&quot;</span>)</span>
<span id="cb477-31"><a href="#cb477-31"></a></span>
<span id="cb477-32"><a href="#cb477-32"></a><span class="cf">except</span> <span class="pp">IOError</span> <span class="im">as</span> e:</span>
<span id="cb477-33"><a href="#cb477-33"></a>    <span class="bu">print</span>(<span class="ss">f&#39;head.py: </span><span class="sc">{</span>filename<span class="sc">}</span><span class="ss"> </span><span class="sc">{e.</span>strerror<span class="sc">}</span><span class="ss">&#39;</span>)</span></code></pre></div>
<p>As you see, we’re keeping track of the number of lines read so far, and if that exceeds our magic target number, we just break straight out of the loop and we’re done.</p>
<p>And it works!</p>
<pre><code>    $ python head.py rocks.txt 3
    marble
    coal
    granite</code></pre>
<p>Super-robust against bad input and errors. This is what we call <em>defensive coding</em>, when you prepare for the worst and handle those cases without crashing. It’s a good strategy because not only does it make your program more capable of handling errors, but it also makes you stop and consider what the errors are that might occur in the first place. And, as we’ve said, hours of debugging can save you minutes of planning.</p>
<p>(<a href="https://beej.us/guide/bgpython/examples/head.py">Solution</a><a href="#fn169" class="footnote-ref" id="fnref169" role="doc-noteref"><sup>169</sup></a>.)</p>
<h2 id="exercises-10">Exercises</h2>
<ol type="1">
<li><p>When we run this code, it prints out “Exception” instead of “Division by Zero”. Why? What can we do, without deleting any code, to get it to print “Division by zero”?</p>
<div class="sourceCode" id="cb479"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb479-1"><a href="#cb479-1" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb479-2"><a href="#cb479-2" aria-hidden="true" tabindex="-1"></a>        x <span class="op">=</span> <span class="dv">3490</span> <span class="op">/</span> <span class="dv">0</span></span>
<span id="cb479-3"><a href="#cb479-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">Exception</span>:</span>
<span id="cb479-4"><a href="#cb479-4" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;Exception&quot;</span>)</span>
<span id="cb479-5"><a href="#cb479-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">ZeroDivisionError</span>:</span>
<span id="cb479-6"><a href="#cb479-6" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;Division by Zero&quot;</span>)</span></code></pre></div>
<p>(<a href="https://beej.us/guide/bgpython/examples/ex_catchorder.py">Solution</a><a href="#fn170" class="footnote-ref" id="fnref170" role="doc-noteref"><sup>170</sup></a>.)</p></li>
<li><p>Write a function that takes a list of numbers, and two integers as index values. The function should return the sum of the two numbers in the list at the two given indexes.</p>
<p>Catch the specific exception that is raised if the list indexes are out of range. Print an appropriate error.</p>
<p>Hint: to see which exception is raised if the list indexes are out of range, run the code <em>without</em> a <code>try</code>-<code>except</code> block and see what it prints when it bombs. Then add a <code>try</code>-<code>except</code> for that exception.</p>
<p>(<a href="https://beej.us/guide/bgpython/examples/ex_listadd2.py">Solution</a><a href="#fn171" class="footnote-ref" id="fnref171" role="doc-noteref"><sup>171</sup></a>.)</p></li>
<li><p>Write a function that accepts a list of three numbers and returns the sum. If the list does not contain three numbers, raise a <code>InvalidListSize</code> exception. (Note that this exception doesn’t exist—you’ll have to write it.)</p>
<p>Also write an exception handler that catches the exception if it is thrown.</p>
<p>(<a href="https://beej.us/guide/bgpython/examples/ex_listadd.py">Solution</a><a href="#fn172" class="footnote-ref" id="fnref172" role="doc-noteref"><sup>172</sup></a>.)</p></li>
</ol>
<h2 id="summary-12">Summary</h2>
<p>New big concept in this chapter with exceptions. It’s a technique we haven’t used before to catch errors, but is a powerful one to add to your skillset.</p>
<p>We compared and contrasted error handling via return values with error handling with exceptions, wrote programs that could catch exceptions and handle them, and also wrote programs that generates our own, new exceptions.</p>
<p>Additionally, we learned how flow control works around exception handling, with the <code>else</code> and <code>finally</code> clauses.</p>
<p>Any time you learn a new basic way of doing something, it’s difficult to wrap your head around at first. But enough practice with it, and I guarantee after a while it will become second nature.</p>
<h1 id="appendix-a-basic-math-for-programmers">Appendix A: Basic Math for Programmers</h1>
<p>I know what you’re thinking: <em>screw this</em>.</p>
<p>Or maybe your language is even more blue.</p>
<p>But bear with me for just a moment. Knowing a few basic mathematical operations can really help you be a better developer, as well as help you understand code that you come across.</p>
<p>This section isn’t so much about application of these functions, but is more about their definition. It’ll be up to you to use them as you see fit.</p>
<p>It’s a short one—just plow through it.</p>
<p><strong>Fun Math Fact</strong>: Math is cool.</p>
<h2 id="arithmetic">Arithmetic</h2>
<p>Addition, subtraction, multiplication, and—don’t fall asleep on me already—division. The <em>Big Four</em> of grade school math.</p>
<p>And, as a quick terminology summary:</p>
<ul>
<li>The addition of two numbers produces a <em>sum</em>.</li>
<li>The subtraction of two numbers produces a <em>difference</em>.</li>
<li>The multiplication of two numbers produces a <em>product</em>.</li>
<li>The division of two numbers produces a <em>quotient</em> (and potentially a <em>remainder</em>.)</li>
</ul>
<p>I’m not going to talk about what the operators do, and will presume you remember that from however-many years ago.</p>
<p>But I do want to talk about which comes first, because you might have forgotten.</p>
<p>What do I mean by that?</p>
<p>Take this expression: <span class="math inline">\(1+2\times3\)</span></p>
<p>If we first add <span class="math inline">\(1+2\)</span>, we get <span class="math inline">\(3\)</span>. And then we multiply it by <span class="math inline">\(3\)</span> and we get the answer of <span class="math inline">\(9\)</span>.</p>
<p>But wait! If we first multiply <span class="math inline">\(2\times3\)</span> and get <span class="math inline">\(6\)</span>, then we add <span class="math inline">\(1\)</span> we get an answer of <span class="math inline">\(7\)</span>!</p>
<p>So… which is it? <span class="math inline">\(9\)</span> or <span class="math inline">\(7\)</span>?</p>
<p>What we need to know is the <em>order of operations</em> or the <em>precedence</em> of one operator over another. Which happens first, <span class="math inline">\(+\)</span> or <span class="math inline">\(\times\)</span>?</p>
<p>For arithmetic, here is the rule: do all the multiplications and divisions <em>before</em> any additions and subtractions.</p>
<p>So: <span class="math inline">\(1+2\times3=7\)</span></p>
<p>We’ll revisit order of operations as we continue on.</p>
<p>In Python, we can just use the operators <code>+</code>, <code>-</code>, <code>*</code>, and <code>/</code> for addition, subtraction, multiplication, and division, respectively.</p>
<h2 id="division-in-python">Division in Python</h2>
<p>Hey—didn’t we just talk about this?</p>
<p>Yes, kinda. There are a few <em>details</em> that are of interest.</p>
<p>Let’s divide!</p>
<div class="sourceCode" id="cb480"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb480-1"><a href="#cb480-1" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="dv">3</span> <span class="op">/</span> <span class="dv">2</span>)   <span class="co"># 1.5, as expected</span></span></code></pre></div>
<p>What we’ve done there is a floating point division. That is, it produces a floating point result with a decimal point. Indeed, even this does the same:</p>
<div class="sourceCode" id="cb481"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb481-1"><a href="#cb481-1" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="dv">2</span> <span class="op">/</span> <span class="dv">1</span>)  <span class="co"># 2.0</span></span></code></pre></div>
<p>So that’s the “normal” way of division, right? No big surprises there.</p>
<p>But what if I told you <a href="https://www.youtube.com/watch?v=XO0pcWxcROI"><em>there is no spoon</em></a><a href="#fn173" class="footnote-ref" id="fnref173" role="doc-noteref"><sup>173</sup></a>?</p>
<p>Okay, that’s a bit much. Never mind that analogy.</p>
<p>But there is another kind of division, one that produces an integer result only. <em>Integer division</em> uses the <code>//</code> operator (two slashes instead of just one). It returns an integer result in all cases, even if normally there would be a fraction.</p>
<p>It does this by simply dropping the part after the decimal point like a hot potato.</p>
<div class="sourceCode" id="cb482"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb482-1"><a href="#cb482-1" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="dv">9</span> <span class="op">/</span> <span class="dv">5</span>)   <span class="co"># 1.8</span></span>
<span id="cb482-2"><a href="#cb482-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="dv">9</span> <span class="op">//</span> <span class="dv">5</span>)  <span class="co"># 1</span></span></code></pre></div>
<p>When you want an integer quotient, this is the fast way to do it.</p>
<h2 id="modulo-aka-remainder">Modulo, AKA Remainder</h2>
<p>So when you do an integer division, it just cuts off the fractional part after the decimal point. What happens to it? Where does it go? If a tree falls in the forest and no one is around to hear it…?</p>
<p>Well, it’s gone forever, but there’s a way to see what it <em>would</em> have been in the form of a <em>remainder</em>.</p>
<p>The remainder tells us how much is “left over” after the integer division has taken place.</p>
<p>In the following examples, we’ll use <span class="math inline">\(\div\)</span> to represent integer division.</p>
<p>For example, if we take 40 and divide it into 4 parts, <span class="math inline">\(40\div4\)</span>, we get a result of <span class="math inline">\(10\)</span>, exactly. Because it’s exact, there are no leftovers. So the remainder is zero.</p>
<p>But if we take 42 and divide it into 4 parts… well, <span class="math inline">\(42\div4=10\)</span> still. But it’s not exact. If we do the inverse and multiply <span class="math inline">\(10\times4\)</span>, we only get <span class="math inline">\(40\)</span>, not <span class="math inline">\(42\)</span>. There are <span class="math inline">\(2\)</span> left over. The remainder is <span class="math inline">\(2\)</span>!</p>
<p>We do this with the <em>modulo</em> operator, or <em>mod</em> for short.</p>
<p><span class="math inline">\(42\div4=10\)</span></p>
<p><span class="math inline">\(42\bmod4=2\)</span> The remainder!</p>
<p>And in Python, the <code>%</code> operator is the modulo operator.</p>
<div class="sourceCode" id="cb483"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb483-1"><a href="#cb483-1" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="dv">42</span> <span class="op">//</span> <span class="dv">4</span>)  <span class="co"># 10</span></span>
<span id="cb483-2"><a href="#cb483-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="dv">42</span> <span class="op">%</span> <span class="dv">4</span>)   <span class="co"># 2</span></span></code></pre></div>
<p>Mod has the neat property of rolling numbers over “odometer style” because the result of the mod can never be larger than the divisor.</p>
<p>As an example:</p>
<div class="sourceCode" id="cb484"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb484-1"><a href="#cb484-1" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10</span>):</span>
<span id="cb484-2"><a href="#cb484-2" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(i <span class="op">%</span> <span class="dv">4</span>)   <span class="co"># i modulo 4</span></span></code></pre></div>
<p>outputs:</p>
<pre><code>    0
    1
    2
    3
    0
    1
    2
    3
    0
    1</code></pre>
<h2 id="negative-numbers">Negative numbers</h2>
<p>I’m not going to talk much about these here, but negative numbers are numbers less than 0, and they’re indicated by a minus sign in front of the number. <span class="math inline">\(-7\)</span> means “<span class="math inline">\(7\)</span> less than zero”.</p>
<p>And I <em>know</em> that’s a crazy concept. Like how can you have <span class="math inline">\(-12\)</span> apples on the table? It doesn’t seem particularly rooted in reality.</p>
<p>But a closer to home example might be me saying, “I owe you $-35!” which means, in effect, <em>you</em> owe <em>me</em> $35!</p>
<p>Remember some simple rules:</p>
<p>If you multiply a negative number by a negative number, the result is positive.</p>
<p><span class="math inline">\(-3\times-7=21\)</span></p>
<p>If you multiply a negative number by a positive number, the result is negative.</p>
<p><span class="math inline">\(-3\times7=-21\)</span></p>
<p>If you add a negative number to a positive number, it’s just like subtracting the negative number from the positive number:</p>
<p><span class="math inline">\(-7+100=93\)</span></p>
<p>or, equivalently:</p>
<p><span class="math inline">\(100+(-7)=100-7=93\)</span></p>
<h2 id="absolute-value">Absolute Value</h2>
<p>Think of this as how far from zero on the number line any number is.</p>
<p>10 is 10 away from zero. The absolute value of 10 is 10.</p>
<p>2.8 is 2.8 away from zero. The absolute value of 2.8 is 2.8.</p>
<p>Well, that seems a bit bland. Why bother?</p>
<p>Here’s why:</p>
<p>-17 is 17 away from zero. The absolute value of -17 is 17.</p>
<p>The rules are:</p>
<ul>
<li>The absolute value of a positive number is itself.</li>
<li>The absolute value of a negative number is its negation, the positive version of itself.</li>
</ul>
<p>In summary, if it’s negative, the absolute value makes it positive.</p>
<p>In mathematical notation, we represent the absolute value with vertical bars:</p>
<p><span class="math inline">\(x = -17\)</span> If <span class="math inline">\(x\)</span> is <span class="math inline">\(-17\)</span>…</p>
<p><span class="math inline">\(|x| = 17\)</span> …the absolute value of <span class="math inline">\(x\)</span> is <span class="math inline">\(17\)</span>.</p>
<p><span class="math inline">\(|12| = 12\)</span> The absolute value of <span class="math inline">\(12\)</span> is <span class="math inline">\(12\)</span>.</p>
<p><span class="math inline">\(|-13.8| = 13.8\)</span> The absolute value of <span class="math inline">\(-13.8\)</span> is <span class="math inline">\(13.8\)</span>.</p>
<p>In Python we compute absolute value with the <code>abs()</code> built-in function:</p>
<div class="sourceCode" id="cb486"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb486-1"><a href="#cb486-1" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="bu">abs</span>(<span class="op">-</span><span class="dv">17</span>))  <span class="co"># 17</span></span>
<span id="cb486-2"><a href="#cb486-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="bu">abs</span>(<span class="fl">28.2</span>)) <span class="co"># 28.2</span></span></code></pre></div>
<p>In terms of precedence, you can think of absolute value kind of like parentheses. Do the stuff inside the absolute value first, then take the absolute value of the result.</p>
<h2 id="the-power-of-exponents">The Power of Exponents</h2>
<p>Let’s say you wanted to multiply the number <span class="math inline">\(7\)</span> by itself, say, 8 times. We could write this:</p>
<p><span class="math inline">\(7\times7\times7\times7\times7\times7\times7\times7\)</span></p>
<p>I <em>guess</em> that’s not entirely awful.</p>
<p>So let’s go all out. I want to multiply <span class="math inline">\(7\)</span> by itself <span class="math inline">\(3490\)</span> times. I’m going to head to the pub while you work on that. Let me know when you’re done.</p>
<p>Luckily for you, mathematicians are lazy. They hate writing more than they have to, so they invent new notations out of thin air to avoid the extra work. Just like how I keep packing the kitchen trash down so I don’t have to run it outside.</p>
<p>Actually, no, it’s not really like that at all<a href="#fn174" class="footnote-ref" id="fnref174" role="doc-noteref"><sup>174</sup></a>.</p>
<p>So what they invented is another way of saying “3490 7s multiplied by each other” that didn’t involve an endless line of <span class="math inline">\(7\)</span>s and <span class="math inline">\(\times\)</span>s. And it looks like this:</p>
<p><span class="math inline">\(7^{3490}\)</span> (read “7 to the 3490th power”)</p>
<p>That means 3490 <span class="math inline">\(7\)</span>s multiplied together. We call this <em>raising to a power</em> or <em>exponentiation</em>.</p>
<p>Or, put another way:</p>
<p><span class="math inline">\(7^8=7\times7\times7\times7\times7\times7\times7\times7\)</span></p>
<p>We have all kinds of fun facts! Ready?</p>
<p>In the example <span class="math inline">\(7^8\)</span>, the number <span class="math inline">\(7\)</span> is what we call the <em>base</em> and the number <span class="math inline">\(8\)</span> we call the <em>exponent</em>.</p>
<p>If you want to write that code in Python, you’d write:</p>
<div class="sourceCode" id="cb487"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb487-1"><a href="#cb487-1" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="dv">7</span><span class="op">**</span><span class="dv">8</span>)  <span class="co"># prints 5764801</span></span></code></pre></div>
<p>The exponent must be non-negative, so zero or larger.</p>
<p>But wait—zero? How do you multiply a number by itself zero times? It’s a valid question, and one that has baffled philosophers for time immemorial. But not mathematicians! Like power-crazed numerical dictators, they cried, “We made this up, and we declare that <em>anything</em> to the zeroth power is <span class="math inline">\(1\)</span>. End of story!”</p>
<p>So there we have it. <span class="math inline">\(n^0=1\)</span> for all <span class="math inline">\(n\)</span>.</p>
<p>But their unquenchable thirst for power didn’t end there. Mathematicians also decided that there was such a thing as <em>negative exponents</em>.</p>
<p>If you have a negative exponent, you need to invert the fraction before applying the exponent. The following is true:</p>
<p><span class="math inline">\(4^{-3}=\left(\cfrac{1}{4}\right)^3\)</span></p>
<p><span class="math inline">\(\left(\cfrac{3}{4}\right)^{-8}=\left(\cfrac{4}{3}\right)^8\)</span></p>
<p>And in case you’re wondering how to raise a fraction to an exponent, you just apply the exponent to the numerator and denominator:</p>
<p><span class="math inline">\(\left(\cfrac{4}{3}\right)^8=\cfrac{4^8}{3^8}=\cfrac{65536}{6561}\)</span></p>
<p>We also have some shorthand names for certain exponents.</p>
<p><span class="math inline">\(n^2\)</span> we say “<span class="math inline">\(n\)</span> squared”. Anything raised to the power of <span class="math inline">\(2\)</span> is that number <em>squared</em>.</p>
<p><span class="math inline">\(n^3\)</span> we say “<span class="math inline">\(n\)</span> cubed”. Anything raised to the third power is that number <em>cubed</em>.</p>
<p>In casual writing, you’ll often see the caret character <code>^</code> used to indicate an exponent. So if someone writes <code>14^4</code>, that’s the same as <span class="math inline">\(14^4\)</span>.</p>
<p>Lastly, precedence. We know that multiplication and division happen before addition and subtraction, but what about exponentiation?</p>
<p>Here’s the rule: exponentiation happens before arithmetic.</p>
<p>With <span class="math inline">\(2+3^4\)</span>, we first compute <span class="math inline">\(3^4=81\)</span>, <em>then</em> add <span class="math inline">\(2\)</span> for a total of <span class="math inline">\(83\)</span>.</p>
<h2 id="parentheses">Parentheses</h2>
<p>So what if you <em>want</em> to change the order of operations, like some kind of mathematical rebel?</p>
<p>What if you have <span class="math inline">\(1+2^3\)</span> and you want <span class="math inline">\(1+2\)</span> to happen before the exponentiation?</p>
<p>You can use parentheses to indicate that operation should occur first, like this:</p>
<p><span class="math inline">\((1+2)^3\)</span></p>
<p>With that, we first compute <span class="math inline">\(1+2=3\)</span>, and then we raise that to the 3rd power for a result of <span class="math inline">\(27\)</span>.</p>
<p>You could also do this:</p>
<p><span class="math inline">\(2^{(3+4)}\)</span></p>
<p>Remember: parentheses first! <span class="math inline">\(3+4=7\)</span>, so we want to compute <span class="math inline">\(2^7\)</span> which is <span class="math inline">\(128\)</span>. (Good software developers have all the powers of <span class="math inline">\(2\)</span> memorized up through <span class="math inline">\(2^{16}\)</span>. Well, crazy ones do, anyway.)</p>
<p>Python uses parentheses, as well. The above expression could be written in Python like this:</p>
<div class="sourceCode" id="cb488"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb488-1"><a href="#cb488-1" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span><span class="op">**</span>(<span class="dv">3</span><span class="op">+</span><span class="dv">4</span>)</span></code></pre></div>
<p>Easy peasy.</p>
<p>One final note: if an exponent is a long expression without parentheses, it turns out the parentheses are <em>implied</em>. The following equation is true:</p>
<p><span class="math inline">\(2^{(3+4)}=2^{3+4}\)</span></p>
<h2 id="square-root">Square root</h2>
<p>Square root is a funny one. It’s the opposite of <em>squaring</em>, which if you remember from the earlier section means <em>raising to a power of 2</em>. But, again, <em>square root</em> is the opposite of that.</p>
<p>It’s asking the question, “For a given number, which number do I have to multiply by itself to get that number?”</p>
<p>Let’s examplify!</p>
<p>But before we do, the weird lightning bolt line thing is the mathematical symbol for the square root of a number.</p>
<p>Let’s ask for the square root of 9:</p>
<p><span class="math inline">\(\sqrt9=?\)</span></p>
<p>That’s asking, what number multiplied by itself makes <span class="math inline">\(9\)</span>? Or, in other words, what number raised to the 2nd power makes <span class="math inline">\(9\)</span>? Or, in other words, what number squared makes <span class="math inline">\(9\)</span>?</p>
<p>Hopefully by now you’ve determined that:</p>
<p><span class="math inline">\(3\times3=9\)</span></p>
<p>and, equivalently:</p>
<p><span class="math inline">\(3^2=9\)</span></p>
<p>so therefore:</p>
<p><span class="math inline">\(\sqrt9=3\)</span></p>
<p>What about some other ones?</p>
<p><span class="math inline">\(\sqrt{16}=?\)</span> <span class="math inline">\(\sqrt{25}=?\)</span> <span class="math inline">\(\sqrt{36}=?\)</span> <span class="math inline">\(\sqrt{12180100}=?\)</span></p>
<p>Note that all of those have integer answers. If the square root of number is an integer, we call that number a <em>perfect square</em>. 16, 25, 36… these are all perfect squares.</p>
<p>But you can take the square root of any number.</p>
<p><span class="math inline">\(\sqrt{17}=4.123105625617661\)</span> approximately.</p>
<p>17 is <em>not</em> a perfect square, since it doesn’t have an integer result.</p>
<p>Now, you might be imagining what would happen if you tried to take the square root of a negative number:</p>
<p><span class="math inline">\(\sqrt{-100}=?\)</span></p>
<p>After a bit of thought, you might realize that no number multiplied by itself can ever result in <span class="math inline">\(-100\)</span> so… what can you do?</p>
<p>You might think, “We’re doomed,” but not mathematicians! They simply defined:</p>
<p><span class="math inline">\(\sqrt{-1}=i\)</span></p>
<p>and invented an entire mathematical system around what they called <a href="https://en.wikipedia.org/wiki/Imaginary_number"><em>imaginary numbers</em></a><a href="#fn175" class="footnote-ref" id="fnref175" role="doc-noteref"><sup>175</sup></a> that actually have some amazing applications. But that’s something you can look up on your own.</p>
<p>In addition to square roots, there are also cube roots. This is asking, “What number cubed results in this number?” This is indicated by a small <span class="math inline">\(3\)</span> above the root symbol:</p>
<p><span class="math inline">\(\sqrt[3]{27}=x\)</span></p>
<p>which is the inverse of the equation:</p>
<p><span class="math inline">\(x^3=27\)</span></p>
<p>Can you figure out what <span class="math inline">\(x\)</span> is?</p>
<p>What about how to do this in Python?</p>
<p>For square roots, the preferred way is to use the <code>sqrt()</code> function in the <code>math</code> module that you <code>import</code>:</p>
<div class="sourceCode" id="cb489"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb489-1"><a href="#cb489-1" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> math</span>
<span id="cb489-2"><a href="#cb489-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb489-3"><a href="#cb489-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(math.sqrt(<span class="dv">12180100</span>))  <span class="co"># prints 3490.0</span></span></code></pre></div>
<p>What about cube roots? Well, for that, we’re going to jump back to exponents and learn a little secret. You can raise numbers to <em>fractional</em> powers. Now, there are a lot of rules around this, but the short of it is that these equations are true:</p>
<p><span class="math inline">\(\sqrt{x}=x^\frac{1}{2}\)</span>    <span class="math inline">\(\sqrt[3]{x}=x^\frac{1}{3}\)</span>    <span class="math inline">\(\sqrt[4]{x}=x^\frac{1}{4}\)</span></p>
<p>and so on. Raising a number to the <span class="math inline">\(\frac{1}{3}\)</span> power is the same as taking the cube root!</p>
<p>Like if we wanted to compute the cube root of <span class="math inline">\(4913\)</span>, we could compute:</p>
<p><span class="math inline">\(\sqrt[3]{4913}=4913^\frac{1}{3}=17\)</span></p>
<p>And you can do that in Python with the regular exponent operator <code>**</code>:</p>
<div class="sourceCode" id="cb490"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb490-1"><a href="#cb490-1" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="dv">4913</span><span class="op">**</span>(<span class="dv">1</span><span class="op">/</span><span class="dv">3</span>))  <span class="co"># prints 16.999999999999996</span></span></code></pre></div>
<p>Hey—wait a second, that’s not <span class="math inline">\(17\)</span>! What gives?</p>
<p>Well, turns out that floating point numbers in computers aren’t exact. They’re close, but not exact. It’s something developers need to be aware of and either live with or work around.</p>
<p>Lastly, because square root, cube root, and all the other roots are just exponents in disguise, they have the same precedence as exponents: they happen <em>before</em> arithmetic.</p>
<h2 id="factorial">Factorial</h2>
<p>Factorial is a fun function.</p>
<p>Basically if I ask for something like “5 factorial”, that means that I want to know the answer when we multiply 5 by all integers less than 5, down to 1.</p>
<p>So I’d want to know:</p>
<p><span class="math inline">\(5\times4\times3\times2\times1\)</span></p>
<p>the answer to which is <span class="math inline">\(120\)</span>.</p>
<p>But writing “factorial” is kind of clunky, so we have special notation for it: the exclamation point: <span class="math inline">\(!\)</span>. “5 factorial” is written <span class="math inline">\(5!\)</span>.</p>
<p>Another example:</p>
<p><span class="math inline">\(6!=6\times5\times4\times3\times2\times1=720\)</span></p>
<p>As you can imagine, factorial grows very quickly.</p>
<p><span class="math inline">\(40!=815915283247897734345611269596115894272000000000\)</span></p>
<p>In Python, you can compute factorial by using the <code>factorial()</code> function in the <code>math</code> module.</p>
<div class="sourceCode" id="cb491"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb491-1"><a href="#cb491-1" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> math</span>
<span id="cb491-2"><a href="#cb491-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb491-3"><a href="#cb491-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(math.factorial(<span class="dv">10</span>))  <span class="co"># prints 3628800</span></span></code></pre></div>
<p>Factorial, being multiplication in disguise, has the same precedence as multiplication. You do it before addition and subtraction.</p>
<h2 id="scientific-notation">Scientific notation</h2>
<p>For really large floating point numbers, you might see things like this appear:</p>
<div class="sourceCode" id="cb492"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb492-1"><a href="#cb492-1" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="fl">2.7</span><span class="op">**</span><span class="dv">100</span>)  <span class="co"># 1.3689147905858927e+43</span></span></code></pre></div>
<p>What’s that <code>e+43</code> at the end?</p>
<p>This is what we call <em>scientific notation</em>. It’s a shorthand way of writing really large (or small) numbers.</p>
<p>The number above, <code>1.3689147905858927e+43</code>, is saying this, mathematically:</p>
<p><span class="math inline">\(1.3689147905858927\times10^{43}\)</span></p>
<p>Now, <span class="math inline">\(10^{43}\)</span> is a <em>big</em> number. So multiplying <span class="math inline">\(1.3689\)</span> etc. by it results in a very large number, indeed.</p>
<p>But that’s not all. We can use it to represent very small numbers, too.</p>
<div class="sourceCode" id="cb493"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb493-1"><a href="#cb493-1" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="fl">3.6</span><span class="op">/</span><span class="dv">5000000000000000000</span>)   <span class="co"># 7.2e-19 </span></span></code></pre></div>
<p><code>7.2e-19</code> means:</p>
<p><span class="math inline">\(7.2\times10^{-19}\)</span></p>
<p>And <span class="math inline">\(10^{-19}\)</span> is a very small number (very close to 0—remember that <span class="math inline">\(10^{-19}=\frac{1}{10^{19}}\)</span>), so multiplying <span class="math inline">\(7.2\)</span> by it results in a very small number as well.</p>
<p>Remember this:</p>
<ul>
<li>If you see <code>e-something</code> at the end, it’s a very small number (close to 0).</li>
<li>If you see <code>e+something</code> at the end, it’s a very large number (far from 0).</li>
</ul>
<h2 id="logarithms">Logarithms</h2>
<p>Hang on, because things are about to get weird.</p>
<p>Well, not <em>too</em> weird, but pretty weird.</p>
<p>Logarithms, or <em>logs</em> for short, are kind of the opposite of exponents.</p>
<p>But not opposite in the same way square roots are opposite.</p>
<p>That’s convenient, right?</p>
<p>With logs, we say “log base x of y”. For example, “log base 2 of 32”, which is written like this:</p>
<p><span class="math inline">\(\log_2{32}\)</span></p>
<p>What that is asking is “2 to the what power is 32?” Or, in math:</p>
<p>These are both true:</p>
<p><span class="math inline">\(x=\log_2{32}\)</span></p>
<p><span class="math inline">\(2^x=32\)</span></p>
<p>So what’s the answer? Some trial and error might lead you to realize that <span class="math inline">\(2^5=32\)</span>, so therefore:</p>
<p><span class="math inline">\(x=\log_2{32}=5\)</span></p>
<p>There are three common bases that you see for logs, though the base can be any number: 2, 10, and <span class="math inline">\(e\)</span>.</p>
<p>Base 2 is super common in programming. In fact, it’s so common that if you ever see someone write <span class="math inline">\(\log{n}\)</span> in a computing context, you should assume they mean <span class="math inline">\(\log_2{n}\)</span>.</p>
<p><span class="math inline">\(e\)</span> is the base of the <a href="https://en.wikipedia.org/wiki/Natural_logarithm"><em>natural logarithm</em></a><a href="#fn176" class="footnote-ref" id="fnref176" role="doc-noteref"><sup>176</sup></a>, common in math, and uncommon in computing.</p>
<p>So what are they good for?</p>
<p>A common place you see logarithms in programming is when using Big-O notation to indicate <a href="https://en.wikipedia.org/wiki/Big_O_notation">computational complexity</a><a href="#fn177" class="footnote-ref" id="fnref177" role="doc-noteref"><sup>177</sup></a>.</p>
<p>To compute the log of a number in Python, use the <code>log()</code> function in the <code>math</code> module. You specify the base as the second argument. (If unspecified, it computes the natural log, base <span class="math inline">\(e\)</span>.)</p>
<p>For example, to compute <span class="math inline">\(\log_2{999}\)</span>:</p>
<div class="sourceCode" id="cb494"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb494-1"><a href="#cb494-1" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> math</span>
<span id="cb494-2"><a href="#cb494-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb494-3"><a href="#cb494-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(math.log(<span class="dv">999</span>, <span class="dv">2</span>))   <span class="co"># Prints 9.96434086779242</span></span>
<span id="cb494-4"><a href="#cb494-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb494-5"><a href="#cb494-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Because 2^9.96434086779242 == 999. Ish.</span></span></code></pre></div>
<p>The big thing to remember there is that as a number gets large, the log of the number remains small. Here are some examples:</p>
<table>
<thead>
<tr class="header">
<th style="text-align: right;"><em>x</em></th>
<th style="text-align: right;">log<sub>2</sub><em>x</em></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.0000</td>
</tr>
<tr class="even">
<td style="text-align: right;">10</td>
<td style="text-align: right;">3.3219</td>
</tr>
<tr class="odd">
<td style="text-align: right;">100</td>
<td style="text-align: right;">6.6439</td>
</tr>
<tr class="even">
<td style="text-align: right;">1000</td>
<td style="text-align: right;">9.9658</td>
</tr>
<tr class="odd">
<td style="text-align: right;">10000</td>
<td style="text-align: right;">13.2877</td>
</tr>
<tr class="even">
<td style="text-align: right;">100000</td>
<td style="text-align: right;">16.6096</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1000000</td>
<td style="text-align: right;">19.9316</td>
</tr>
<tr class="even">
<td style="text-align: right;">10000000</td>
<td style="text-align: right;">23.2535</td>
</tr>
</tbody>
</table>
<p>The log-base-2 of a big number tends to be a much smaller number.</p>
<h2 id="rounding">Rounding</h2>
<p>When we round a number, we are looking for the <em>nearest number</em> of a certain number of decimal places, dropping all the decimal places smaller than that.</p>
<p>By default, we mean zero decimal places, i.e. we want to round to the nearest whole number.</p>
<p>So if I said, “Round 2.3 to the nearest whole number,” you’d answer “2”, because that’s the closest whole number to 2.3.</p>
<p>And if I said, “Round 2.8 to the nearest whole number,” you’d answer “3”, because that’s the closest whole number to 2.8.</p>
<p>When we round to a higher number, we call that <em>rounding up</em>.</p>
<p>The other direction is <em>rounding down</em>.</p>
<p>But what if I said “Round 2.5 to the nearest whole number?” It’s perfectly between 2 and 3! In those cases, conventionally, lots of us learned to round up. So the answer would be 3.</p>
<p>We can also force a number to round a certain direction by declaring which way to round.</p>
<p>“Divide <em>x</em> by 3, then round up.”</p>
<p>In Python, we have a few options for rounding.</p>
<p>We can use the built-in <code>round()</code> function.</p>
<p>But it behaves a little bit differently than we might be used to. Notably, numbers like 1.5, 2.5, and 3.5 that are equally close to two whole numbers <em>always round to the nearest even number</em>. This is commonly known as <em>round half to even</em> or <em>banker’s rounding</em>.</p>
<div class="sourceCode" id="cb495"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb495-1"><a href="#cb495-1" aria-hidden="true" tabindex="-1"></a>    <span class="bu">round</span>(<span class="fl">2.8</span>)  <span class="co"># 3</span></span>
<span id="cb495-2"><a href="#cb495-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">round</span>(<span class="op">-</span><span class="fl">2.2</span>) <span class="co"># -2</span></span>
<span id="cb495-3"><a href="#cb495-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">round</span>(<span class="op">-</span><span class="fl">2.8</span>) <span class="co"># -3</span></span>
<span id="cb495-4"><a href="#cb495-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb495-5"><a href="#cb495-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">round</span>(<span class="fl">1.5</span>)  <span class="co"># 2</span></span>
<span id="cb495-6"><a href="#cb495-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">round</span>(<span class="fl">2.5</span>)  <span class="co"># 2</span></span>
<span id="cb495-7"><a href="#cb495-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">round</span>(<span class="fl">3.5</span>)  <span class="co"># 4</span></span></code></pre></div>
<p>You can also tell <code>round()</code> how many decimal places you want to round to:</p>
<div class="sourceCode" id="cb496"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb496-1"><a href="#cb496-1" aria-hidden="true" tabindex="-1"></a>    <span class="bu">round</span>(<span class="fl">3.1415926</span>, <span class="dv">4</span>)  <span class="co"># 3.1416</span></span></code></pre></div>
<p>Note that Python has <a href="https://docs.python.org/3/tutorial/floatingpoint.html#tut-fp-issues">additional weird rounding behavior</a><a href="#fn178" class="footnote-ref" id="fnref178" role="doc-noteref"><sup>178</sup></a> due to the limited precision of floating point numbers.</p>
<p>For always rounding up or down, use the functions <code>ceil()</code> and <code>floor()</code> from the <code>math</code> module.</p>
<p><code>ceil()</code> returns the next integer greater than this number, and <code>floor()</code> returns the previous integer smaller than this number.</p>
<p>This makes perfect sense for positive numbers:</p>
<div class="sourceCode" id="cb497"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb497-1"><a href="#cb497-1" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> math</span>
<span id="cb497-2"><a href="#cb497-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb497-3"><a href="#cb497-3" aria-hidden="true" tabindex="-1"></a>    math.ceil(<span class="fl">2.1</span>)  <span class="co"># 3</span></span>
<span id="cb497-4"><a href="#cb497-4" aria-hidden="true" tabindex="-1"></a>    math.ceil(<span class="fl">2.9</span>)  <span class="co"># 3</span></span>
<span id="cb497-5"><a href="#cb497-5" aria-hidden="true" tabindex="-1"></a>    math.ceil(<span class="fl">3.0</span>)  <span class="co"># 3</span></span>
<span id="cb497-6"><a href="#cb497-6" aria-hidden="true" tabindex="-1"></a>    math.ceil(<span class="fl">3.1</span>)  <span class="co"># 4</span></span>
<span id="cb497-7"><a href="#cb497-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb497-8"><a href="#cb497-8" aria-hidden="true" tabindex="-1"></a>    math.floor(<span class="fl">2.1</span>)  <span class="co"># 2</span></span>
<span id="cb497-9"><a href="#cb497-9" aria-hidden="true" tabindex="-1"></a>    math.floor(<span class="fl">2.9</span>)  <span class="co"># 2</span></span>
<span id="cb497-10"><a href="#cb497-10" aria-hidden="true" tabindex="-1"></a>    math.floor(<span class="fl">3.0</span>)  <span class="co"># 3</span></span>
<span id="cb497-11"><a href="#cb497-11" aria-hidden="true" tabindex="-1"></a>    math.floor(<span class="fl">3.1</span>)  <span class="co"># 3</span></span></code></pre></div>
<p>But with negative numbers, it behaves differently than you might expect:</p>
<div class="sourceCode" id="cb498"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb498-1"><a href="#cb498-1" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> math</span>
<span id="cb498-2"><a href="#cb498-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb498-3"><a href="#cb498-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">round</span>(<span class="fl">2.3</span>)        <span class="co"># 2</span></span>
<span id="cb498-4"><a href="#cb498-4" aria-hidden="true" tabindex="-1"></a>    math.floor(<span class="fl">2.3</span>)   <span class="co"># 2</span></span>
<span id="cb498-5"><a href="#cb498-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb498-6"><a href="#cb498-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">round</span>(<span class="op">-</span><span class="fl">2.3</span>)       <span class="co"># -2</span></span>
<span id="cb498-7"><a href="#cb498-7" aria-hidden="true" tabindex="-1"></a>    math.floor(<span class="op">-</span><span class="fl">2.3</span>)  <span class="co"># -3 (!!)</span></span>
<span id="cb498-8"><a href="#cb498-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb498-9"><a href="#cb498-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">round</span>(<span class="fl">2.8</span>)        <span class="co"># 3</span></span>
<span id="cb498-10"><a href="#cb498-10" aria-hidden="true" tabindex="-1"></a>    math.ceil(<span class="fl">2.8</span>)    <span class="co"># 3</span></span>
<span id="cb498-11"><a href="#cb498-11" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb498-12"><a href="#cb498-12" aria-hidden="true" tabindex="-1"></a>    <span class="bu">round</span>(<span class="op">-</span><span class="fl">2.8</span>)       <span class="co"># -3</span></span>
<span id="cb498-13"><a href="#cb498-13" aria-hidden="true" tabindex="-1"></a>    math.ceil(<span class="op">-</span><span class="fl">2.8</span>)   <span class="co"># -2 (!!)</span></span></code></pre></div>
<p>While <code>round()</code> heads to the nearest integer, <code>floor()</code> goes to the <em>next smallest</em> integer. With negative numbers, that’s the next one farther away from zero. And the reverse is true for <code>ceil()</code>.</p>
<p>If you want a round up function that works on positive and negative numbers, you could write a helper function like this:</p>
<div class="sourceCode" id="cb499"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb499-1"><a href="#cb499-1" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> math</span>
<span id="cb499-2"><a href="#cb499-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb499-3"><a href="#cb499-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> round_up(x):</span>
<span id="cb499-4"><a href="#cb499-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> math.ceil(x) <span class="cf">if</span> x <span class="op">&gt;=</span><span class="dv">0</span> <span class="cf">else</span> math.floor(x)</span>
<span id="cb499-5"><a href="#cb499-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb499-6"><a href="#cb499-6" aria-hidden="true" tabindex="-1"></a>    round_up(<span class="fl">2.0</span>)   <span class="co"># 2</span></span>
<span id="cb499-7"><a href="#cb499-7" aria-hidden="true" tabindex="-1"></a>    round_up(<span class="fl">2.1</span>)   <span class="co"># 3</span></span>
<span id="cb499-8"><a href="#cb499-8" aria-hidden="true" tabindex="-1"></a>    round_up(<span class="fl">2.8</span>)   <span class="co"># 3</span></span>
<span id="cb499-9"><a href="#cb499-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb499-10"><a href="#cb499-10" aria-hidden="true" tabindex="-1"></a>    round_up(<span class="op">-</span><span class="fl">2.0</span>)   <span class="co"># -2</span></span>
<span id="cb499-11"><a href="#cb499-11" aria-hidden="true" tabindex="-1"></a>    round_up(<span class="op">-</span><span class="fl">2.1</span>)   <span class="co"># -3</span></span>
<span id="cb499-12"><a href="#cb499-12" aria-hidden="true" tabindex="-1"></a>    round_up(<span class="op">-</span><span class="fl">2.8</span>)   <span class="co"># -3</span></span></code></pre></div>
<p>I’ll leave <code>round_down()</code> as an exercise. <code>:)</code></p>
<p>If you want to always round up to the next whole number instead of doing banker’s rounding, you can use this trick: add 0.5 to the number and then convert it to an <code>int()</code>. (If the number is negative, subtract 0.5 from it.)</p>
<div class="sourceCode" id="cb500"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb500-1"><a href="#cb500-1" aria-hidden="true" tabindex="-1"></a>    <span class="bu">int</span>(<span class="fl">0.5</span> <span class="op">+</span> <span class="fl">0.5</span>)  <span class="co"># 1</span></span>
<span id="cb500-2"><a href="#cb500-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">int</span>(<span class="fl">1.5</span> <span class="op">+</span> <span class="fl">0.5</span>)  <span class="co"># 2</span></span>
<span id="cb500-3"><a href="#cb500-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">int</span>(<span class="fl">2.5</span> <span class="op">+</span> <span class="fl">0.5</span>)  <span class="co"># 3</span></span>
<span id="cb500-4"><a href="#cb500-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb500-5"><a href="#cb500-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">int</span>(<span class="fl">2.8</span> <span class="op">+</span> <span class="fl">0.5</span>)  <span class="co"># 3</span></span>
<span id="cb500-6"><a href="#cb500-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">int</span>(<span class="fl">2.2</span> <span class="op">+</span> <span class="fl">0.5</span>)  <span class="co"># 2</span></span>
<span id="cb500-7"><a href="#cb500-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb500-8"><a href="#cb500-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">int</span>(<span class="op">-</span><span class="fl">2.2</span> <span class="op">-</span> <span class="fl">0.5</span>) <span class="co"># -2</span></span>
<span id="cb500-9"><a href="#cb500-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">int</span>(<span class="op">-</span><span class="fl">2.8</span> <span class="op">-</span> <span class="fl">0.5</span>) <span class="co"># -3</span></span></code></pre></div>
<h2 id="large-numbers">Large Numbers</h2>
<p>Python is really good with large integer numbers. In fact, it has what we call <em>arbitrary precision integer math</em>. That means we can hold numbers as big as memory can handle, which is large.</p>
<p>So if you ask Python to compute <span class="math inline">\(100000!\)</span>, it will do it. The result, incidentally, is 465,575 digits long. No problem.</p>
<p>But the same is <em>not</em> true for floating point numbers (numbers with a decimal point). Python generally uses 64 bits to represent floating point numbers, which means there’s a limit to the amount of precision—you can only have 16 digits in your number, though you can raise that number to huge positive or negative powers to get very large or very small numbers.</p>
<p>Floating point is brilliant because it can represent really huge and really small numbers, but the number of digits you have at your disposal is limited.</p>
<h1 id="repl">Appendix B: The REPL</h1>
<h2 id="what-is-the-repl">What is the REPL?</h2>
<p>The REPL, pronounced <em>REP-əl</em>, is short for the <em>Read-Evaluate-Print Loop</em>.</p>
<p>Great. I mean, truly, that’s awesome.</p>
<p>But what does any of that mean?!</p>
<p>Check this out. If you run <code>python</code> on the command line (or whatever your OS’s variant is), you’ll end up with a prompt that looks like this:</p>
<pre><code>    $ python
    Python 3.8.0 (default, Oct 23 2019, 18:51:26) 
    [GCC 9.2.0] on linux
    Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
    &gt;&gt;&gt;</code></pre>
<p>And it just sits there, waiting for you to type something.</p>
<p>Actually, it’s <em>reading</em>. The <em>Read</em> part of REPL.</p>
<p>So type something and hit <code>RETURN</code>!</p>
<div class="sourceCode" id="cb502"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb502-1"><a href="#cb502-1" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> <span class="bu">print</span>(<span class="st">&quot;Hello, world!&quot;</span>)</span>
<span id="cb502-2"><a href="#cb502-2" aria-hidden="true" tabindex="-1"></a>    Hello, world<span class="op">!</span></span></code></pre></div>
<p>What happened after you hit <code>RETURN</code> was that Python <em>Evaluated</em> your expression, and the <em>Printed</em> the result. And then it printed another <code>&gt;&gt;&gt;</code> prompt, because it’s doing this in a <em>Loop</em>! The REPL!</p>
<p>This is a method you could use to quickly test out Python commands to see how they work. It’s not commonly used for development, but it is there if you find it convenient.</p>
<p>Any time you see the <code>&gt;&gt;&gt;</code> prompt, it’s waiting for another Python command.</p>
<div class="sourceCode" id="cb503"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb503-1"><a href="#cb503-1" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> a <span class="op">=</span> <span class="dv">20</span></span>
<span id="cb503-2"><a href="#cb503-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> b <span class="op">=</span> <span class="dv">30</span></span>
<span id="cb503-3"><a href="#cb503-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> c <span class="op">=</span> a <span class="op">+</span> b</span>
<span id="cb503-4"><a href="#cb503-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> <span class="bu">print</span>(c)</span>
<span id="cb503-5"><a href="#cb503-5" aria-hidden="true" tabindex="-1"></a>    <span class="dv">50</span></span></code></pre></div>
<p>What about multi-line commands? Let’s try printing numbers in a loop:</p>
<div class="sourceCode" id="cb504"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb504-1"><a href="#cb504-1" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">5</span>):</span>
<span id="cb504-2"><a href="#cb504-2" aria-hidden="true" tabindex="-1"></a>    ...</span></code></pre></div>
<p>Wait! What’s that <code>...</code> prompt? That means Python is waiting for more. The fact that the previous line ended in a <code>:</code> indicates that a block is to follow it. So Python is waiting for a properly-indented block. (Hit <code>RETURN</code> on a blank line to exit the block. If you get stuck in <code>...</code> mode, just keep hitting <code>RETURN</code> until you get back out to the <code>&gt;&gt;&gt;</code> prompt.)</p>
<div class="sourceCode" id="cb505"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb505-1"><a href="#cb505-1" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">5</span>):</span>
<span id="cb505-2"><a href="#cb505-2" aria-hidden="true" tabindex="-1"></a>    ...     <span class="bu">print</span>(i)</span>
<span id="cb505-3"><a href="#cb505-3" aria-hidden="true" tabindex="-1"></a>    ... </span>
<span id="cb505-4"><a href="#cb505-4" aria-hidden="true" tabindex="-1"></a>    <span class="dv">0</span></span>
<span id="cb505-5"><a href="#cb505-5" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span></span>
<span id="cb505-6"><a href="#cb505-6" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span></span>
<span id="cb505-7"><a href="#cb505-7" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span></span>
<span id="cb505-8"><a href="#cb505-8" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span></span></code></pre></div>
<h2 id="calculator">Calculator</h2>
<p>You can use the Python REPL as a quick and dirty calculator.</p>
<div class="sourceCode" id="cb506"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb506-1"><a href="#cb506-1" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> <span class="dv">50</span> <span class="op">+</span> <span class="dv">20</span> <span class="op">*</span> <span class="dv">10</span></span>
<span id="cb506-2"><a href="#cb506-2" aria-hidden="true" tabindex="-1"></a>    <span class="dv">250</span></span>
<span id="cb506-3"><a href="#cb506-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> math</span>
<span id="cb506-4"><a href="#cb506-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> math.factorial(<span class="dv">10</span>)</span>
<span id="cb506-5"><a href="#cb506-5" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3628800</span></span>
<span id="cb506-6"><a href="#cb506-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> math.sqrt(<span class="dv">2</span>)</span>
<span id="cb506-7"><a href="#cb506-7" aria-hidden="true" tabindex="-1"></a>    <span class="fl">1.4142135623730951</span></span></code></pre></div>
<h2 id="getting-help">Getting Help</h2>
<p>Python has a powerful built-in help system.</p>
<p>You can ask for help on any expression; help will be returned on the type of that expression.</p>
<p>For example, if we ask for help on a variable of type string, we get help on what we can do with that variable:</p>
<div class="sourceCode" id="cb507"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb507-1"><a href="#cb507-1" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> s <span class="op">=</span> <span class="st">&quot;Hello!&quot;</span></span>
<span id="cb507-2"><a href="#cb507-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> <span class="bu">help</span>(s)</span></code></pre></div>
<p>This will output all kinds of stuff.</p>
<pre><code>    Help on class str in module builtins:
    
    class str(object)
     |  str(object=&#39;&#39;) -&gt; str
     |  str(bytes_or_buffer[, encoding[, errors]]) -&gt; str
     |  
     |  Create a new string object from the given object. If encoding or
     |  errors is specified, then the object must expose a data buffer
     |  that will be decoded using the given encoding and error handler.</code></pre>
<p><em>Et cetera</em>. The <code>:</code> prompt at the bottom is the prompt for the <em>pager</em>. You can hit <code>RETURN</code> to go to the next line, or <code>SPACE</code> to go to the next page. Up and Down arrow keys also work. Type <code>q</code> to get out of the pager and return to normal.</p>
<p>The first thing you might notice are a bunch of functions that have double underscores around them, like this:</p>
<pre><code>     |  __add__(self, value, /)
     |      Return self+value.</code></pre>
<p>Those double underscores, AKA <em>dunderscores</em> or just <em>dunders</em>, indicate that this is an internal or special functions. As a beginner, you can ignore them. As you get more advanced, you might want to see how to make use of them.</p>
<p>So hit <code>SPACE</code> a bunch of times until you’re past the dunders. After that, you start getting to the documentation for the more common functions, like this one:</p>
<pre><code>     |  count(...)
     |      S.count(sub[, start[, end]]) -&gt; int
     |      
     |      Return the number of non-overlapping occurrences of substring sub in
     |      string S[start:end].  Optional arguments start and end are
     |      interpreted as in slice notation.</code></pre>
<p>We see there’s a description there of what the method does, as well as an important description of what each parameter to the function means. But let’s look at this line in particular:</p>
<pre><code>     |      S.count(sub[, start[, end]]) -&gt; int</code></pre>
<p>That’s not Python. It’s documentation, and it has its own way of being read.</p>
<p>Generally:</p>
<p>The <code>S.</code> refers to this string that we’re operating on. For example, if I say:</p>
<div class="sourceCode" id="cb512"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb512-1"><a href="#cb512-1" aria-hidden="true" tabindex="-1"></a>    <span class="co">&quot;fee fie foe foo&quot;</span>.count(<span class="st">&quot;fo&quot;</span>)</span></code></pre></div>
<p>the string <code>"fee fie foe foo"</code> is represented by <code>S</code> in the documentation.</p>
<p>The stuff after the <code>-&gt;</code> indicates the type of the return value. This function returns an integer.</p>
<p>Now, what about that <code>start</code> and <code>end</code> stuff in the middle with the square brackets?</p>
<p>In documentation, square brackets indicate <em>optional</em> parameters to the function. Notice in my example, above, I didn’t pass <code>start</code> or <code>end</code>… they’re in square brackets, so they’re optional.</p>
<p>Looking in more detail, you see the brackets are nested. This means you can make the call with a <code>sub</code> and a <code>start</code>… and <em>then</em> the <code>end</code> becomes optional. There’s no way to call it with just a <code>sub</code> and an <code>end</code>, but no <code>start</code>. The optional <code>end</code> is optional if-and-only-if the optional <code>start</code> had already been specified.</p>
<p>Finally, you can ask for help on a specific function or method:</p>
<div class="sourceCode" id="cb513"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb513-1"><a href="#cb513-1" aria-hidden="true" tabindex="-1"></a>    <span class="bu">help</span>(<span class="st">&quot;&quot;</span>.count)  <span class="co"># Get help specifically on string.count method</span></span></code></pre></div>
<h2 id="dirquick-and-dirty-help"><code>dir()</code>—Quick and Dirty Help</h2>
<p>The <code>dir()</code> built-in function is like <code>help()</code>, except extraordinarily terse. It just returns a list of the methods on a particular thing.</p>
<p>For instance, we can get that list of methods and data attached to a dictionary by asking for <code>dir({})</code> (or by passing any <code>dict</code> to <code>dir()</code>).</p>
<div class="sourceCode" id="cb514"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb514-1"><a href="#cb514-1" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> <span class="bu">dir</span>({})</span>
<span id="cb514-2"><a href="#cb514-2" aria-hidden="true" tabindex="-1"></a>    [<span class="st">&#39;__class__&#39;</span>, <span class="st">&#39;__contains__&#39;</span>, <span class="st">&#39;__delattr__&#39;</span>, <span class="st">&#39;__delitem__&#39;</span>, <span class="st">&#39;__dir__&#39;</span>,</span>
<span id="cb514-3"><a href="#cb514-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;__doc__&#39;</span>, <span class="st">&#39;__eq__&#39;</span>, <span class="st">&#39;__format__&#39;</span>, <span class="st">&#39;__ge__&#39;</span>, <span class="st">&#39;__getattribute__&#39;</span>,</span>
<span id="cb514-4"><a href="#cb514-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;__getitem__&#39;</span>, <span class="st">&#39;__gt__&#39;</span>, <span class="st">&#39;__hash__&#39;</span>, <span class="st">&#39;__init__&#39;</span>, <span class="st">&#39;__init_subclass__&#39;</span>,</span>
<span id="cb514-5"><a href="#cb514-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;__iter__&#39;</span>, <span class="st">&#39;__le__&#39;</span>, <span class="st">&#39;__len__&#39;</span>, <span class="st">&#39;__lt__&#39;</span>, <span class="st">&#39;__ne__&#39;</span>, <span class="st">&#39;__new__&#39;</span>,</span>
<span id="cb514-6"><a href="#cb514-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;__reduce__&#39;</span>, <span class="st">&#39;__reduce_ex__&#39;</span>, <span class="st">&#39;__repr__&#39;</span>, <span class="st">&#39;__reversed__&#39;</span>,</span>
<span id="cb514-7"><a href="#cb514-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;__setattr__&#39;</span>, <span class="st">&#39;__setitem__&#39;</span>, <span class="st">&#39;__sizeof__&#39;</span>, <span class="st">&#39;__str__&#39;</span>,</span>
<span id="cb514-8"><a href="#cb514-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;__subclasshook__&#39;</span>, <span class="st">&#39;clear&#39;</span>, <span class="st">&#39;copy&#39;</span>, <span class="st">&#39;fromkeys&#39;</span>, <span class="st">&#39;get&#39;</span>, <span class="st">&#39;items&#39;</span>, <span class="st">&#39;keys&#39;</span>,</span>
<span id="cb514-9"><a href="#cb514-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;pop&#39;</span>, <span class="st">&#39;popitem&#39;</span>, <span class="st">&#39;setdefault&#39;</span>, <span class="st">&#39;update&#39;</span>, <span class="st">&#39;values&#39;</span>]</span></code></pre></div>
<p>Not as good as <code>help()</code>, but it might get you the quick answer if you’re like, “What do I call to get the values out of a dictionary, again? Oh, that’s right. <code>values()</code>! Eureka!”</p>
<p>One place this is also useful is if you’re using a poorly-documented piece of software<a href="#fn179" class="footnote-ref" id="fnref179" role="doc-noteref"><sup>179</sup></a>. Asking for <code>dir()</code> on an object can give you insight on how to use it.</p>
<p>Though if you do this, beware that programmers change their undocumented interfaces <em>all the time</em> without telling people. There’s a school of thought that says if something’s undocumented, you shouldn’t use it at all, lest it be silently changed or dropped some day in the distant future. And that school has a point.</p>
<h2 id="getting-out-of-the-repl">Getting out of the REPL</h2>
<p>Oh, sure, Beej, put this section at the end of the chapter. Well, I just wanted to make sure you read the middle bit. <code>:)</code></p>
<p>Since the REPL is reading from the keyboard as a “file”, you should send an EOF (<a href="https://en.wikipedia.org/wiki/End-of-file">End Of File</a><a href="#fn180" class="footnote-ref" id="fnref180" role="doc-noteref"><sup>180</sup></a>) character to indicate that it should be done.</p>
<p>On Mac and Linux and BSD and Ultrix and MINIX and SunOS and IRIX and HP-UX and Solaris and GNU Hurd and Plan 9 From Bell Labs and any Unix variant, EOF is indicated from the keyboard with <code>CTRL-d</code>.</p>
<p>On Windows and Windows and Windows and Windows and any Windows variant and MS-DOS, EOF is indicated from the keyboard with <code>CTRL-z</code>. Followed by <code>RETURN</code>.</p>
<p>Additionally, on any system, you can type <code>exit()</code> at the <code>&gt;&gt;&gt;</code> prompt and it’ll quit out.</p>
<h1 id="assignment-behavior">Appendix C: Assignment Behavior</h1>
<p>In this book, we’ve talked about how Python variables work, but let’s dig into it a little more here.</p>
<p>When we have data of some kind, like a number or a list or a string, that’s stored in memory. And we can assign it to a variable name so that we can have a way to refer to it.</p>
<p>That variable name is a reference to the data.</p>
<p>So if everything’s a reference, that must mean that if we do this, there’s only one string, right? Just two names for the same string?</p>
<div class="sourceCode" id="cb515"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb515-1"><a href="#cb515-1" aria-hidden="true" tabindex="-1"></a>    s <span class="op">=</span> <span class="st">&quot;Beej!&quot;</span></span>
<span id="cb515-2"><a href="#cb515-2" aria-hidden="true" tabindex="-1"></a>    t <span class="op">=</span> s</span></code></pre></div>
<p>Yes! That’s exactly what that means. <code>s</code> and <code>t</code> both refer to the same string in memory. That means if you changed the string, both <code>s</code> and <code>t</code> would show the changes because they’re both two names for the same string.</p>
<p><em>But you can’t change the string! It’s immutable!</em></p>
<p>It’s the same with numbers:</p>
<div class="sourceCode" id="cb516"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb516-1"><a href="#cb516-1" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="op">-</span><span class="dv">3490</span></span>
<span id="cb516-2"><a href="#cb516-2" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> x</span></code></pre></div>
<p>Both <code>x</code> and <code>y</code> refer to the same number in memory. If you changed the number, both <code>x</code> and <code>y</code> would show the change.</p>
<p><em>But you can’t change the number! It’s immutable!</em></p>
<p>Let’s try a list:</p>
<div class="sourceCode" id="cb517"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb517-1"><a href="#cb517-1" aria-hidden="true" tabindex="-1"></a>    c <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb517-2"><a href="#cb517-2" aria-hidden="true" tabindex="-1"></a>    d <span class="op">=</span> c</span></code></pre></div>
<p>Just like with strings and numbers, both variables <code>c</code> and <code>d</code> refer to the same thing in memory. But the difference is that the list <em>is</em> mutable! We <em>can</em> change it, and we’d see the change in <code>c</code> and <code>d</code>.</p>
<div class="sourceCode" id="cb518"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb518-1"><a href="#cb518-1" aria-hidden="true" tabindex="-1"></a>    c <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb518-2"><a href="#cb518-2" aria-hidden="true" tabindex="-1"></a>    d <span class="op">=</span> c</span>
<span id="cb518-3"><a href="#cb518-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb518-4"><a href="#cb518-4" aria-hidden="true" tabindex="-1"></a>    c[<span class="dv">1</span>] <span class="op">=</span> <span class="dv">99</span></span>
<span id="cb518-5"><a href="#cb518-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(d[<span class="dv">1</span>])   <span class="co"># 99</span></span></code></pre></div>
<p>Of course, you can reassign a variable to point at anything else at any time.</p>
<h2 id="how-this-relates-to-functions">How This Relates To Functions</h2>
<p>All this adds up to Python’s call-by-sharing evaluation strategy.</p>
<p>When you call a function, all the arguments passed to the function are assigned into the parameters in the parameter list.</p>
<p>That assignment, even though it doesn’t use the <code>=</code> assignment operator, behaves in the same way, nonetheless.</p>
<p>In the following example, both <code>x</code> and <code>a</code> refer to the same object… right up to the moment we reassign <code>x</code> on line 4. At that point, <code>x</code> refers to a different list, but <code>a</code> still refers to the original.</p>
<div class="sourceCode" id="cb519"><pre class="sourceCode numberSource py numberLines"><code class="sourceCode python"><span id="cb519-1"><a href="#cb519-1"></a><span class="kw">def</span> foo(x):</span>
<span id="cb519-2"><a href="#cb519-2"></a>    x[<span class="dv">1</span>] <span class="op">=</span> <span class="dv">99</span>  <span class="co"># x still refers to the same list as a</span></span>
<span id="cb519-3"><a href="#cb519-3"></a></span>
<span id="cb519-4"><a href="#cb519-4"></a>    x <span class="op">=</span> [<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>]  <span class="co"># x refers to a different list than a, now</span></span>
<span id="cb519-5"><a href="#cb519-5"></a></span>
<span id="cb519-6"><a href="#cb519-6"></a>a <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb519-7"><a href="#cb519-7"></a>foo(a)</span></code></pre></div>
<h2 id="is-any-of-this-true">Is Any of This True?</h2>
<p>Yes, believe it!</p>
<p>We can verify it in the <a href="#repl">REPL</a> with the built-in <code>id()</code> function and the <code>is</code> operator.</p>
<p>The <code>id()</code> function will give us the location in memory where a thing (like a string or number) that a variable refers to is stored. If two variables return the same ID, they must be pointing to the same thing in memory.</p>
<p>Let’s try in the REPL:</p>
<div class="sourceCode" id="cb520"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb520-1"><a href="#cb520-1" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> s <span class="op">=</span> <span class="st">&quot;Beej!&quot;</span></span>
<span id="cb520-2"><a href="#cb520-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> s</span>
<span id="cb520-3"><a href="#cb520-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> <span class="bu">id</span>(s)</span>
<span id="cb520-4"><a href="#cb520-4" aria-hidden="true" tabindex="-1"></a>    <span class="dv">140156808252976</span></span>
<span id="cb520-5"><a href="#cb520-5" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> <span class="bu">id</span>(t)</span>
<span id="cb520-6"><a href="#cb520-6" aria-hidden="true" tabindex="-1"></a>    <span class="dv">140156808252976</span></span></code></pre></div>
<p>The exact number doesn’t matter (it will vary), but what matters is that they’re identical. Both <code>s</code> and <code>t</code> refer to the entity in memory at that location, namely the string <code>"Beej!"</code>.</p>
<p>You could compare those numbers to determine if both variables point to the same thing:</p>
<div class="sourceCode" id="cb521"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb521-1"><a href="#cb521-1" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> <span class="bu">id</span>(s) <span class="op">==</span> <span class="bu">id</span>(t)</span>
<span id="cb521-2"><a href="#cb521-2" aria-hidden="true" tabindex="-1"></a>    <span class="va">True</span></span></code></pre></div>
<p>but there’s a shorthand for that with the <code>is</code> operator:</p>
<div class="sourceCode" id="cb522"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb522-1"><a href="#cb522-1" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> s <span class="kw">is</span> t</span>
<span id="cb522-2"><a href="#cb522-2" aria-hidden="true" tabindex="-1"></a>    <span class="va">True</span></span></code></pre></div>
<p>Note that it’s typically only want you assign from one variable to another that they refer to the same thing. If you assign to them independently, they typically won’t:</p>
<div class="sourceCode" id="cb523"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb523-1"><a href="#cb523-1" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> s <span class="op">=</span> <span class="st">&quot;Beej!&quot;</span></span>
<span id="cb523-2"><a href="#cb523-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> <span class="st">&quot;Beej!&quot;</span></span>
<span id="cb523-3"><a href="#cb523-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> s <span class="kw">is</span> t</span>
<span id="cb523-4"><a href="#cb523-4" aria-hidden="true" tabindex="-1"></a>    <span class="va">False</span></span></code></pre></div>
<p>In the above example, there are two strings in memory with value <code>"Beej!"</code>.</p>
<p>I recognize that I said “typically” a bunch up there, and that should rightfully raise a bunch of “Beej is hand-waving” red flags.</p>
<p>The actual details get a bit more gritty, but if you want to stop with what we’ve said up there, you’re good.</p>
<p>“No, keep going down the rabbit hole!”</p>
<p>Okay then!</p>
<h2 id="python-compiler-optimizations">Python Compiler Optimizations</h2>
<p>If you take this example from the REPL, above:</p>
<div class="sourceCode" id="cb524"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb524-1"><a href="#cb524-1" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> s <span class="op">=</span> <span class="st">&quot;Beej!&quot;</span></span>
<span id="cb524-2"><a href="#cb524-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> <span class="st">&quot;Beej!&quot;</span></span>
<span id="cb524-3"><a href="#cb524-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> s <span class="kw">is</span> t</span>
<span id="cb524-4"><a href="#cb524-4" aria-hidden="true" tabindex="-1"></a>    <span class="va">False</span></span></code></pre></div>
<p>and you put it in a python program, like <code>test.py</code>:</p>
<div class="sourceCode" id="cb525"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb525-1"><a href="#cb525-1" aria-hidden="true" tabindex="-1"></a>    s <span class="op">=</span> <span class="st">&quot;Beej!&quot;</span></span>
<span id="cb525-2"><a href="#cb525-2" aria-hidden="true" tabindex="-1"></a>    t <span class="op">=</span> <span class="st">&quot;Beej!&quot;</span></span>
<span id="cb525-3"><a href="#cb525-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(s <span class="kw">is</span> t)</span></code></pre></div>
<p>and run it from the command line, you’d think you’d get <code>False</code>, just like in the REPL. Wrong!</p>
<pre><code>    $ python test.py
    True</code></pre>
<p>What gives? Why is it <code>False</code> in the first case and <code>True</code> in the second? Well, in the latter case, the Python interpreter is getting a little clever. Before it even runs your code, it analyzes it. It sees that you have two <code>"Beej!"</code> strings in there, so it just makes them the same one to save you memory. Since strings are immutable, you can’t tell the difference.</p>
<h2 id="internment">Internment</h2>
<p>In that same example, above:</p>
<div class="sourceCode" id="cb527"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb527-1"><a href="#cb527-1" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> s <span class="op">=</span> <span class="st">&quot;Beej!&quot;</span></span>
<span id="cb527-2"><a href="#cb527-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> <span class="st">&quot;Beej!&quot;</span></span>
<span id="cb527-3"><a href="#cb527-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> s <span class="kw">is</span> t</span>
<span id="cb527-4"><a href="#cb527-4" aria-hidden="true" tabindex="-1"></a>    <span class="va">False</span></span></code></pre></div>
<p>what if we use a different string, like “Alice”?</p>
<div class="sourceCode" id="cb528"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb528-1"><a href="#cb528-1" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> s <span class="op">=</span> <span class="st">&quot;Alice&quot;</span></span>
<span id="cb528-2"><a href="#cb528-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> <span class="st">&quot;Alice&quot;</span></span>
<span id="cb528-3"><a href="#cb528-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> s <span class="kw">is</span> t</span>
<span id="cb528-4"><a href="#cb528-4" aria-hidden="true" tabindex="-1"></a>    <span class="va">True</span></span></code></pre></div>
<p><code>True</code>?? What’s up with that? Why does Alice get special treatment?</p>
<p>Or look at this:</p>
<div class="sourceCode" id="cb529"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb529-1"><a href="#cb529-1" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> x <span class="op">=</span> <span class="dv">257</span></span>
<span id="cb529-2"><a href="#cb529-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> y <span class="op">=</span> <span class="dv">257</span></span>
<span id="cb529-3"><a href="#cb529-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> x <span class="kw">is</span> y</span>
<span id="cb529-4"><a href="#cb529-4" aria-hidden="true" tabindex="-1"></a>    <span class="va">False</span></span></code></pre></div>
<p>which is fine—but then check this out, with 256 instead of 257:</p>
<div class="sourceCode" id="cb530"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb530-1"><a href="#cb530-1" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> x <span class="op">=</span> <span class="dv">256</span></span>
<span id="cb530-2"><a href="#cb530-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> y <span class="op">=</span> <span class="dv">256</span></span>
<span id="cb530-3"><a href="#cb530-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> x <span class="kw">is</span> y</span>
<span id="cb530-4"><a href="#cb530-4" aria-hidden="true" tabindex="-1"></a>    <span class="va">True</span></span></code></pre></div>
<p><code>True</code>, again?</p>
<p>We’re getting into a deep language feature of Python called <em>internment</em>. Basically Python makes sure to only have one copy in memory of certain, specific values of data.</p>
<p>For these values, all variables will refer to the same item in memory.</p>
<p>They are:</p>
<ul>
<li>Integers between -5 and 256 inclusive.</li>
<li>Strings that contain only letters, numbers, or underscores.</li>
<li>The <code>None</code> object.</li>
</ul>
<p>This is why <code>"Beej!"</code> isn’t interned (because it contains punctuation), and why <code>"Alice"</code> <em>is</em> interned.</p>
<p>You can intern your own strings with <code>sys.intern()</code> for dictionary lookup optimization, but that’s something 99.99999% of the Python programming populace will never bother doing.</p>
<h1 id="appendix-d-number-bases">Appendix D: Number Bases</h1>
<h2 id="how-to-count-like-a-boss">How to Count like a Boss</h2>
<p>You all have figured out by now how much I love numbers. So I’m going to keep talking about them! Yay!</p>
<p>At some point, you might have heard that computers run on a bunch of 1s and 0s. That they’re binary. But what does that mean?</p>
<p>As humans, we’re used to numbers. We use them all the time. 7 Dwarves. Speed limit 55. 99 bottles of [your favorite beverage] on the wall.</p>
<p>We use the digits 0-9. And we use them repeatedly.</p>
<p>Computers, though, only have two digits: 0 and 1.</p>
<p>That seems kind of limiting. What happens if you want to go higher than 1, to say, 2?</p>
<p>Fortunately, there is a workaround. When computers want to go higher than 1, they do the same thing we humans do when we want to go higher than 9: we all add another <em>place</em>.</p>
<p>As a human counting apples on a table, you start with 0, 1, and keep going… 7, 8, 9… and then you’re out of digits for the <em>ones place</em>, which represents the number of individual items (1s of items) we’ve seen so far.</p>
<p>So you add another place, the <em>tens place</em>, which represents the number of 10s of items we’ve seen so far.</p>
<p>If we count to 27 apples, a number made up of 2 and 7, we know we have 2 10s of apples, and 7 1s of apples. Let that sink in. Every value in the 10s place is worth 10 apples. And every value in the 1s place is worth 1 apple.</p>
<p>Therefore for 27 apples, we have</p>
<p><span class="math inline">\(2\times10+7\times1=27\)</span></p>
<p>apples.</p>
<p>Let’s do the same thing with $100. With that, I’m saying there’s a 1 in the 100s place, a 0 in the 10s place, and a 0 in the 1s place. This means the value is</p>
<p><span class="math inline">\(1\times100+0\times10+0\times1\)</span></p>
<p>or $100.</p>
<p>Computers go through this same process when they run out of digits, except they run out of digits a lot sooner, since they only have two of them.</p>
<p>Let’s count apples in binary.</p>
<p>0, 1… oh no! We’re out of digits. We have to add another place. Except this time, in binary, it’s not the 10s place… it’s the 2s place.</p>
<p>0, 1, 10, 11… out of digits again! We have to add another place. This time it’s the 4s place:</p>
<p>0, 1, 10, 11, 100.</p>
<p>Let’s look at that last number. In binary, that’s saying we have 1 4, 0 2s, and 0 1s. For a total value of 4. For 5, we just have to put a 1 in the 1s place: 101.</p>
<p>In fact, we can take any number and digest it that way. Take the human number 7. That’s made up of one 4, one 2, and one 1. <span class="math inline">\(4+2+1=7\)</span>. So in binary, we need a 1 in the 4s place, the 2s place, and the 1s place. Which looks like this in binary: 111.</p>
<p>We’ve written the number 7 in two “languages”. In human language, it looks like <span class="math inline">\(7\)</span>. In computer language it looks like <span class="math inline">\(111\)</span>.</p>
<p>But, and this is important: <em>human 7 and computer 111 are the same number</em>. They’re just written in a different language, of sorts.</p>
<h2 id="number-bases">Number Bases</h2>
<p>These “number languages” actually have names for convenience. Human numbers are called Jeff, and computer numbers, Alice.</p>
<p>I’m kidding. That’s completely false—they’re not named that.</p>
<p>Human numbers are called <em>decimal</em> numbers.</p>
<p>Computer 1-and-0 numbers are called <em>binary</em> numbers.</p>
<p>We also refer to these numbers by something called their <em>base</em>. This basically means “the number of digits this number system has”.</p>
<p>In decimal, we have 10 digits: 0-9. So decimal is a <em>base 10</em> numbering system.</p>
<p>In binary, we have 2 digits: 0 and 1. So binary is a <em>base 2</em> numbering system.</p>
<p>As we saw in the previous section, 7 in decimal (base 10) is the same as 111 in binary (base 2).</p>
<p>And we also saw that as we counted up in any numbering system, when we ran out of digits, we had to add another place to create higher-valued numbers.</p>
<p>There are other number bases in use. In fact, for any number you can think of, you can use that as a base for a numbering system. Base 3. Base 3490. Base 27. Whatever you want. Of course, a base 3490 numbering system will have 3490 different digits, so I don’t know what you’re going to use for those… you’ll have to come up with a lot of new shapes to draw numbers with.</p>
<p>Base 8, AKA <em>octal</em>, isn’t that common any longer, but used to be used by programmers consistently. Since it’s base 8, it has the digits 0-7 available to use. When you use them up, you have to add another place, the 8s place.</p>
<p>Notice how when you add a second place when you’re adding up, the value of that place is the base!</p>
<p>When you run out of digits with decimal (base 10), you add the 10s place.</p>
<p>When you run out of digits with binary (base 2), you add the 2s place.</p>
<p>When you run out of digits with octal (base 8), you add the 8s place.</p>
<p>More generally, the place value is the base to the power of how many digits you are from the right of the number, just counting up.</p>
<p>With the decimal number 1234, we have 1 in the thousands place, 2 in the hundreds, 3 in the tens place, and 4 in the ones place. But the place values 1000, 100, 10, and 1 are all powers of 10:</p>
<p><span class="math inline">\(10^0=1\)</span> <span class="math inline">\(10^1=10\)</span> <span class="math inline">\(10^2=100\)</span> <span class="math inline">\(10^3=1000\)</span></p>
<p>And it’s the same in binary. If we have the binary number 1011, that’s 1 in the 8s place, 0 in the 4s place, 1 in the 2s place, and 1 in the 1s place.</p>
<p><span class="math inline">\(2^0=1\)</span> <span class="math inline">\(2^1=2\)</span> <span class="math inline">\(2^2=4\)</span> <span class="math inline">\(2^3=8\)</span></p>
<p>So the base is also tied into the value that any place in a number represents. Which makes sense, since we have to add a new place when we run out of digits, and if we have digits 0-9, that next place must represent the number of 10s, because that’s what comes after 9.</p>
<h2 id="hexadecimal-base-16">Hexadecimal, Base 16</h2>
<p>Hexadecimal, or <em>hex</em> for short, is a really common number base for programmers. And it’s an interesting one to look at because, at base 16, it has more digits than base 10. With base 10, we have 0-9. But with base 16, we have 0 through… what?</p>
<p>Since we need more symbols to represent digits in base 16 than then normal arabic numerals we use for 0-9, we’ve gone ahead and co-opted the first part of the latin alphabet. We have 10 digits in 0-9, and we grabbed 6 more “digits” with A-F to get up to 16 total digits.</p>
<p>That means when counting apples on the table in hex, we count:</p>
<p>0, 1, 2, 3, 4, 5, 6, 7, 8, 9, A, B, C, D, E, F, 10, 11, 12 …</p>
<p>(Upper and lower case don’t matter when writing numbers in hex.)</p>
<p>Look what happened when we got to F and ran out of digits: we added a new place. What value does that place have?</p>
<p>Since this is base 16, it has to be the 16s place.</p>
<p>TODO</p>
<h2 id="specifying-the-number-base-in-python">Specifying the Number Base in Python</h2>
<p>When you write down a number in your code, you have to tell Python what the base is, or it’ll assume you mean decimal (base 10).</p>
<p>For example, if I write</p>
<div class="sourceCode" id="cb531"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb531-1"><a href="#cb531-1" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="dv">10101011</span></span></code></pre></div>
<p>Is that binary? I mean, it looks like it!</p>
<p>But it’s not! Because we didn’t indicate otherwise, Python assumes this is the decimal number ten million one hundred one thousand eleven.</p>
<p>We have some options ## Writing Numbers Down</p>
<p>Throughout all this, it’s important to remember that number bases are just other languages for representing the same number. You might write number in code as</p>
<section class="footnotes" role="doc-endnotes">
<hr />
<ol>
<li id="fn1" role="doc-endnote"><p>https://docs.python.org/3/<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2" role="doc-endnote"><p>http://www.catb.org/~esr/faqs/smart-questions.html<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3" role="doc-endnote"><p>https://www.youtube.com/watch?v=ry55–J4_VQ<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4" role="doc-endnote"><p>https://en.wikipedia.org/wiki/Bourne_shell<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5" role="doc-endnote"><p>https://git-scm.com/<a href="#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn6" role="doc-endnote"><p>https://git-scm.com/downloads<a href="#fnref6" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn7" role="doc-endnote"><p>https://en.wikipedia.org/wiki/JSON<a href="#fnref7" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn8" role="doc-endnote"><p>https://docs.microsoft.com/en-us/windows/wsl/install-win10<a href="#fnref8" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn9" role="doc-endnote"><p>https://www.openvim.com/<a href="#fnref9" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn10" role="doc-endnote"><p>https://code.visualstudio.com/<a href="#fnref10" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn11" role="doc-endnote"><p>I always exaggerate.<a href="#fnref11" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn12" role="doc-endnote"><p>https://www.python.org/downloads/<a href="#fnref12" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn13" role="doc-endnote"><p>https://brew.sh/<a href="#fnref13" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn14" role="doc-endnote"><p>https://www.macports.org/<a href="#fnref14" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn15" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/hello.py<a href="#fnref15" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn16" role="doc-endnote"><p>https://en.wikiquote.org/wiki/Edsger_W._Dijkstra<a href="#fnref16" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn17" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/vartest.py<a href="#fnref17" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn18" role="doc-endnote"><p>More generally speaking, variables refer to objects, but since all we have for now is numeric values, let’s just go with values.<a href="#fnref18" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn19" role="doc-endnote"><p>Later we’ll learn that other types of buckets can hold more than one thing.<a href="#fnref19" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn20" role="doc-endnote"><p>https://en.wikipedia.org/wiki/Form_1040<a href="#fnref20" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn21" role="doc-endnote"><p>Integer division truncates the part of the number after the decimal point.<a href="#fnref21" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn22" role="doc-endnote"><p>https://en.wikipedia.org/wiki/Order_of_operations<a href="#fnref22" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn23" role="doc-endnote"><p>We call shorthand like this <em>syntactic sugar</em> because it makes things that much sweeter for the developers.<a href="#fnref23" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn24" role="doc-endnote"><p><code>input()</code> is what we call a <em>built-in</em> in Python. It comes with the language and we get to make use of it. Later we’ll learn to write our own functions from scratch!<a href="#fnref24" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn25" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/inputtest.py<a href="#fnref25" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn26" role="doc-endnote"><p>This is the way most computers represent numbers with a decimal point in them, such as <span class="math inline">\(3.14159265358979\)</span>. When you see “floating point” or “float”, think “number with a decimal point in it” as opposed to “integer”.<a href="#fnref26" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn27" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/twosum.py<a href="#fnref27" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn28" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_twosumfloat.py<a href="#fnref28" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn29" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_twosumdiff.py<a href="#fnref29" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn30" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_threesumdiff.py<a href="#fnref30" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn31" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_xsquared.py<a href="#fnref31" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn32" role="doc-endnote"><p>https://en.wikipedia.org/wiki/Quadratic_formula<a href="#fnref32" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn33" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_quadratic.py<a href="#fnref33" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn34" role="doc-endnote"><p>https://en.wikipedia.org/wiki/Scientific_notation<a href="#fnref34" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn35" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_quadratic2.py<a href="#fnref35" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn36" role="doc-endnote"><p>https://en.wikipedia.org/wiki/George_Boole<a href="#fnref36" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn37" role="doc-endnote"><p>Ooooo! <code>1</code>s and <code>0</code>s! Binary! For just a moment, here, we’re getting a glimpse of the deep workings of the machine.<a href="#fnref37" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn38" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/booltest.py<a href="#fnref38" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn39" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ifelse1.py<a href="#fnref39" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn40" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/while.py<a href="#fnref40" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn41" role="doc-endnote"><p>We could have also tested <code>i &lt;= 29</code>.<a href="#fnref41" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn42" role="doc-endnote"><p>Have two loops!<a href="#fnref42" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn43" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/hashast.py<a href="#fnref43" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn44" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_10ksum.py<a href="#fnref44" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn45" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_xfourth.py<a href="#fnref45" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn46" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_ntimes10.py<a href="#fnref46" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn47" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_oddsbetween.py<a href="#fnref47" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn48" role="doc-endnote"><p>A number <code>x</code> is divisible by <code>3</code> if <code>x % 3 == 0</code>.<a href="#fnref48" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn49" role="doc-endnote"><p>This is a famous interview problem for junior devs.<a href="#fnref49" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn50" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_fizzbuzz.py<a href="#fnref50" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn51" role="doc-endnote"><p>https://en.wikipedia.org/wiki/Turing_completeness<a href="#fnref51" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn52" role="doc-endnote"><p>We’ll talk about regular expressions, or <em>regexes</em>, later.<a href="#fnref52" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn53" role="doc-endnote"><p>More on lists in upcoming chapters.<a href="#fnref53" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn54" role="doc-endnote"><p>Spaces, tabs, and newlines.<a href="#fnref54" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn55" role="doc-endnote"><p>https://docs.python.org/3/library/stdtypes.html#string-methods<a href="#fnref55" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn56" role="doc-endnote"><p>Also called <em>squirrely braces</em>.<a href="#fnref56" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn57" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/multtable.py<a href="#fnref57" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn58" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_fstring.py<a href="#fnref58" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn59" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_goatcount.py<a href="#fnref59" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn60" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_uppervowel.py<a href="#fnref60" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn61" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_charat.py<a href="#fnref61" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn62" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_sliceat.py<a href="#fnref62" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn63" role="doc-endnote"><p>Technically, lists and dictionaries <em>are</em> objects, so we’re being a bit redundant.<a href="#fnref63" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn64" role="doc-endnote"><p>Technically we can use it to iterate over anything that’s <em>iterable</em>, which is quite a number of things.<a href="#fnref64" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn65" role="doc-endnote"><p>Idiomatic means “the standard, accepted way of doing a thing in a language”.<a href="#fnref65" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn66" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/listdouble.py<a href="#fnref66" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn67" role="doc-endnote"><p>Remember that a method is a function that you call on a particular object with the dot (<code>.</code>) operator.<a href="#fnref67" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn68" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/listops.py<a href="#fnref68" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn69" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/fiblist.py<a href="#fnref69" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn70" role="doc-endnote"><p>We’re using a technique here generally called <em>bottom-up dynamic programming</em>. But that’s a story for another time. Probably involving Fibonacci again.<a href="#fnref70" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn71" role="doc-endnote"><p>Names can be made up of letters, digits, and underscores, as long as they don’t start with a digit.<a href="#fnref71" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn72" role="doc-endnote"><p>https://en.wikipedia.org/wiki/Roguelike<a href="#fnref72" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn73" role="doc-endnote"><p>Well, not at this point in our learning, anyway.<a href="#fnref73" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn74" role="doc-endnote"><p>https://en.wikipedia.org/wiki/ANSI_escape_code<a href="#fnref74" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn75" role="doc-endnote"><p>https://www.youtube.com/watch?v=q3fx6TugN7g<a href="#fnref75" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn76" role="doc-endnote"><p>https://docs.python.org/3/howto/curses.html<a href="#fnref76" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn77" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/adv1.py<a href="#fnref77" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn78" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_refval.py<a href="#fnref78" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn79" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_listsum.py<a href="#fnref79" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn80" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_listchange.py<a href="#fnref80" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn81" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_replist.py<a href="#fnref81" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn82" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_listcompx5.py<a href="#fnref82" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn83" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_listcompcap.py<a href="#fnref83" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn84" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_listmult.py<a href="#fnref84" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn85" role="doc-endnote"><p>This is all about family trees. Did you know I’m related to Queen Elizabeth II (by marriage)? I’m her mother’s sister’s husband’s father’s father’s sister’s daughter’s husband’s wife’s (<em>drama!</em>) sister’s husband’s father’s brother’s son’s son’s daughter’s son’s daughter’s son. For realsies! I’m willing to bet that you’re related to Queen Elizabeth II, as well. That makes us cousins!<a href="#fnref85" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn86" role="doc-endnote"><p>Except via Queen Elizabeth II, like the rest of us.<a href="#fnref86" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn87" role="doc-endnote"><p>https://en.wikipedia.org/wiki/JSON<a href="#fnref87" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn88" role="doc-endnote"><p>Time complexity enthusiasts will recognize this as <span class="math inline">\(O(1)\)</span>, or <em>constant</em> time.<a href="#fnref88" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn89" role="doc-endnote"><p>If you haven’t seen it before or need a refresher, this is a value that represents “no value”. It’s a placeholder (what we call a <em>sentinel value</em>) to indicate a no-value condition.<a href="#fnref89" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn90" role="doc-endnote"><p>Or what we call <em>lexicographically sorted</em>. It’s like alphabetical, but on steroids so that it can handle letters, numbers, punctuation and so on, all of which are all numbers deep down.<a href="#fnref90" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn91" role="doc-endnote"><p>That’s Noughts and Crosses, to some of you.<a href="#fnref91" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn92" role="doc-endnote"><p>It’s not unusual.<a href="#fnref92" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn93" role="doc-endnote"><p>https://en.wikipedia.org/wiki/Universally_unique_identifier<a href="#fnref93" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn94" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/familytree.py<a href="#fnref94" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn95" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_printkeys.py<a href="#fnref95" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn96" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_printkeysvals.py<a href="#fnref96" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn97" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_list2dict.py<a href="#fnref97" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn98" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_list2dictsort.py<a href="#fnref98" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn99" role="doc-endnote"><p>https://en.wikipedia.org/wiki/Pythagorean_theorem#Euclidean_distance<a href="#fnref99" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn100" role="doc-endnote"><p>Purists will point out exceptions to this, like with <code>__add__()</code>, but let’s skip that for now.<a href="#fnref100" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn101" role="doc-endnote"><p>https://en.wikipedia.org/wiki/Don%27t_repeat_yourself<a href="#fnref101" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn102" role="doc-endnote"><p>https://docs.python.org/3/library/functions.html<a href="#fnref102" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn103" role="doc-endnote"><p>https://www.defcon.org/html/defcon-2/defcon-2.html<a href="#fnref103" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn104" role="doc-endnote"><p>This happens all the time in development.<a href="#fnref104" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn105" role="doc-endnote"><p>https://en.wikipedia.org/wiki/Evaluation_strategy<a href="#fnref105" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn106" role="doc-endnote"><p>https://en.wikipedia.org/wiki/C_(programming_language)<a href="#fnref106" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn107" role="doc-endnote"><p>https://en.wikipedia.org/wiki/Fortran<a href="#fnref107" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn108" role="doc-endnote"><p>https://en.wikipedia.org/wiki/C%2B%2B<a href="#fnref108" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn109" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/shipdist.py<a href="#fnref109" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn110" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_max.py<a href="#fnref110" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn111" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_ennum.py<a href="#fnref111" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn112" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_grav.py<a href="#fnref112" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn113" role="doc-endnote"><p>This technique is called <em>parallel arrays</em> or, in the case of Python, <em>parallel lists</em>. It’s not a popular technique today, having been made obsolete by the very thing we’re talking about in this chapter.<a href="#fnref113" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn114" role="doc-endnote"><p>https://en.wikipedia.org/wiki/Camel_case<a href="#fnref114" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn115" role="doc-endnote"><p>In fact, I think the choice to use all those underscores in <code>__init__()</code> is one of the few bad design choices in the language.<a href="#fnref115" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn116" role="doc-endnote"><p>A lot of other languages use the variable name <code>this</code> instead of <code>self</code>.<a href="#fnref116" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn117" role="doc-endnote"><p>Technically, even the methods are attributes, but we’ll get into the pedantic details another time.<a href="#fnref117" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn118" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/moviesign.py<a href="#fnref118" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn119" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/moviesign2.py<a href="#fnref119" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn120" role="doc-endnote"><p>https://docs.python.org/3/library/datetime.html<a href="#fnref120" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn121" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_car.py<a href="#fnref121" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn122" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_subway.py<a href="#fnref122" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn123" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_adv2.py<a href="#fnref123" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn124" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/example.zip<a href="#fnref124" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn125" role="doc-endnote"><p>https://docs.python.org/3/library/index.html<a href="#fnref125" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn126" role="doc-endnote"><p>https://pypi.org/<a href="#fnref126" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn127" role="doc-endnote"><p>https://docs.python.org/3/library/sys.html<a href="#fnref127" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn128" role="doc-endnote"><p>https://docs.python.org/3/library/calendar.html<a href="#fnref128" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn129" role="doc-endnote"><p>https://docs.python.org/3/library/index.html<a href="#fnref129" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn130" role="doc-endnote"><p>https://en.wikipedia.org/wiki/Comma-separated_values<a href="#fnref130" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn131" role="doc-endnote"><p>https://docs.python.org/3/library/zipfile.html<a href="#fnref131" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn132" role="doc-endnote"><p>https://en.wikipedia.org/wiki/Cyclic_redundancy_check<a href="#fnref132" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn133" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/zipdir.py<a href="#fnref133" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn134" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/example.zip<a href="#fnref134" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn135" role="doc-endnote"><p>https://docs.python.org/3/library/os.html<a href="#fnref135" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn136" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_printpid.py<a href="#fnref136" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn137" role="doc-endnote"><p>https://docs.python.org/3/library/uuid.html<a href="#fnref137" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn138" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_uuidgen.py<a href="#fnref138" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn139" role="doc-endnote"><p>https://docs.python.org/3/library/textwrap.html#textwrap.TextWrapper<a href="#fnref139" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn140" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_wrap.py<a href="#fnref140" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn141" role="doc-endnote"><p>https://docs.python.org/3/library/random.html<a href="#fnref141" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn142" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_rand1000.py<a href="#fnref142" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn143" role="doc-endnote"><p>https://docs.python.org/3/library/time.html<a href="#fnref143" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn144" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_curdate.py<a href="#fnref144" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn145" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_zipextract.py<a href="#fnref145" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn146" role="doc-endnote"><p>The Operating System is like Linux, Windows, MacOS, Unix, etc. It’s a program that helps you, the user, interface with the hardware on the system, like keyboards, screens, and disks.<a href="#fnref146" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn147" role="doc-endnote"><p>It’s a level of polish that other devs will expect. If they see you’re not thorough enough to close any files you open, they’ll wonder what else you’ve missed.<a href="#fnref147" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn148" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/fileread1.py<a href="#fnref148" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn149" role="doc-endnote"><p>Meaning, the One Right-<em>ish</em> Way to do something.<a href="#fnref149" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn150" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/lines.txt<a href="#fnref150" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn151" role="doc-endnote"><p>A function stub is a callable function that takes all the same arguments and, if necessary, returns a sensible value. But it doesn’t, in fact, do anything of use. It’s a good way to test that your overall call flow is working right. And it gives you a nice, easy TODO spot to fill out.<a href="#fnref151" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn152" role="doc-endnote"><p>https://en.wikipedia.org/wiki/Off-by-one_error<a href="#fnref152" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn153" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/lineedit.py<a href="#fnref153" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn154" role="doc-endnote"><p>True story. This was back when I was in the 7th grade and computers were a bit of a novelty. We had a daisywheel printer at home which was fairly indistinguishable from a typewriter. In real life, though, I didn’t write a program to generate the lines. I told dad about the task, and he rolled his eyes and showed me how to copy and paste in WordStar.<a href="#fnref154" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn155" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_writelines.py<a href="#fnref155" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn156" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/games.csv<a href="#fnref156" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn157" role="doc-endnote"><p>https://en.wikipedia.org/wiki/M.U.L.E.<a href="#fnref157" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn158" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_simplecsv.py<a href="#fnref158" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn159" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_multtablefile.py<a href="#fnref159" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn160" role="doc-endnote"><p>https://docs.python.org/3/library/stdtypes.html#str.split<a href="#fnref160" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn161" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/wargames.txt<a href="#fnref161" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn162" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_wc.py<a href="#fnref162" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn163" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_sort.py<a href="#fnref163" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn164" role="doc-endnote"><p>https://docs.python.org/3/library/exceptions.html<a href="#fnref164" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn165" role="doc-endnote"><p>https://docs.python.org/3/library/exceptions.html<a href="#fnref165" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn166" role="doc-endnote"><p>A traceback, also known as a <em>stack trace</em>, is a list of all the function calls that have taken place to get to this point. It’s really useful information for debugging.<a href="#fnref166" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn167" role="doc-endnote"><p>https://docs.python.org/3/library/exceptions.html<a href="#fnref167" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn168" role="doc-endnote"><p>https://docs.python.org/3/library/exceptions.html<a href="#fnref168" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn169" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/head.py<a href="#fnref169" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn170" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_catchorder.py<a href="#fnref170" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn171" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_listadd2.py<a href="#fnref171" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn172" role="doc-endnote"><p>https://beej.us/guide/bgpython/examples/ex_listadd.py<a href="#fnref172" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn173" role="doc-endnote"><p>https://www.youtube.com/watch?v=XO0pcWxcROI<a href="#fnref173" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn174" role="doc-endnote"><p>Apart from the lazy factor, that is.<a href="#fnref174" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn175" role="doc-endnote"><p>https://en.wikipedia.org/wiki/Imaginary_number<a href="#fnref175" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn176" role="doc-endnote"><p>https://en.wikipedia.org/wiki/Natural_logarithm<a href="#fnref176" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn177" role="doc-endnote"><p>https://en.wikipedia.org/wiki/Big_O_notation<a href="#fnref177" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn178" role="doc-endnote"><p>https://docs.python.org/3/tutorial/floatingpoint.html#tut-fp-issues<a href="#fnref178" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn179" role="doc-endnote"><p>Which should serve as a not-so-gentle reminder that you should document your code.<a href="#fnref179" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn180" role="doc-endnote"><p>https://en.wikipedia.org/wiki/End-of-file<a href="#fnref180" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>
</body>
</html>
